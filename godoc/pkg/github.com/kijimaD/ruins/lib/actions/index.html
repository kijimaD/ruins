<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>actions - Go Documentation Server</title>

<link type="text/css" rel="stylesheet" href="../../../../../../lib/godoc/style.css">

<script>window.initFuncs = [];</script>
<script src="../../../../../../lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.24.7";</script>
<script src="../../../../../../lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:8888/pkg/">Go Documentation Server</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:8888/pkg/">GoDoc</a></div>
<a href="index.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:8888/search">
<div id="menu">

<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package actions
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "github.com/kijimaD/ruins/lib/actions"</code></dd>
			</dl>
			<dl>
			<dd><a href="index.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="index.html#pkg-index" class="indexLink">Index</a></dd>
			
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				<p>Package actions はアクションとアクティビティの実装を提供する。
<h3 id="hdr-__">概要</h3>
<p>このパッケージは、ゲーム内のあらゆるアクション（移動、攻撃、休息など）の
具体的な実装を提供する。CDDAスタイルの中断可能なアクティビティシステムを採用し、
即座実行と継続実行の両方のアクションを統一的に管理する。
<h3 id="hdr-__">責務</h3>
<p>- アクションの具体的な実装とロジック
- アクティビティライフサイクル管理（開始、実行、中断、再開、完了）
- アクションコストの定義と管理
- ターン管理システムとの連携
<h3 id="hdr-Action_Activity_____">ActionとActivityの使い分け</h3>
<p>## Action（アクション）
**概念レベル**：ユーザーの意図や指示を表現する抽象的な概念
- **ActionAPI**: すべてのアクションの統一エントリーポイント
- **ActionParams**: アクション実行時のパラメータ
- **ActionResult**: アクション実行結果
- **ActionPoints**: アクションポイント（ターンコスト）
<p>責務：プレイヤーやAIからの「何をしたいか」の指示を受け取り、パラメータを
受け渡して結果を返却する。ターンコストの管理も行う。
<p>## Activity（アクティビティ）
**実装レベル**：具体的な処理の実行単位
- **ActivityType**: 実行可能なアクティビティの種別（移動、攻撃、休息など）
- **Activity struct**: 実行中のアクティビティの状態データ
- **ActivityInterface**: アクティビティの実行ロジック
- **各種Activity実装**: MoveActivity, AttackActivity, RestActivityなど
<p>責務：アクションの具体的な実行処理、状態管理（実行中、一時停止、完了、
キャンセル）、ライフサイクル管理（Validate, Start, DoTurn, Finish, Canceled）、
継続実行とターン管理を行う。
<p>## 関係性
```
ユーザー入力 → Action（何をしたいか） → Activity（どう実行するか）
```
Actionは外部インターフェース（API層）として機能し、Activityは内部実装
（実行エンジン層）として機能する。この分離により、外部からは単純な
Actionで指示でき、内部では複雑な継続実行・中断・再開処理をActivityで
管理できる。
<p>## 主要コンポーネントと使い分け
<p>### ActionAPI（外部インターフェース層）
**用途**：外部システムからアクションを実行する際の統一エントリーポイント
- systems/tile_input_system.go から使用（プレイヤー入力処理）
- aiinput/processor.go から使用（AI行動処理）
<p>責務：
- アクティビティの作成（パラメータからActivityを生成）
- コスト計算（APコストとターン数の計算）
- 便利メソッドの提供（QuickMove, QuickAttack, StartRestなど）
- ターン管理システムとの連携
<p>### ActivityManager（内部実行エンジン）
**用途**：アクティビティの実行管理（内部実装用）
- ActionAPIの内部でのみ使用
- 直接使用する場合はテスト目的のみ推奨
<p>責務：
- 実行中アクティビティの状態管理
- ライフサイクル制御（Start, DoTurn, Finish, Canceled）
- 実行可能性の検証
- ActivityActorとの連携（具体的な実装の呼び出し）
<p>**重要**：外部パッケージからはActionAPIを使用してください。
ActivityManagerは内部実装の詳細であり、直接使用は推奨しません。
<p>### 個別Activity実装
- **MoveActivity**: 移動アクション（即座実行）
- **AttackActivity**: 攻撃アクション（即座実行）
- **RestActivity**: 休息アクション（継続実行、中断可能）
- **WaitActivity**: 待機アクション（継続実行、中断可能）
<h3 id="hdr-__________">他パッケージとの関係</h3>
<p>```
systems → actions.ActionAPI → アクション実行
<pre>↓
</pre>
<p>actions → turns.ConsumePlayerMoves → コスト消費
```
<p>## 責務の境界
<p>- **actions**: どのような行動をするか（What Action &amp; How）
- **turns**: いつ実行するかの制御（When）
- **systems**: 何の入力から実行するか（What Input）
<h3 id="hdr-_______">アーキテクチャ</h3>
<p>## 2層構造
<p>### 1. 即座実行アクション（短期間で完了）
- 移動、攻撃、アイテム拾得など
- `TurnsTotal = 1`で残りAP1でも1ターンで完了
- シンプルな実行ロジック
<p>### 2. 継続実行アクション（複数ターンにわたる）
- 休息、読書、クラフトなど
- `TurnsTotal &gt; 1`で段階的に実行
- 中断・再開機能あり
<p>## 統一インターフェース
<p>全てのアクションは`Activity`構造体を通じて統一的に管理される：
<pre>type Activity struct {
	Type       ActivityType  // アクション種別
	State      ActivityState // 実行状態
	TurnsTotal int          // 必要ターン数
	TurnsLeft  int          // 残りターン数
	// ...
}
</pre>
<h3 id="hdr-____">設計原則</h3>
<p>1. **統一性**: 全アクションを同じインターフェースで管理
2. **拡張性**: 新しいアクションの追加が容易
3. **中断可能性**: 必要に応じてアクションを中断・再開
4. **責務分離**: アクションロジックとターン管理を分離
5. **検証**: 実行前・再開前の条件チェック
<h3 id="hdr-___">使用例</h3>
<pre>// ActionAPIを通じた統一的なアクション実行
actionAPI := actions.NewActionAPI()

// 即座実行アクション（移動）
result, err := actionAPI.QuickMove(player, destination, world)

// 継続実行アクション（休息）
result, err := actionAPI.StartRest(player, 10, world)

// アクティビティの管理
actionAPI.InterruptActivity(player, &quot;戦闘開始&quot;)
actionAPI.ResumeActivity(player, world)

// ターン毎の処理
actionAPI.ProcessTurn(world)
</pre>
<h3 id="hdr-CDDA______">CDDAとの対応関係</h3>
<p>このパッケージの設計は Cataclysm: Dark Days Ahead の activity_actor システムを参考にしている：
<p>- CDDAのactivity_actor → Activity構造体
- CDDAのdo_turn() → DoTurn()メソッド
- CDDAのfinish() → Complete()メソッド
- CDDAのcanceled() → Interrupt()メソッド
- CDDAのmove_cost → アクションコスト概念
<h3 id="hdr-____">拡張方法</h3>
<p>新しいアクションを追加する場合：
<p>1. ActivityTypeに新しい定数を追加
2. activityInfosに情報を追加
3. 具体的な実装ファイルを作成（例：new_action.go）
4. ActionAPI.createActivityに分岐を追加
5. 必要に応じてActivity.DoTurnに処理を追加

				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
				<dd><a href="index.html#pkg-constants">Constants</a></dd>
			
			
				<dd><a href="index.html#pkg-variables">Variables</a></dd>
			
			
				
				<dd><a href="index.html#CalculateRequiredTurns">func CalculateRequiredTurns(activityType ActivityType, characterAP int) int</a></dd>
			
				
				<dd><a href="index.html#GetActivityCost">func GetActivityCost(activityType ActivityType) (int, string)</a></dd>
			
				
				<dd><a href="index.html#RegisterActivityActor">func RegisterActivityActor(activityType ActivityType, actor ActivityInterface)</a></dd>
			
			
				
				<dd><a href="index.html#ActionAPI">type ActionAPI</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewActionAPI">func NewActionAPI() *ActionAPI</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ActionAPI.CancelActivity">func (api *ActionAPI) CancelActivity(entity ecs.Entity, reason string, world w.World)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ActionAPI.Execute">func (api *ActionAPI) Execute(activityType ActivityType, params ActionParams, world w.World) (*ActionResult, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ActionAPI.GetActivitySummary">func (api *ActionAPI) GetActivitySummary() map[string]interface{}</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ActionAPI.GetCurrentActivity">func (api *ActionAPI) GetCurrentActivity(entity ecs.Entity) *Activity</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ActionAPI.HasActivity">func (api *ActionAPI) HasActivity(entity ecs.Entity) bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ActionAPI.InterruptActivity">func (api *ActionAPI) InterruptActivity(entity ecs.Entity, reason string) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ActionAPI.ProcessTurn">func (api *ActionAPI) ProcessTurn(world w.World)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ActionAPI.QuickAttack">func (api *ActionAPI) QuickAttack(actor ecs.Entity, target ecs.Entity, world w.World) (*ActionResult, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ActionAPI.QuickMove">func (api *ActionAPI) QuickMove(actor ecs.Entity, dest gc.Position, world w.World) (*ActionResult, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ActionAPI.QuickPickup">func (api *ActionAPI) QuickPickup(actor ecs.Entity, world w.World) (*ActionResult, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ActionAPI.QuickWarp">func (api *ActionAPI) QuickWarp(actor ecs.Entity, world w.World) (*ActionResult, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ActionAPI.ResumeActivity">func (api *ActionAPI) ResumeActivity(entity ecs.Entity, world w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ActionAPI.StartRest">func (api *ActionAPI) StartRest(actor ecs.Entity, duration int, world w.World) (*ActionResult, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ActionAPI.StartWait">func (api *ActionAPI) StartWait(actor ecs.Entity, duration int, reason string, world w.World) (*ActionResult, error)</a></dd>
				
			
				
				<dd><a href="index.html#ActionParams">type ActionParams</a></dd>
				
				
			
				
				<dd><a href="index.html#ActionResult">type ActionResult</a></dd>
				
				
			
				
				<dd><a href="index.html#Activity">type Activity</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewActivity">func NewActivity(activityType ActivityType, actor ecs.Entity, duration int) *Activity</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Activity.CanInterrupt">func (a *Activity) CanInterrupt() bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Activity.CanResume">func (a *Activity) CanResume() bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Activity.Cancel">func (a *Activity) Cancel(reason string)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Activity.Complete">func (a *Activity) Complete()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Activity.GetDisplayName">func (a *Activity) GetDisplayName() string</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Activity.GetProgressPercent">func (a *Activity) GetProgressPercent() float64</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Activity.Interrupt">func (a *Activity) Interrupt(reason string) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Activity.IsActive">func (a *Activity) IsActive() bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Activity.IsCanceled">func (a *Activity) IsCanceled() bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Activity.IsCompleted">func (a *Activity) IsCompleted() bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Activity.Resume">func (a *Activity) Resume() error</a></dd>
				
			
				
				<dd><a href="index.html#ActivityInfo">type ActivityInfo</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#GetActivityInfo">func GetActivityInfo(activityType ActivityType) ActivityInfo</a></dd>
				
				
			
				
				<dd><a href="index.html#ActivityInterface">type ActivityInterface</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#GetActivityActor">func GetActivityActor(activityType ActivityType) ActivityInterface</a></dd>
				
				
			
				
				<dd><a href="index.html#ActivityManager">type ActivityManager</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewActivityManager">func NewActivityManager(logger *logger.Logger) *ActivityManager</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ActivityManager.CancelActivity">func (am *ActivityManager) CancelActivity(entity ecs.Entity, reason string, world w.World)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ActivityManager.GetActivitySummary">func (am *ActivityManager) GetActivitySummary() map[string]interface{}</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ActivityManager.GetCurrentActivity">func (am *ActivityManager) GetCurrentActivity(entity ecs.Entity) *Activity</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ActivityManager.HasActivity">func (am *ActivityManager) HasActivity(entity ecs.Entity) bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ActivityManager.InterruptActivity">func (am *ActivityManager) InterruptActivity(entity ecs.Entity, reason string) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ActivityManager.ProcessTurn">func (am *ActivityManager) ProcessTurn(world w.World)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ActivityManager.ResumeActivity">func (am *ActivityManager) ResumeActivity(entity ecs.Entity, world w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ActivityManager.StartActivity">func (am *ActivityManager) StartActivity(activity *Activity, world w.World) error</a></dd>
				
			
				
				<dd><a href="index.html#ActivityState">type ActivityState</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ActivityState.String">func (s ActivityState) String() string</a></dd>
				
			
				
				<dd><a href="index.html#ActivityType">type ActivityType</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ActivityType.String">func (t ActivityType) String() string</a></dd>
				
			
				
				<dd><a href="index.html#AttackActivity">type AttackActivity</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#AttackActivity.Canceled">func (aa *AttackActivity) Canceled(act *Activity, _ w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#AttackActivity.DoTurn">func (aa *AttackActivity) DoTurn(act *Activity, world w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#AttackActivity.Finish">func (aa *AttackActivity) Finish(act *Activity, _ w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#AttackActivity.Start">func (aa *AttackActivity) Start(act *Activity, _ w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#AttackActivity.Validate">func (aa *AttackActivity) Validate(act *Activity, world w.World) error</a></dd>
				
			
				
				<dd><a href="index.html#CraftActivity">type CraftActivity</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#CraftActivity.Canceled">func (ca *CraftActivity) Canceled(act *Activity, world w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#CraftActivity.DoTurn">func (ca *CraftActivity) DoTurn(act *Activity, world w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#CraftActivity.Finish">func (ca *CraftActivity) Finish(act *Activity, world w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#CraftActivity.Start">func (ca *CraftActivity) Start(act *Activity, world w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#CraftActivity.Validate">func (ca *CraftActivity) Validate(act *Activity, world w.World) error</a></dd>
				
			
				
				<dd><a href="index.html#MoveActivity">type MoveActivity</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MoveActivity.Canceled">func (ma *MoveActivity) Canceled(act *Activity, _ w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MoveActivity.DoTurn">func (ma *MoveActivity) DoTurn(act *Activity, world w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MoveActivity.Finish">func (ma *MoveActivity) Finish(act *Activity, _ w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MoveActivity.Start">func (ma *MoveActivity) Start(act *Activity, _ w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MoveActivity.Validate">func (ma *MoveActivity) Validate(act *Activity, world w.World) error</a></dd>
				
			
				
				<dd><a href="index.html#PickupActivity">type PickupActivity</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PickupActivity.Canceled">func (pa *PickupActivity) Canceled(act *Activity, _ w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PickupActivity.DoTurn">func (pa *PickupActivity) DoTurn(act *Activity, world w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PickupActivity.Finish">func (pa *PickupActivity) Finish(act *Activity, _ w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PickupActivity.Start">func (pa *PickupActivity) Start(act *Activity, _ w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PickupActivity.Validate">func (pa *PickupActivity) Validate(act *Activity, world w.World) error</a></dd>
				
			
				
				<dd><a href="index.html#ReadActivity">type ReadActivity</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ReadActivity.Canceled">func (ra *ReadActivity) Canceled(act *Activity, world w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ReadActivity.DoTurn">func (ra *ReadActivity) DoTurn(act *Activity, world w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ReadActivity.Finish">func (ra *ReadActivity) Finish(act *Activity, world w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ReadActivity.Start">func (ra *ReadActivity) Start(act *Activity, world w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ReadActivity.Validate">func (ra *ReadActivity) Validate(act *Activity, world w.World) error</a></dd>
				
			
				
				<dd><a href="index.html#RestActivity">type RestActivity</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#RestActivity.Canceled">func (ra *RestActivity) Canceled(act *Activity, world w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#RestActivity.DoTurn">func (ra *RestActivity) DoTurn(act *Activity, world w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#RestActivity.Finish">func (ra *RestActivity) Finish(act *Activity, world w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#RestActivity.Start">func (ra *RestActivity) Start(act *Activity, _ w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#RestActivity.Validate">func (ra *RestActivity) Validate(act *Activity, world w.World) error</a></dd>
				
			
				
				<dd><a href="index.html#TimingMode">type TimingMode</a></dd>
				
				
			
				
				<dd><a href="index.html#WaitActivity">type WaitActivity</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WaitActivity.Canceled">func (wa *WaitActivity) Canceled(act *Activity, _ w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WaitActivity.DoTurn">func (wa *WaitActivity) DoTurn(act *Activity, world w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WaitActivity.Finish">func (wa *WaitActivity) Finish(act *Activity, world w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WaitActivity.Start">func (wa *WaitActivity) Start(act *Activity, _ w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WaitActivity.Validate">func (wa *WaitActivity) Validate(act *Activity, _ w.World) error</a></dd>
				
			
				
				<dd><a href="index.html#WarpActivity">type WarpActivity</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WarpActivity.Canceled">func (wa *WarpActivity) Canceled(act *Activity, _ w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WarpActivity.DoTurn">func (wa *WarpActivity) DoTurn(act *Activity, world w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WarpActivity.Finish">func (wa *WarpActivity) Finish(act *Activity, world w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WarpActivity.Start">func (wa *WarpActivity) Start(act *Activity, _ w.World) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WarpActivity.Validate">func (wa *WarpActivity) Validate(act *Activity, world w.World) error</a></dd>
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/action_api.go">action_api.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity.go">activity.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity_manager.go">activity_manager.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/attack.go">attack.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/craft.go">craft.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/doc.go">doc.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/errors.go">errors.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/move.go">move.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/pickup.go">pickup.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/read.go">read.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/rest.go">rest.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/wait.go">wait.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/warp.go">warp.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
			<h2 id="pkg-constants">Constants</h2>
			
				<p>攻撃システムの定数

				<pre>const (
    <span class="comment">// 射程・距離関連</span>
    <span id="MeleeAttackRange">MeleeAttackRange</span> = 1.5 <span class="comment">// 近接攻撃の最大射程（斜めも考慮）</span>

    <span class="comment">// 命中率関連</span>
    <span id="BaseHitRate">BaseHitRate</span>          = 80 <span class="comment">// 基本命中率（%）</span>
    <span id="HitRatePerStatPoint">HitRatePerStatPoint</span>  = 2  <span class="comment">// 器用度と敏捷度の差1点あたりの命中率変化（%）</span>
    <span id="MaxHitRate">MaxHitRate</span>           = 95 <span class="comment">// 最大命中率（%）</span>
    <span id="MinHitRate">MinHitRate</span>           = 5  <span class="comment">// 最小命中率（%）</span>
    <span id="CriticalHitThreshold">CriticalHitThreshold</span> = 5  <span class="comment">// クリティカルヒット判定しきい値（%以下）</span>

    <span class="comment">// ダメージ関連</span>
    <span id="DamageRandomRange">DamageRandomRange</span>        = 6 <span class="comment">// ダメージのランダム要素（1-6）</span>
    <span id="CriticalDamageMultiplier">CriticalDamageMultiplier</span> = 3 <span class="comment">// クリティカルダメージ倍率の分子</span>
    <span id="CriticalDamageBase">CriticalDamageBase</span>       = 2 <span class="comment">// クリティカルダメージ倍率の分母（3/2 = 1.5倍）</span>
    <span id="MinDamage">MinDamage</span>                = 1 <span class="comment">// 最低保証ダメージ</span>

    <span class="comment">// 確率計算関連</span>
    <span id="DiceMax">DiceMax</span> = 100 <span class="comment">// ダイス最大値（1-100）</span>
)</pre>
			
		
		
			<h2 id="pkg-variables">Variables</h2>
			
				<p>アクティビティ関連のエラー定数

				<pre>var (
    <span class="comment">// アクティビティ一般エラー</span>
    <span id="ErrActivityNil">ErrActivityNil</span>           = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;アクティビティがnilです&#34;)
    <span id="ErrActorNotSet">ErrActorNotSet</span>           = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;アクターが設定されていません&#34;)
    <span id="ErrActivityNotFound">ErrActivityNotFound</span>      = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;アクティビティが見つかりません&#34;)
    <span id="ErrActivityActorNotFound">ErrActivityActorNotFound</span> = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;アクティビティアクターが見つかりません&#34;)
    <span id="ErrActivityCannotPause">ErrActivityCannotPause</span>   = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;アクティビティは中断できません&#34;)
    <span id="ErrActivityCannotResume">ErrActivityCannotResume</span>  = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;アクティビティは再開できません&#34;)
    <span id="ErrUnsupportedActivity">ErrUnsupportedActivity</span>   = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;未対応のアクティビティタイプです&#34;)

    <span class="comment">// 攻撃関連エラー</span>
    <span id="ErrAttackTargetNotSet">ErrAttackTargetNotSet</span>     = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;攻撃対象が設定されていません&#34;)
    <span id="ErrAttackTargetInvalid">ErrAttackTargetInvalid</span>    = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;攻撃対象が無効です&#34;)
    <span id="ErrAttackerDead">ErrAttackerDead</span>           = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;攻撃者が死亡しています&#34;)
    <span id="ErrAttackTargetNotExists">ErrAttackTargetNotExists</span>  = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;攻撃対象が存在しません&#34;)
    <span id="ErrAttackTargetDead">ErrAttackTargetDead</span>       = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;攻撃対象が既に死亡しています&#34;)
    <span id="ErrAttackOutOfRange">ErrAttackOutOfRange</span>       = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;攻撃対象が射程外です&#34;)
    <span id="ErrAttackNoWeapon">ErrAttackNoWeapon</span>         = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;攻撃手段がありません&#34;)
    <span id="ErrTargetNoPoolsComponent">ErrTargetNoPoolsComponent</span> = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;ターゲットにPoolsコンポーネントがありません&#34;)

    <span class="comment">// 移動関連エラー</span>
    <span id="ErrMoveTargetNotSet">ErrMoveTargetNotSet</span>       = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;移動先が設定されていません&#34;)
    <span id="ErrMoveTargetInvalid">ErrMoveTargetInvalid</span>      = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;移動先が無効です&#34;)
    <span id="ErrMoveTargetCoordInvalid">ErrMoveTargetCoordInvalid</span> = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;移動先の座標が無効です&#34;)
    <span id="ErrMoveNoGridElement">ErrMoveNoGridElement</span>      = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;移動するエンティティにGridElementが見つかりません&#34;)
    <span id="ErrGridElementNotFound">ErrGridElementNotFound</span>    = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;GridElementコンポーネントが見つかりません&#34;)

    <span class="comment">// アイテム関連エラー</span>
    <span id="ErrPositionNotFound">ErrPositionNotFound</span> = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;位置情報が見つかりません&#34;)
    <span id="ErrNoItemsToPickup">ErrNoItemsToPickup</span>  = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;拾えるアイテムがありません&#34;)
    <span id="ErrItemPickupFailed">ErrItemPickupFailed</span> = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;アイテムの拾得に失敗しました&#34;)

    <span class="comment">// 休息関連エラー</span>
    <span id="ErrRestEnemiesNearby">ErrRestEnemiesNearby</span>   = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;周囲に敵がいるため休息できません&#34;)
    <span id="ErrRestInvalidDuration">ErrRestInvalidDuration</span> = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;休息時間が無効です&#34;)
    <span id="ErrRestEntityNotSet">ErrRestEntityNotSet</span>    = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;休息するエンティティが指定されていません&#34;)

    <span class="comment">// 待機関連エラー</span>
    <span id="ErrWaitEntityNotSet">ErrWaitEntityNotSet</span>    = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;待機するエンティティが指定されていません&#34;)
    <span id="ErrWaitInvalidDuration">ErrWaitInvalidDuration</span> = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;待機時間が無効です&#34;)

    <span class="comment">// 読書関連エラー</span>
    <span id="ErrReadNeedsBook">ErrReadNeedsBook</span>         = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;読書には本が必要です&#34;)
    <span id="ErrReadTargetInvalid">ErrReadTargetInvalid</span>     = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;読書対象が無効です&#34;)
    <span id="ErrReadTargetNotItem">ErrReadTargetNotItem</span>     = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;読書対象がアイテムではありません&#34;)
    <span id="ErrReadBookNotInBackpack">ErrReadBookNotInBackpack</span> = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;本がバックパック内にありません&#34;)
    <span id="ErrReadTargetNotSet">ErrReadTargetNotSet</span>      = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;読書対象が指定されていません&#34;)

    <span class="comment">// クラフト関連エラー</span>
    <span id="ErrCraftNeedsRecipe">ErrCraftNeedsRecipe</span>      = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;クラフトにはレシピが必要です&#34;)
    <span id="ErrCraftTargetInvalid">ErrCraftTargetInvalid</span>    = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;クラフト対象が無効です&#34;)
    <span id="ErrCraftTargetNotRecipe">ErrCraftTargetNotRecipe</span>  = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;クラフト対象がレシピではありません&#34;)
    <span id="ErrCraftRecipeNameGet">ErrCraftRecipeNameGet</span>    = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;レシピ名が取得できません&#34;)
    <span id="ErrCraftMaterialShortage">ErrCraftMaterialShortage</span> = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;必要な材料やツールが不足しています&#34;)
    <span id="ErrCraftEntityNotSet">ErrCraftEntityNotSet</span>     = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;クラフトするエンティティが指定されていません&#34;)

    <span class="comment">// ワープ関連エラー</span>
    <span id="ErrWarpHoleNotFound">ErrWarpHoleNotFound</span> = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;ワープホールが見つかりません&#34;)
    <span id="ErrWarpUnknownType">ErrWarpUnknownType</span>  = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;不明なワープタイプです&#34;)
    <span id="ErrWarpNoHole">ErrWarpNoHole</span>       = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;ワープホールがありません&#34;)
)</pre>
			
		
		
			
			
			<h2 id="CalculateRequiredTurns">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity.go?s=9185:9260#L247">CalculateRequiredTurns</a>
				<a class="permalink" href="index.html#CalculateRequiredTurns">&#xb6;</a>
				
				
			</h2>
			<pre>func CalculateRequiredTurns(activityType <a href="index.html#ActivityType">ActivityType</a>, characterAP <a href="http://localhost:8888/pkg/builtin/#int">int</a>) <a href="http://localhost:8888/pkg/builtin/#int">int</a></pre>
			<p>CalculateRequiredTurns はキャラクターのAP量に基づいて必要ターン数を計算する

			
			

		
			
			
			<h2 id="GetActivityCost">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/action_api.go?s=11622:11683#L328">GetActivityCost</a>
				<a class="permalink" href="index.html#GetActivityCost">&#xb6;</a>
				
				
			</h2>
			<pre>func GetActivityCost(activityType <a href="index.html#ActivityType">ActivityType</a>) (<a href="http://localhost:8888/pkg/builtin/#int">int</a>, <a href="http://localhost:8888/pkg/builtin/#string">string</a>)</pre>
			<p>GetActivityCost はアクティビティタイプに応じたコストと名前を返す
<p>activityInfosテーブルから情報を取得し、統一的なコスト管理を提供する。
キャラクターの初期APが100であることを基準として、相対的なコストを定義している。
<p>返り値:
<ul>
<li>int: アクションポイントコスト（キャラクター初期AP100を基準とした相対値）
<li>string: アクション名（ログ用）
</ul>

			
			

		
			
			
			<h2 id="RegisterActivityActor">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity.go?s=7889:7967#L211">RegisterActivityActor</a>
				<a class="permalink" href="index.html#RegisterActivityActor">&#xb6;</a>
				
				
			</h2>
			<pre>func RegisterActivityActor(activityType <a href="index.html#ActivityType">ActivityType</a>, actor <a href="index.html#ActivityInterface">ActivityInterface</a>)</pre>
			<p>RegisterActivityActor はアクティビティアクターを登録する

			
			

		
		
			
			
			<h2 id="ActionAPI">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/action_api.go?s=306:381#L4">ActionAPI</a>
				<a class="permalink" href="index.html#ActionAPI">&#xb6;</a>
				
				
			</h2>
			<p>ActionAPI は全てのアクションを統一的に管理するAPI

			<pre>type ActionAPI struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewActionAPI">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/action_api.go?s=436:466#L10">NewActionAPI</a>
					<a class="permalink" href="index.html#NewActionAPI">&#xb6;</a>
					
					
				</h3>
				<pre>func NewActionAPI() *<a href="index.html#ActionAPI">ActionAPI</a></pre>
				<p>NewActionAPI は新しいActionAPIを作成する

				
				
			

			
				
				<h3 id="ActionAPI.CancelActivity">func (*ActionAPI) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/action_api.go?s=3255:3340#L93">CancelActivity</a>
					<a class="permalink" href="index.html#ActionAPI.CancelActivity">&#xb6;</a>
					
					
				</h3>
				<pre>func (api *<a href="index.html#ActionAPI">ActionAPI</a>) CancelActivity(entity <a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/">ecs</a>.<a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/#Entity">Entity</a>, reason <a href="http://localhost:8888/pkg/builtin/#string">string</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>)</pre>
				<p>CancelActivity は指定されたエンティティのアクティビティをキャンセルする

				
				
				
			
				
				<h3 id="ActionAPI.Execute">func (*ActionAPI) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/action_api.go?s=818:933#L20">Execute</a>
					<a class="permalink" href="index.html#ActionAPI.Execute">&#xb6;</a>
					
					
				</h3>
				<pre>func (api *<a href="index.html#ActionAPI">ActionAPI</a>) Execute(activityType <a href="index.html#ActivityType">ActivityType</a>, params <a href="index.html#ActionParams">ActionParams</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) (*<a href="index.html#ActionResult">ActionResult</a>, <a href="http://localhost:8888/pkg/builtin/#error">error</a>)</pre>
				<p>Execute は指定されたアクション（アクティビティ）を実行する
即座実行アクション（移動、攻撃等）も継続アクション（休息等）も統一的に処理

				
				
				
			
				
				<h3 id="ActionAPI.GetActivitySummary">func (*ActionAPI) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/action_api.go?s=3909:3974#L108">GetActivitySummary</a>
					<a class="permalink" href="index.html#ActionAPI.GetActivitySummary">&#xb6;</a>
					
					
				</h3>
				<pre>func (api *<a href="index.html#ActionAPI">ActionAPI</a>) GetActivitySummary() map[<a href="http://localhost:8888/pkg/builtin/#string">string</a>]interface{}</pre>
				<p>GetActivitySummary は全アクティビティの要約情報を取得する

				
				
				
			
				
				<h3 id="ActionAPI.GetCurrentActivity">func (*ActionAPI) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/action_api.go?s=3504:3573#L98">GetCurrentActivity</a>
					<a class="permalink" href="index.html#ActionAPI.GetCurrentActivity">&#xb6;</a>
					
					
				</h3>
				<pre>func (api *<a href="index.html#ActionAPI">ActionAPI</a>) GetCurrentActivity(entity <a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/">ecs</a>.<a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/#Entity">Entity</a>) *<a href="index.html#Activity">Activity</a></pre>
				<p>GetCurrentActivity は指定されたエンティティの現在のアクティビティを取得する

				
				
				
			
				
				<h3 id="ActionAPI.HasActivity">func (*ActionAPI) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/action_api.go?s=3726:3783#L103">HasActivity</a>
					<a class="permalink" href="index.html#ActionAPI.HasActivity">&#xb6;</a>
					
					
				</h3>
				<pre>func (api *<a href="index.html#ActionAPI">ActionAPI</a>) HasActivity(entity <a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/">ecs</a>.<a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/#Entity">Entity</a>) <a href="http://localhost:8888/pkg/builtin/#bool">bool</a></pre>
				<p>HasActivity は指定されたエンティティがアクティビティを実行中かを返す

				
				
				
			
				
				<h3 id="ActionAPI.InterruptActivity">func (*ActionAPI) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/action_api.go?s=2787:2866#L83">InterruptActivity</a>
					<a class="permalink" href="index.html#ActionAPI.InterruptActivity">&#xb6;</a>
					
					
				</h3>
				<pre>func (api *<a href="index.html#ActionAPI">ActionAPI</a>) InterruptActivity(entity <a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/">ecs</a>.<a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/#Entity">Entity</a>, reason <a href="http://localhost:8888/pkg/builtin/#string">string</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>InterruptActivity は指定されたエンティティのアクティビティを中断する

				
				
				
			
				
				<h3 id="ActionAPI.ProcessTurn">func (*ActionAPI) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/action_api.go?s=2604:2652#L78">ProcessTurn</a>
					<a class="permalink" href="index.html#ActionAPI.ProcessTurn">&#xb6;</a>
					
					
				</h3>
				<pre>func (api *<a href="index.html#ActionAPI">ActionAPI</a>) ProcessTurn(world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>)</pre>
				<p>ProcessTurn は全アクティビティの1ターン分の処理を実行する

				
				
				
			
				
				<h3 id="ActionAPI.QuickAttack">func (*ActionAPI) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/action_api.go?s=8554:8662#L245">QuickAttack</a>
					<a class="permalink" href="index.html#ActionAPI.QuickAttack">&#xb6;</a>
					
					
				</h3>
				<pre>func (api *<a href="index.html#ActionAPI">ActionAPI</a>) QuickAttack(actor <a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/">ecs</a>.<a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/#Entity">Entity</a>, target <a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/">ecs</a>.<a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/#Entity">Entity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) (*<a href="index.html#ActionResult">ActionResult</a>, <a href="http://localhost:8888/pkg/builtin/#error">error</a>)</pre>
				<p>QuickAttack は攻撃アクションのショートカット

				
				
				
			
				
				<h3 id="ActionAPI.QuickMove">func (*ActionAPI) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/action_api.go?s=8258:8363#L236">QuickMove</a>
					<a class="permalink" href="index.html#ActionAPI.QuickMove">&#xb6;</a>
					
					
				</h3>
				<pre>func (api *<a href="index.html#ActionAPI">ActionAPI</a>) QuickMove(actor <a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/">ecs</a>.<a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/#Entity">Entity</a>, dest <a href="../components/index.html">gc</a>.<a href="../components/index.html#Position">Position</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) (*<a href="index.html#ActionResult">ActionResult</a>, <a href="http://localhost:8888/pkg/builtin/#error">error</a>)</pre>
				<p>QuickMove は移動アクションのショートカット

				
				
				
			
				
				<h3 id="ActionAPI.QuickPickup">func (*ActionAPI) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/action_api.go?s=8859:8948#L254">QuickPickup</a>
					<a class="permalink" href="index.html#ActionAPI.QuickPickup">&#xb6;</a>
					
					
				</h3>
				<pre>func (api *<a href="index.html#ActionAPI">ActionAPI</a>) QuickPickup(actor <a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/">ecs</a>.<a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/#Entity">Entity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) (*<a href="index.html#ActionResult">ActionResult</a>, <a href="http://localhost:8888/pkg/builtin/#error">error</a>)</pre>
				<p>QuickPickup はアイテム拾得アクションのショートカット

				
				
				
			
				
				<h3 id="ActionAPI.QuickWarp">func (*ActionAPI) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/action_api.go?s=9114:9201#L262">QuickWarp</a>
					<a class="permalink" href="index.html#ActionAPI.QuickWarp">&#xb6;</a>
					
					
				</h3>
				<pre>func (api *<a href="index.html#ActionAPI">ActionAPI</a>) QuickWarp(actor <a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/">ecs</a>.<a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/#Entity">Entity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) (*<a href="index.html#ActionResult">ActionResult</a>, <a href="http://localhost:8888/pkg/builtin/#error">error</a>)</pre>
				<p>QuickWarp はワープアクションのショートカット

				
				
				
			
				
				<h3 id="ActionAPI.ResumeActivity">func (*ActionAPI) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/action_api.go?s=3020:3096#L88">ResumeActivity</a>
					<a class="permalink" href="index.html#ActionAPI.ResumeActivity">&#xb6;</a>
					
					
				</h3>
				<pre>func (api *<a href="index.html#ActionAPI">ActionAPI</a>) ResumeActivity(entity <a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/">ecs</a>.<a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/#Entity">Entity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>ResumeActivity は指定されたエンティティのアクティビティを再開する

				
				
				
			
				
				<h3 id="ActionAPI.StartRest">func (*ActionAPI) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/action_api.go?s=9368:9469#L270">StartRest</a>
					<a class="permalink" href="index.html#ActionAPI.StartRest">&#xb6;</a>
					
					
				</h3>
				<pre>func (api *<a href="index.html#ActionAPI">ActionAPI</a>) StartRest(actor <a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/">ecs</a>.<a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/#Entity">Entity</a>, duration <a href="http://localhost:8888/pkg/builtin/#int">int</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) (*<a href="index.html#ActionResult">ActionResult</a>, <a href="http://localhost:8888/pkg/builtin/#error">error</a>)</pre>
				<p>StartRest は休息アクティビティのショートカット

				
				
				
			
				
				<h3 id="ActionAPI.StartWait">func (*ActionAPI) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/action_api.go?s=9661:9777#L279">StartWait</a>
					<a class="permalink" href="index.html#ActionAPI.StartWait">&#xb6;</a>
					
					
				</h3>
				<pre>func (api *<a href="index.html#ActionAPI">ActionAPI</a>) StartWait(actor <a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/">ecs</a>.<a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/#Entity">Entity</a>, duration <a href="http://localhost:8888/pkg/builtin/#int">int</a>, reason <a href="http://localhost:8888/pkg/builtin/#string">string</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) (*<a href="index.html#ActionResult">ActionResult</a>, <a href="http://localhost:8888/pkg/builtin/#error">error</a>)</pre>
				<p>StartWait は待機アクティビティのショートカット

				
				
				
			
		
			
			
			<h2 id="ActionParams">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/action_api.go?s=7545:7930#L220">ActionParams</a>
				<a class="permalink" href="index.html#ActionParams">&#xb6;</a>
				
				
			</h2>
			<p>ActionParams はアクション実行時のパラメータを表す

			<pre>type ActionParams struct {
<span id="ActionParams.Actor"></span>    Actor       <a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/">ecs</a>.<a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/#Entity">Entity</a>   <span class="comment">// アクションを実行するエンティティ</span>
<span id="ActionParams.Target"></span>    Target      *<a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/">ecs</a>.<a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/#Entity">Entity</a>  <span class="comment">// 対象エンティティ（攻撃等で使用）</span>
<span id="ActionParams.Destination"></span>    Destination *<a href="../components/index.html">gc</a>.<a href="../components/index.html#Position">Position</a> <span class="comment">// 対象位置（移動等で使用）</span>
<span id="ActionParams.Duration"></span>    Duration    <a href="http://localhost:8888/pkg/builtin/#int">int</a>          <span class="comment">// 継続時間（休息、待機等で使用）</span>
<span id="ActionParams.Reason"></span>    Reason      <a href="http://localhost:8888/pkg/builtin/#string">string</a>       <span class="comment">// 理由（待機等で使用）</span>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="ActionResult">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/action_api.go?s=7988:8194#L229">ActionResult</a>
				<a class="permalink" href="index.html#ActionResult">&#xb6;</a>
				
				
			</h2>
			<p>ActionResult はアクション実行結果を表す

			<pre>type ActionResult struct {
<span id="ActionResult.Success"></span>    Success      <a href="http://localhost:8888/pkg/builtin/#bool">bool</a>         <span class="comment">// 実行成功/失敗</span>
<span id="ActionResult.ActivityType"></span>    ActivityType <a href="index.html#ActivityType">ActivityType</a> <span class="comment">// 実行されたアクティビティタイプ</span>
<span id="ActionResult.Message"></span>    Message      <a href="http://localhost:8888/pkg/builtin/#string">string</a>       <span class="comment">// 結果メッセージ</span>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Activity">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity.go?s=3249:3813#L79">Activity</a>
				<a class="permalink" href="index.html#Activity">&#xb6;</a>
				
				
			</h2>
			<p>Activity は継続的なアクション（アクティビティ）のデータを表す

			<pre>type Activity struct {
<span id="Activity.Type"></span>    Type         <a href="index.html#ActivityType">ActivityType</a>  <span class="comment">// アクティビティの種別</span>
<span id="Activity.State"></span>    State        <a href="index.html#ActivityState">ActivityState</a> <span class="comment">// 実行状態</span>
<span id="Activity.TurnsTotal"></span>    TurnsTotal   <a href="http://localhost:8888/pkg/builtin/#int">int</a>           <span class="comment">// 総必要ターン数</span>
<span id="Activity.TurnsLeft"></span>    TurnsLeft    <a href="http://localhost:8888/pkg/builtin/#int">int</a>           <span class="comment">// 残りターン数</span>
<span id="Activity.Actor"></span>    Actor        <a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/">ecs</a>.<a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/#Entity">Entity</a>    <span class="comment">// 実行者</span>
<span id="Activity.Target"></span>    Target       *<a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/">ecs</a>.<a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/#Entity">Entity</a>   <span class="comment">// 対象エンティティ（nilの場合もある）</span>
<span id="Activity.Position"></span>    Position     *<a href="../components/index.html">gc</a>.<a href="../components/index.html#Position">Position</a>  <span class="comment">// 対象位置（nilの場合もある）</span>
<span id="Activity.Message"></span>    Message      <a href="http://localhost:8888/pkg/builtin/#string">string</a>        <span class="comment">// 進行状況メッセージ</span>
<span id="Activity.CancelReason"></span>    CancelReason <a href="http://localhost:8888/pkg/builtin/#string">string</a>        <span class="comment">// キャンセル理由</span>

<span id="Activity.Logger"></span>    Logger *<a href="../logger/index.html">logger</a>.<a href="../logger/index.html#Logger">Logger</a>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewActivity">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity.go?s=8605:8690#L230">NewActivity</a>
					<a class="permalink" href="index.html#NewActivity">&#xb6;</a>
					
					
				</h3>
				<pre>func NewActivity(activityType <a href="index.html#ActivityType">ActivityType</a>, actor <a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/">ecs</a>.<a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/#Entity">Entity</a>, duration <a href="http://localhost:8888/pkg/builtin/#int">int</a>) *<a href="index.html#Activity">Activity</a></pre>
				<p>NewActivity は新しいアクティビティを作成する

				
				
			

			
				
				<h3 id="Activity.CanInterrupt">func (*Activity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity.go?s=9706:9744#L261">CanInterrupt</a>
					<a class="permalink" href="index.html#Activity.CanInterrupt">&#xb6;</a>
					
					
				</h3>
				<pre>func (a *<a href="index.html#Activity">Activity</a>) CanInterrupt() <a href="http://localhost:8888/pkg/builtin/#bool">bool</a></pre>
				<p>CanInterrupt はアクティビティが中断可能かを返す

				
				
				
			
				
				<h3 id="Activity.CanResume">func (*Activity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity.go?s=9910:9945#L267">CanResume</a>
					<a class="permalink" href="index.html#Activity.CanResume">&#xb6;</a>
					
					
				</h3>
				<pre>func (a *<a href="index.html#Activity">Activity</a>) CanResume() <a href="http://localhost:8888/pkg/builtin/#bool">bool</a></pre>
				<p>CanResume はアクティビティが再開可能かを返す

				
				
				
			
				
				<h3 id="Activity.Cancel">func (*Activity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity.go?s=10943:10983#L308">Cancel</a>
					<a class="permalink" href="index.html#Activity.Cancel">&#xb6;</a>
					
					
				</h3>
				<pre>func (a *<a href="index.html#Activity">Activity</a>) Cancel(reason <a href="http://localhost:8888/pkg/builtin/#string">string</a>)</pre>
				<p>Cancel はアクティビティをキャンセルする

				
				
				
			
				
				<h3 id="Activity.Complete">func (*Activity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity.go?s=11232:11261#L319">Complete</a>
					<a class="permalink" href="index.html#Activity.Complete">&#xb6;</a>
					
					
				</h3>
				<pre>func (a *<a href="index.html#Activity">Activity</a>) Complete()</pre>
				<p>Complete はアクティビティを完了状態にする

				
				
				
			
				
				<h3 id="Activity.GetDisplayName">func (*Activity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity.go?s=12237:12279#L354">GetDisplayName</a>
					<a class="permalink" href="index.html#Activity.GetDisplayName">&#xb6;</a>
					
					
				</h3>
				<pre>func (a *<a href="index.html#Activity">Activity</a>) GetDisplayName() <a href="http://localhost:8888/pkg/builtin/#string">string</a></pre>
				<p>GetDisplayName は表示用の名前を返す

				
				
				
			
				
				<h3 id="Activity.GetProgressPercent">func (*Activity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity.go?s=11991:12038#L345">GetProgressPercent</a>
					<a class="permalink" href="index.html#Activity.GetProgressPercent">&#xb6;</a>
					
					
				</h3>
				<pre>func (a *<a href="index.html#Activity">Activity</a>) GetProgressPercent() <a href="http://localhost:8888/pkg/builtin/#float64">float64</a></pre>
				<p>GetProgressPercent は進捗率を0-100の値で返す

				
				
				
			
				
				<h3 id="Activity.Interrupt">func (*Activity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity.go?s=10094:10143#L273">Interrupt</a>
					<a class="permalink" href="index.html#Activity.Interrupt">&#xb6;</a>
					
					
				</h3>
				<pre>func (a *<a href="index.html#Activity">Activity</a>) Interrupt(reason <a href="http://localhost:8888/pkg/builtin/#string">string</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Interrupt はアクティビティを中断する

				
				
				
			
				
				<h3 id="Activity.IsActive">func (*Activity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity.go?s=11508:11542#L330">IsActive</a>
					<a class="permalink" href="index.html#Activity.IsActive">&#xb6;</a>
					
					
				</h3>
				<pre>func (a *<a href="index.html#Activity">Activity</a>) IsActive() <a href="http://localhost:8888/pkg/builtin/#bool">bool</a></pre>
				<p>IsActive はアクティビティがアクティブかを返す

				
				
				
			
				
				<h3 id="Activity.IsCanceled">func (*Activity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity.go?s=11850:11886#L340">IsCanceled</a>
					<a class="permalink" href="index.html#Activity.IsCanceled">&#xb6;</a>
					
					
				</h3>
				<pre>func (a *<a href="index.html#Activity">Activity</a>) IsCanceled() <a href="http://localhost:8888/pkg/builtin/#bool">bool</a></pre>
				<p>IsCanceled はアクティビティがキャンセルされているかを返す

				
				
				
			
				
				<h3 id="Activity.IsCompleted">func (*Activity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity.go?s=11661:11698#L335">IsCompleted</a>
					<a class="permalink" href="index.html#Activity.IsCompleted">&#xb6;</a>
					
					
				</h3>
				<pre>func (a *<a href="index.html#Activity">Activity</a>) IsCompleted() <a href="http://localhost:8888/pkg/builtin/#bool">bool</a></pre>
				<p>IsCompleted はアクティビティが完了しているかを返す

				
				
				
			
				
				<h3 id="Activity.Resume">func (*Activity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity.go?s=10535:10568#L291">Resume</a>
					<a class="permalink" href="index.html#Activity.Resume">&#xb6;</a>
					
					
				</h3>
				<pre>func (a *<a href="index.html#Activity">Activity</a>) Resume() <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Resume はアクティビティを再開する

				
				
				
			
		
			
			
			<h2 id="ActivityInfo">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity.go?s=2122:2752#L55">ActivityInfo</a>
				<a class="permalink" href="index.html#ActivityInfo">&#xb6;</a>
				
				
			</h2>
			<p>ActivityInfo はアクティビティのメタデータを保持する

			<pre>type ActivityInfo struct {
<span id="ActivityInfo.Type"></span>    Type             <a href="index.html#ActivityType">ActivityType</a> <span class="comment">// アクティビティの種別</span>
<span id="ActivityInfo.Name"></span>    Name             <a href="http://localhost:8888/pkg/builtin/#string">string</a>       <span class="comment">// 表示名</span>
<span id="ActivityInfo.Description"></span>    Description      <a href="http://localhost:8888/pkg/builtin/#string">string</a>       <span class="comment">// 説明文</span>
<span id="ActivityInfo.Interruptible"></span>    Interruptible    <a href="http://localhost:8888/pkg/builtin/#bool">bool</a>         <span class="comment">// 中断可能か</span>
<span id="ActivityInfo.Resumable"></span>    Resumable        <a href="http://localhost:8888/pkg/builtin/#bool">bool</a>         <span class="comment">// 中断後の再開可能か</span>
<span id="ActivityInfo.TimingMode"></span>    TimingMode       <a href="index.html#TimingMode">TimingMode</a>   <span class="comment">// 時間計算方法</span>
<span id="ActivityInfo.ActionPointCost"></span>    ActionPointCost  <a href="http://localhost:8888/pkg/builtin/#int">int</a>          <span class="comment">// 1ターン毎のアクションポイントコスト</span>
<span id="ActivityInfo.TotalRequiredAP"></span>    TotalRequiredAP  <a href="http://localhost:8888/pkg/builtin/#int">int</a>          <span class="comment">// アクティビティ完了に必要な総AP量</span>
<span id="ActivityInfo.RequiresTarget"></span>    RequiresTarget   <a href="http://localhost:8888/pkg/builtin/#bool">bool</a>         <span class="comment">// ターゲットが必要か</span>
<span id="ActivityInfo.RequiresPosition"></span>    RequiresPosition <a href="http://localhost:8888/pkg/builtin/#bool">bool</a>         <span class="comment">// 位置が必要か</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="GetActivityInfo">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity.go?s=8293:8353#L221">GetActivityInfo</a>
					<a class="permalink" href="index.html#GetActivityInfo">&#xb6;</a>
					
					
				</h3>
				<pre>func GetActivityInfo(activityType <a href="index.html#ActivityType">ActivityType</a>) <a href="index.html#ActivityInfo">ActivityInfo</a></pre>
				<p>GetActivityInfo は指定されたアクティビティの情報を取得する

				
				
			

			
		
			
			
			<h2 id="ActivityInterface">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity.go?s=2897:3156#L70">ActivityInterface</a>
				<a class="permalink" href="index.html#ActivityInterface">&#xb6;</a>
				
				
			</h2>
			<p>ActivityInterface はアクティビティの実行を担当するインターフェース
CDDAのactivity_actorを参考にした設計

			<pre>type ActivityInterface interface {
    Validate(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a>
    Start(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a>
    DoTurn(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a>
    Finish(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a>
    Canceled(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a>
}</pre>

			

			

			
			
			

			
				
				<h3 id="GetActivityActor">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity.go?s=8101:8167#L216">GetActivityActor</a>
					<a class="permalink" href="index.html#GetActivityActor">&#xb6;</a>
					
					
				</h3>
				<pre>func GetActivityActor(activityType <a href="index.html#ActivityType">ActivityType</a>) <a href="index.html#ActivityInterface">ActivityInterface</a></pre>
				<p>GetActivityActor は指定されたアクティビティのアクターを取得する

				
				
			

			
		
			
			
			<h2 id="ActivityManager">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity_manager.go?s=213:453#L2">ActivityManager</a>
				<a class="permalink" href="index.html#ActivityManager">&#xb6;</a>
				
				
			</h2>
			<p>ActivityManager はアクティビティの管理を行う

			<pre>type ActivityManager struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewActivityManager">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity_manager.go?s=520:583#L10">NewActivityManager</a>
					<a class="permalink" href="index.html#NewActivityManager">&#xb6;</a>
					
					
				</h3>
				<pre>func NewActivityManager(logger *<a href="../logger/index.html">logger</a>.<a href="../logger/index.html#Logger">Logger</a>) *<a href="index.html#ActivityManager">ActivityManager</a></pre>
				<p>NewActivityManager は新しいActivityManagerを作成する

				
				
			

			
				
				<h3 id="ActivityManager.CancelActivity">func (*ActivityManager) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity_manager.go?s=3794:3884#L102">CancelActivity</a>
					<a class="permalink" href="index.html#ActivityManager.CancelActivity">&#xb6;</a>
					
					
				</h3>
				<pre>func (am *<a href="index.html#ActivityManager">ActivityManager</a>) CancelActivity(entity <a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/">ecs</a>.<a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/#Entity">Entity</a>, reason <a href="http://localhost:8888/pkg/builtin/#string">string</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>)</pre>
				<p>CancelActivity は指定されたエンティティのアクティビティをキャンセルする

				
				
				
			
				
				<h3 id="ActivityManager.GetActivitySummary">func (*ActivityManager) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity_manager.go?s=6863:6933#L194">GetActivitySummary</a>
					<a class="permalink" href="index.html#ActivityManager.GetActivitySummary">&#xb6;</a>
					
					
				</h3>
				<pre>func (am *<a href="index.html#ActivityManager">ActivityManager</a>) GetActivitySummary() map[<a href="http://localhost:8888/pkg/builtin/#string">string</a>]interface{}</pre>
				<p>GetActivitySummary はアクティビティの要約情報を取得する

				
				
				
			
				
				<h3 id="ActivityManager.GetCurrentActivity">func (*ActivityManager) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity_manager.go?s=2523:2597#L66">GetCurrentActivity</a>
					<a class="permalink" href="index.html#ActivityManager.GetCurrentActivity">&#xb6;</a>
					
					
				</h3>
				<pre>func (am *<a href="index.html#ActivityManager">ActivityManager</a>) GetCurrentActivity(entity <a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/">ecs</a>.<a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/#Entity">Entity</a>) *<a href="index.html#Activity">Activity</a></pre>
				<p>GetCurrentActivity は指定されたエンティティの現在のアクティビティを取得する

				
				
				
			
				
				<h3 id="ActivityManager.HasActivity">func (*ActivityManager) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity_manager.go?s=2740:2802#L71">HasActivity</a>
					<a class="permalink" href="index.html#ActivityManager.HasActivity">&#xb6;</a>
					
					
				</h3>
				<pre>func (am *<a href="index.html#ActivityManager">ActivityManager</a>) HasActivity(entity <a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/">ecs</a>.<a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/#Entity">Entity</a>) <a href="http://localhost:8888/pkg/builtin/#bool">bool</a></pre>
				<p>HasActivity は指定されたエンティティがアクティビティを実行中かを返す

				
				
				
			
				
				<h3 id="ActivityManager.InterruptActivity">func (*ActivityManager) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity_manager.go?s=2995:3079#L77">InterruptActivity</a>
					<a class="permalink" href="index.html#ActivityManager.InterruptActivity">&#xb6;</a>
					
					
				</h3>
				<pre>func (am *<a href="index.html#ActivityManager">ActivityManager</a>) InterruptActivity(entity <a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/">ecs</a>.<a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/#Entity">Entity</a>, reason <a href="http://localhost:8888/pkg/builtin/#string">string</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>InterruptActivity は指定されたエンティティのアクティビティを中断する

				
				
				
			
				
				<h3 id="ActivityManager.ProcessTurn">func (*ActivityManager) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity_manager.go?s=4677:4730#L129">ProcessTurn</a>
					<a class="permalink" href="index.html#ActivityManager.ProcessTurn">&#xb6;</a>
					
					
				</h3>
				<pre>func (am *<a href="index.html#ActivityManager">ActivityManager</a>) ProcessTurn(world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>)</pre>
				<p>ProcessTurn は全てのアクティブなアクティビティの1ターン分の処理を実行する

				
				
				
			
				
				<h3 id="ActivityManager.ResumeActivity">func (*ActivityManager) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity_manager.go?s=3312:3393#L87">ResumeActivity</a>
					<a class="permalink" href="index.html#ActivityManager.ResumeActivity">&#xb6;</a>
					
					
				</h3>
				<pre>func (am *<a href="index.html#ActivityManager">ActivityManager</a>) ResumeActivity(entity <a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/">ecs</a>.<a href="http://localhost:8888/pkg/github.com/x-hgg-x/goecs/v2/#Entity">Entity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>ResumeActivity は指定されたエンティティのアクティビティを再開する

				
				
				
			
				
				<h3 id="ActivityManager.StartActivity">func (*ActivityManager) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity_manager.go?s=766:847#L18">StartActivity</a>
					<a class="permalink" href="index.html#ActivityManager.StartActivity">&#xb6;</a>
					
					
				</h3>
				<pre>func (am *<a href="index.html#ActivityManager">ActivityManager</a>) StartActivity(activity *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>StartActivity は新しいアクティビティを開始する

				
				
				
			
		
			
			
			<h2 id="ActivityState">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity.go?s=1128:1150#L28">ActivityState</a>
				<a class="permalink" href="index.html#ActivityState">&#xb6;</a>
				
				
			</h2>
			<p>ActivityState はアクティビティの実行状態を表す

			<pre>type ActivityState <a href="http://localhost:8888/pkg/builtin/#int">int</a></pre>

			
				
				<pre>const (
    <span class="comment">// ActivityStateRunning はアクティビティが実行中であることを表す</span>
    <span id="ActivityStateRunning">ActivityStateRunning</span> <a href="index.html#ActivityState">ActivityState</a> = <a href="http://localhost:8888/pkg/builtin/#iota">iota</a>
    <span class="comment">// ActivityStatePaused はアクティビティが一時停止中であることを表す</span>
    <span id="ActivityStatePaused">ActivityStatePaused</span>
    <span class="comment">// ActivityStateCompleted はアクティビティが完了したことを表す</span>
    <span id="ActivityStateCompleted">ActivityStateCompleted</span>
    <span class="comment">// ActivityStateCanceled はアクティビティがキャンセルされたことを表す</span>
    <span id="ActivityStateCanceled">ActivityStateCanceled</span>
)</pre>
			

			

			
			
			

			

			
				
				<h3 id="ActivityState.String">func (ActivityState) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity.go?s=12894:12932#L386">String</a>
					<a class="permalink" href="index.html#ActivityState.String">&#xb6;</a>
					
					
				</h3>
				<pre>func (s <a href="index.html#ActivityState">ActivityState</a>) String() <a href="http://localhost:8888/pkg/builtin/#string">string</a></pre>
				<p>String はActivityStateの文字列表現を返す

				
				
				
			
		
			
			
			<h2 id="ActivityType">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity.go?s=335:356#L4">ActivityType</a>
				<a class="permalink" href="index.html#ActivityType">&#xb6;</a>
				
				
			</h2>
			<p>ActivityType は継続的なアクション（アクティビティ）の種別を表す
CDDAのactivity_idを参考にした設計

			<pre>type ActivityType <a href="http://localhost:8888/pkg/builtin/#int">int</a></pre>

			
				
				<pre>const (
    <span class="comment">// ActivityNull は無効なアクティビティを表す</span>
    <span id="ActivityNull">ActivityNull</span> <a href="index.html#ActivityType">ActivityType</a> = <a href="http://localhost:8888/pkg/builtin/#iota">iota</a>
    <span class="comment">// ActivityMove は移動アクティビティを表す</span>
    <span id="ActivityMove">ActivityMove</span>
    <span class="comment">// ActivityAttack は攻撃アクティビティを表す</span>
    <span id="ActivityAttack">ActivityAttack</span>
    <span class="comment">// ActivityPickup はアイテム拾得アクティビティを表す</span>
    <span id="ActivityPickup">ActivityPickup</span>
    <span class="comment">// ActivityWarp はワープアクティビティを表す</span>
    <span id="ActivityWarp">ActivityWarp</span>
    <span class="comment">// ActivityRest は休息アクティビティを表す</span>
    <span id="ActivityRest">ActivityRest</span>
    <span class="comment">// ActivityRead は読書アクティビティを表す</span>
    <span id="ActivityRead">ActivityRead</span>
    <span class="comment">// ActivityCraft はクラフトアクティビティを表す</span>
    <span id="ActivityCraft">ActivityCraft</span>
    <span class="comment">// ActivityWait は待機アクティビティを表す</span>
    <span id="ActivityWait">ActivityWait</span>
)</pre>
			

			

			
			
			

			

			
				
				<h3 id="ActivityType.String">func (ActivityType) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity.go?s=12389:12426#L360">String</a>
					<a class="permalink" href="index.html#ActivityType.String">&#xb6;</a>
					
					
				</h3>
				<pre>func (t <a href="index.html#ActivityType">ActivityType</a>) String() <a href="http://localhost:8888/pkg/builtin/#string">string</a></pre>
				<p>String はActivityTypeの文字列表現を返す

				
				
				
			
		
			
			
			<h2 id="AttackActivity">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/attack.go?s=1195:1223#L27">AttackActivity</a>
				<a class="permalink" href="index.html#AttackActivity">&#xb6;</a>
				
				
			</h2>
			<p>AttackActivity は攻撃アクティビティの実装

			<pre>type AttackActivity struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="AttackActivity.Canceled">func (*AttackActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/attack.go?s=3516:3582#L115">Canceled</a>
					<a class="permalink" href="index.html#AttackActivity.Canceled">&#xb6;</a>
					
					
				</h3>
				<pre>func (aa *<a href="index.html#AttackActivity">AttackActivity</a>) Canceled(act *<a href="index.html#Activity">Activity</a>, _ <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Canceled は攻撃キャンセル時の処理を実行する

				
				
				
			
				
				<h3 id="AttackActivity.DoTurn">func (*AttackActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/attack.go?s=2648:2716#L81">DoTurn</a>
					<a class="permalink" href="index.html#AttackActivity.DoTurn">&#xb6;</a>
					
					
				</h3>
				<pre>func (aa *<a href="index.html#AttackActivity">AttackActivity</a>) DoTurn(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>DoTurn は攻撃アクティビティの1ターン分の処理を実行する

				
				
				
			
				
				<h3 id="AttackActivity.Finish">func (*AttackActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/attack.go?s=3267:3331#L106">Finish</a>
					<a class="permalink" href="index.html#AttackActivity.Finish">&#xb6;</a>
					
					
				</h3>
				<pre>func (aa *<a href="index.html#AttackActivity">AttackActivity</a>) Finish(act *<a href="index.html#Activity">Activity</a>, _ <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Finish は攻撃完了時の処理を実行する

				
				
				
			
				
				<h3 id="AttackActivity.Start">func (*AttackActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/attack.go?s=2409:2472#L75">Start</a>
					<a class="permalink" href="index.html#AttackActivity.Start">&#xb6;</a>
					
					
				</h3>
				<pre>func (aa *<a href="index.html#AttackActivity">AttackActivity</a>) Start(act *<a href="index.html#Activity">Activity</a>, _ <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Start は攻撃開始時の処理を実行する

				
				
				
			
				
				<h3 id="AttackActivity.Validate">func (*AttackActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/attack.go?s=1420:1490#L35">Validate</a>
					<a class="permalink" href="index.html#AttackActivity.Validate">&#xb6;</a>
					
					
				</h3>
				<pre>func (aa *<a href="index.html#AttackActivity">AttackActivity</a>) Validate(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Validate は攻撃アクティビティの検証を行う

				
				
				
			
		
			
			
			<h2 id="CraftActivity">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/craft.go?s=270:297#L3">CraftActivity</a>
				<a class="permalink" href="index.html#CraftActivity">&#xb6;</a>
				
				
			</h2>
			<p>CraftActivity はクラフトアクティビティの実装

			<pre>type CraftActivity struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="CraftActivity.Canceled">func (*CraftActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/craft.go?s=4435:4504#L149">Canceled</a>
					<a class="permalink" href="index.html#CraftActivity.Canceled">&#xb6;</a>
					
					
				</h3>
				<pre>func (ca *<a href="index.html#CraftActivity">CraftActivity</a>) Canceled(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Canceled はクラフトキャンセル時の処理を実行する

				
				
				
			
				
				<h3 id="CraftActivity.DoTurn">func (*CraftActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/craft.go?s=2612:2679#L80">DoTurn</a>
					<a class="permalink" href="index.html#CraftActivity.DoTurn">&#xb6;</a>
					
					
				</h3>
				<pre>func (ca *<a href="index.html#CraftActivity">CraftActivity</a>) DoTurn(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>DoTurn はクラフトアクティビティの1ターン分の処理を実行する

				
				
				
			
				
				<h3 id="CraftActivity.Finish">func (*CraftActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/craft.go?s=3475:3542#L116">Finish</a>
					<a class="permalink" href="index.html#CraftActivity.Finish">&#xb6;</a>
					
					
				</h3>
				<pre>func (ca *<a href="index.html#CraftActivity">CraftActivity</a>) Finish(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Finish はクラフト完了時の処理を実行する

				
				
				
			
				
				<h3 id="CraftActivity.Start">func (*CraftActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/craft.go?s=1872:1938#L57">Start</a>
					<a class="permalink" href="index.html#CraftActivity.Start">&#xb6;</a>
					
					
				</h3>
				<pre>func (ca *<a href="index.html#CraftActivity">CraftActivity</a>) Start(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Start はクラフト開始時の処理を実行する

				
				
				
			
				
				<h3 id="CraftActivity.Validate">func (*CraftActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/craft.go?s=504:573#L11">Validate</a>
					<a class="permalink" href="index.html#CraftActivity.Validate">&#xb6;</a>
					
					
				</h3>
				<pre>func (ca *<a href="index.html#CraftActivity">CraftActivity</a>) Validate(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Validate はクラフトアクティビティの検証を行う

				
				
				
			
		
			
			
			<h2 id="MoveActivity">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/move.go?s=255:281#L3">MoveActivity</a>
				<a class="permalink" href="index.html#MoveActivity">&#xb6;</a>
				
				
			</h2>
			<p>MoveActivity は移動アクティビティの実装

			<pre>type MoveActivity struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="MoveActivity.Canceled">func (*MoveActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/move.go?s=2350:2414#L76">Canceled</a>
					<a class="permalink" href="index.html#MoveActivity.Canceled">&#xb6;</a>
					
					
				</h3>
				<pre>func (ma *<a href="index.html#MoveActivity">MoveActivity</a>) Canceled(act *<a href="index.html#Activity">Activity</a>, _ <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Canceled は移動キャンセル時の処理を実行する

				
				
				
			
				
				<h3 id="MoveActivity.DoTurn">func (*MoveActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/move.go?s=1452:1518#L44">DoTurn</a>
					<a class="permalink" href="index.html#MoveActivity.DoTurn">&#xb6;</a>
					
					
				</h3>
				<pre>func (ma *<a href="index.html#MoveActivity">MoveActivity</a>) DoTurn(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>DoTurn は移動アクティビティの1ターン分の処理を実行する

				
				
				
			
				
				<h3 id="MoveActivity.Finish">func (*MoveActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/move.go?s=2051:2113#L69">Finish</a>
					<a class="permalink" href="index.html#MoveActivity.Finish">&#xb6;</a>
					
					
				</h3>
				<pre>func (ma *<a href="index.html#MoveActivity">MoveActivity</a>) Finish(act *<a href="index.html#Activity">Activity</a>, _ <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Finish は移動完了時の処理を実行する

				
				
				
			
				
				<h3 id="MoveActivity.Start">func (*MoveActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/move.go?s=1208:1269#L38">Start</a>
					<a class="permalink" href="index.html#MoveActivity.Start">&#xb6;</a>
					
					
				</h3>
				<pre>func (ma *<a href="index.html#MoveActivity">MoveActivity</a>) Start(act *<a href="index.html#Activity">Activity</a>, _ <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Start は移動開始時の処理を実行する

				
				
				
			
				
				<h3 id="MoveActivity.Validate">func (*MoveActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/move.go?s=474:542#L11">Validate</a>
					<a class="permalink" href="index.html#MoveActivity.Validate">&#xb6;</a>
					
					
				</h3>
				<pre>func (ma *<a href="index.html#MoveActivity">MoveActivity</a>) Validate(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Validate は移動アクティビティの検証を行う

				
				
				
			
		
			
			
			<h2 id="PickupActivity">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/pickup.go?s=312:340#L4">PickupActivity</a>
				<a class="permalink" href="index.html#PickupActivity">&#xb6;</a>
				
				
			</h2>
			<p>PickupActivity はアイテム拾得アクティビティの実装

			<pre>type PickupActivity struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="PickupActivity.Canceled">func (*PickupActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/pickup.go?s=2407:2473#L69">Canceled</a>
					<a class="permalink" href="index.html#PickupActivity.Canceled">&#xb6;</a>
					
					
				</h3>
				<pre>func (pa *<a href="index.html#PickupActivity">PickupActivity</a>) Canceled(act *<a href="index.html#Activity">Activity</a>, _ <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Canceled はアイテム拾得キャンセル時の処理を実行する

				
				
				
			
				
				<h3 id="PickupActivity.DoTurn">func (*PickupActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/pickup.go?s=1781:1849#L50">DoTurn</a>
					<a class="permalink" href="index.html#PickupActivity.DoTurn">&#xb6;</a>
					
					
				</h3>
				<pre>func (pa *<a href="index.html#PickupActivity">PickupActivity</a>) DoTurn(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>DoTurn はアイテム拾得アクティビティの1ターン分の処理を実行する

				
				
				
			
				
				<h3 id="PickupActivity.Finish">func (*PickupActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/pickup.go?s=2162:2226#L63">Finish</a>
					<a class="permalink" href="index.html#PickupActivity.Finish">&#xb6;</a>
					
					
				</h3>
				<pre>func (pa *<a href="index.html#PickupActivity">PickupActivity</a>) Finish(act *<a href="index.html#Activity">Activity</a>, _ <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Finish はアイテム拾得完了時の処理を実行する

				
				
				
			
				
				<h3 id="PickupActivity.Start">func (*PickupActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/pickup.go?s=1541:1604#L44">Start</a>
					<a class="permalink" href="index.html#PickupActivity.Start">&#xb6;</a>
					
					
				</h3>
				<pre>func (pa *<a href="index.html#PickupActivity">PickupActivity</a>) Start(act *<a href="index.html#Activity">Activity</a>, _ <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Start はアイテム拾得開始時の処理を実行する

				
				
				
			
				
				<h3 id="PickupActivity.Validate">func (*PickupActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/pickup.go?s=561:631#L12">Validate</a>
					<a class="permalink" href="index.html#PickupActivity.Validate">&#xb6;</a>
					
					
				</h3>
				<pre>func (pa *<a href="index.html#PickupActivity">PickupActivity</a>) Validate(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Validate はアイテム拾得アクティビティの検証を行う

				
				
				
			
		
			
			
			<h2 id="ReadActivity">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/read.go?s=219:245#L2">ReadActivity</a>
				<a class="permalink" href="index.html#ReadActivity">&#xb6;</a>
				
				
			</h2>
			<p>ReadActivity は読書アクティビティの実装

			<pre>type ReadActivity struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="ReadActivity.Canceled">func (*ReadActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/read.go?s=3734:3802#L130">Canceled</a>
					<a class="permalink" href="index.html#ReadActivity.Canceled">&#xb6;</a>
					
					
				</h3>
				<pre>func (ra *<a href="index.html#ReadActivity">ReadActivity</a>) Canceled(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Canceled は読書キャンセル時の処理を実行する

				
				
				
			
				
				<h3 id="ReadActivity.DoTurn">func (*ReadActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/read.go?s=2167:2233#L66">DoTurn</a>
					<a class="permalink" href="index.html#ReadActivity.DoTurn">&#xb6;</a>
					
					
				</h3>
				<pre>func (ra *<a href="index.html#ReadActivity">ReadActivity</a>) DoTurn(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>DoTurn は読書アクティビティの1ターン分の処理を実行する

				
				
				
			
				
				<h3 id="ReadActivity.Finish">func (*ReadActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/read.go?s=3004:3070#L102">Finish</a>
					<a class="permalink" href="index.html#ReadActivity.Finish">&#xb6;</a>
					
					
				</h3>
				<pre>func (ra *<a href="index.html#ReadActivity">ReadActivity</a>) Finish(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Finish は読書完了時の処理を実行する

				
				
				
			
				
				<h3 id="ReadActivity.Start">func (*ReadActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/read.go?s=1473:1538#L43">Start</a>
					<a class="permalink" href="index.html#ReadActivity.Start">&#xb6;</a>
					
					
				</h3>
				<pre>func (ra *<a href="index.html#ReadActivity">ReadActivity</a>) Start(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Start は読書開始時の処理を実行する

				
				
				
			
				
				<h3 id="ReadActivity.Validate">func (*ReadActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/read.go?s=438:506#L10">Validate</a>
					<a class="permalink" href="index.html#ReadActivity.Validate">&#xb6;</a>
					
					
				</h3>
				<pre>func (ra *<a href="index.html#ReadActivity">ReadActivity</a>) Validate(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Validate は読書アクティビティの検証を行う

				
				
				
			
		
			
			
			<h2 id="RestActivity">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/rest.go?s=254:280#L3">RestActivity</a>
				<a class="permalink" href="index.html#RestActivity">&#xb6;</a>
				
				
			</h2>
			<p>RestActivity は休息アクティビティの実装

			<pre>type RestActivity struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="RestActivity.Canceled">func (*RestActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/rest.go?s=3225:3293#L112">Canceled</a>
					<a class="permalink" href="index.html#RestActivity.Canceled">&#xb6;</a>
					
					
				</h3>
				<pre>func (ra *<a href="index.html#RestActivity">RestActivity</a>) Canceled(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Canceled は休息キャンセル時の処理を実行する

				
				
				
			
				
				<h3 id="RestActivity.DoTurn">func (*RestActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/rest.go?s=1117:1183#L32">DoTurn</a>
					<a class="permalink" href="index.html#RestActivity.DoTurn">&#xb6;</a>
					
					
				</h3>
				<pre>func (ra *<a href="index.html#RestActivity">RestActivity</a>) DoTurn(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>DoTurn は休息アクティビティの1ターン分の処理を実行する

				
				
				
			
				
				<h3 id="RestActivity.Finish">func (*RestActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/rest.go?s=1964:2030#L68">Finish</a>
					<a class="permalink" href="index.html#RestActivity.Finish">&#xb6;</a>
					
					
				</h3>
				<pre>func (ra *<a href="index.html#RestActivity">RestActivity</a>) Finish(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Finish は休息完了時の処理を実行する

				
				
				
			
				
				<h3 id="RestActivity.Start">func (*RestActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/rest.go?s=876:937#L26">Start</a>
					<a class="permalink" href="index.html#RestActivity.Start">&#xb6;</a>
					
					
				</h3>
				<pre>func (ra *<a href="index.html#RestActivity">RestActivity</a>) Start(act *<a href="index.html#Activity">Activity</a>, _ <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Start は休息開始時の処理を実行する

				
				
				
			
				
				<h3 id="RestActivity.Validate">func (*RestActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/rest.go?s=473:541#L11">Validate</a>
					<a class="permalink" href="index.html#RestActivity.Validate">&#xb6;</a>
					
					
				</h3>
				<pre>func (ra *<a href="index.html#RestActivity">RestActivity</a>) Validate(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Validate は休息アクティビティの検証を行う

				
				
				
			
		
			
			
			<h2 id="TimingMode">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/activity.go?s=1713:1732#L43">TimingMode</a>
				<a class="permalink" href="index.html#TimingMode">&#xb6;</a>
				
				
			</h2>
			<p>TimingMode は時間消費の計算方法を表す
CDDAのbased_on_typeを参考

			<pre>type TimingMode <a href="http://localhost:8888/pkg/builtin/#int">int</a></pre>

			
				
				<pre>const (
    <span class="comment">// TimingModeTime は実時間ベース（キャラクター速度に関係なく固定時間）</span>
    <span id="TimingModeTime">TimingModeTime</span> <a href="index.html#TimingMode">TimingMode</a> = <a href="http://localhost:8888/pkg/builtin/#iota">iota</a>
    <span class="comment">// TimingModeSpeed は速度ベース（速いキャラクターは早く完了）</span>
    <span id="TimingModeSpeed">TimingModeSpeed</span>
    <span class="comment">// TimingModeCustom はカスタムタイミング</span>
    <span id="TimingModeCustom">TimingModeCustom</span>
)</pre>
			

			

			
			
			

			

			
		
			
			
			<h2 id="WaitActivity">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/wait.go?s=173:199#L1">WaitActivity</a>
				<a class="permalink" href="index.html#WaitActivity">&#xb6;</a>
				
				
			</h2>
			<p>WaitActivity は待機アクティビティの実装

			<pre>type WaitActivity struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="WaitActivity.Canceled">func (*WaitActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/wait.go?s=2218:2282#L77">Canceled</a>
					<a class="permalink" href="index.html#WaitActivity.Canceled">&#xb6;</a>
					
					
				</h3>
				<pre>func (wa *<a href="index.html#WaitActivity">WaitActivity</a>) Canceled(act *<a href="index.html#Activity">Activity</a>, _ <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Canceled は待機キャンセル時の処理を実行する

				
				
				
			
				
				<h3 id="WaitActivity.DoTurn">func (*WaitActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/wait.go?s=1196:1262#L34">DoTurn</a>
					<a class="permalink" href="index.html#WaitActivity.DoTurn">&#xb6;</a>
					
					
				</h3>
				<pre>func (wa *<a href="index.html#WaitActivity">WaitActivity</a>) DoTurn(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>DoTurn は待機アクティビティの1ターン分の処理を実行する

				
				
				
			
				
				<h3 id="WaitActivity.Finish">func (*WaitActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/wait.go?s=1752:1818#L62">Finish</a>
					<a class="permalink" href="index.html#WaitActivity.Finish">&#xb6;</a>
					
					
				</h3>
				<pre>func (wa *<a href="index.html#WaitActivity">WaitActivity</a>) Finish(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Finish は待機完了時の処理を実行する

				
				
				
			
				
				<h3 id="WaitActivity.Start">func (*WaitActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/wait.go?s=899:960#L27">Start</a>
					<a class="permalink" href="index.html#WaitActivity.Start">&#xb6;</a>
					
					
				</h3>
				<pre>func (wa *<a href="index.html#WaitActivity">WaitActivity</a>) Start(act *<a href="index.html#Activity">Activity</a>, _ <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Start は待機開始時の処理を実行する

				
				
				
			
				
				<h3 id="WaitActivity.Validate">func (*WaitActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/wait.go?s=392:456#L9">Validate</a>
					<a class="permalink" href="index.html#WaitActivity.Validate">&#xb6;</a>
					
					
				</h3>
				<pre>func (wa *<a href="index.html#WaitActivity">WaitActivity</a>) Validate(act *<a href="index.html#Activity">Activity</a>, _ <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Validate は待機アクティビティの検証を行う

				
				
				
			
		
			
			
			<h2 id="WarpActivity">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/warp.go?s=299:325#L4">WarpActivity</a>
				<a class="permalink" href="index.html#WarpActivity">&#xb6;</a>
				
				
			</h2>
			<p>WarpActivity はワープアクティビティの実装

			<pre>type WarpActivity struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="WarpActivity.Canceled">func (*WarpActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/warp.go?s=2283:2347#L71">Canceled</a>
					<a class="permalink" href="index.html#WarpActivity.Canceled">&#xb6;</a>
					
					
				</h3>
				<pre>func (wa *<a href="index.html#WarpActivity">WarpActivity</a>) Canceled(act *<a href="index.html#Activity">Activity</a>, _ <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Canceled はワープキャンセル時の処理を実行する

				
				
				
			
				
				<h3 id="WarpActivity.DoTurn">func (*WarpActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/warp.go?s=1304:1370#L37">DoTurn</a>
					<a class="permalink" href="index.html#WarpActivity.DoTurn">&#xb6;</a>
					
					
				</h3>
				<pre>func (wa *<a href="index.html#WarpActivity">WarpActivity</a>) DoTurn(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>DoTurn はワープアクティビティの1ターン分の処理を実行する

				
				
				
			
				
				<h3 id="WarpActivity.Finish">func (*WarpActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/warp.go?s=1863:1929#L57">Finish</a>
					<a class="permalink" href="index.html#WarpActivity.Finish">&#xb6;</a>
					
					
				</h3>
				<pre>func (wa *<a href="index.html#WarpActivity">WarpActivity</a>) Finish(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Finish はワープ完了時の処理を実行する

				
				
				
			
				
				<h3 id="WarpActivity.Start">func (*WarpActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/warp.go?s=1084:1145#L31">Start</a>
					<a class="permalink" href="index.html#WarpActivity.Start">&#xb6;</a>
					
					
				</h3>
				<pre>func (wa *<a href="index.html#WarpActivity">WarpActivity</a>) Start(act *<a href="index.html#Activity">Activity</a>, _ <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Start はワープ開始時の処理を実行する

				
				
				
			
				
				<h3 id="WarpActivity.Validate">func (*WarpActivity) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/actions/warp.go?s=524:592#L12">Validate</a>
					<a class="permalink" href="index.html#WarpActivity.Validate">&#xb6;</a>
					
					
				</h3>
				<pre>func (wa *<a href="index.html#WarpActivity">WarpActivity</a>) Validate(act *<a href="index.html#Activity">Activity</a>, world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Validate はワープアクティビティの検証を行う

				
				
				
			
		
	

	







<div id="footer">
Build version go1.24.7.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:8888/LICENSE">BSD license</a>.<br>
<a href="https://golang.org/doc/tos.html">Terms of Service</a> |
<a href="https://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
