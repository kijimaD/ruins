<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>mapplanner - Go Documentation Server</title>

<link type="text/css" rel="stylesheet" href="../../../../../../lib/godoc/style.css">

<script>window.initFuncs = [];</script>
<script src="../../../../../../lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.24.7";</script>
<script src="../../../../../../lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:8888/pkg/">Go Documentation Server</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:8888/pkg/">GoDoc</a></div>
<a href="index.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:8888/search">
<div id="menu">

<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package mapplanner
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "github.com/kijimaD/ruins/lib/mapplanner"</code></dd>
			</dl>
			<dl>
			<dd><a href="index.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="index.html#pkg-index" class="indexLink">Index</a></dd>
			
				<dd><a href="index.html#pkg-examples" class="examplesLink">Examples</a></dd>
			
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				<p>Package mapplanner provides map planning functionality.
<p>このパッケージは階層マップの生成機能を提供します：
<ul>
<li>タイルベースのマップ生成
<li>各種マップアルゴリズム（部屋、洞窟、森林、遺跡など）
<li>タイルとエンティティの配置計画作成
</ul>
<p>## マップ構造の概念
<p>マップは規定数のタイル（TileWidth × TileHeight）で正方形に構成されます。
各位置には必ず1つのタイルが存在し、タイル自体は不変です。
タイルの上にエンティティ（壁、床、アイテム、NPCなど）を配置していきます。
<p>## 主要データ構造の違い
<p>- **MetaPlan**: マップ生成プロセス中の中間データ
<ul>
<li>タイル配列（[]Tile）、部屋情報、廊下情報、乱数生成器を含む
<li>PlannerChain内で段階的に構築される
<li>生成アルゴリズムで使用される作業用データ
</ul>
<p>- **EntityPlan**: エンティティ生成用の最終配置計画
<ul>
<li>TileSpec、EntitySpecのリストとして詳細な配置計画を管理
<li>MetaPlanから BuildPlan() で生成される
<li>mapspawnerで実際のECSエンティティ生成に使用される
</ul>
<p>## タイル定義
<p>マップ生成で使用されるタイルタイプ：
<ul>
<li>TileEmpty: 空のタイル（デフォルト状態）
<li>TileFloor: 床タイル（通行可能）
<li>TileWall: 壁タイル（通行不可）
</ul>
<p>## エンティティ
<p>エンティティとして実装されます：
<ul>
<li>床タイル + ワープポータルエンティティ = ワープ機能のある場所
</ul>
<p>## 通行可否判定
<p>マップ生成時にはタイルの Walkable フィールドで通行可否を判定します：
<ul>
<li>通行可能: TileFloor（Walkable=true）
<li>通行不可: TileWall（Walkable=false）, TileEmpty（Walkable=false）
</ul>
<p>## 配置計画の作成
<p>mapplannerは以下の2つのアプローチで配置計画を作成します：
<p>### 1. タイルベース生成（標準）
<ul>
<li>PlannerChainでタイル配列を生成
<li>mapspawnerでタイルからエンティティ配置計画（EntityPlan）を自動生成
<li>タイルタイプに応じて対応するエンティティ（床、壁、ワープホールなど）を配置
</ul>
<p>### 2. 文字列ベース生成（高度）
<ul>
<li>文字列マップから直接タイルとエンティティの配置計画を作成
<li>NPCやアイテムなどの詳細なエンティティ配置も可能
<li>EntityPlanで明示的にエンティティ配置計画（EntitySpec）を管理
</ul>
<p>## マップ生成の流れ
<p>### タイルベース生成の場合
1. タイル配列の初期化（全てTileEmpty）
2. PlannerChainによる段階的タイル配置（MetaPlan）
3. MetaPlan.BuildPlan()でEntityPlan生成
4. mapspawner.SpawnLevelで実際のECSエンティティ生成
<p>### 文字列ベース生成の場合
1. 文字列マップ定義からタイル・エンティティ配置計画を作成
2. EntityPlanにEntitySpecとして詳細なエンティティ配置計画を記録
3. mapspawner.SpawnLevelでEntityPlanに基づくECSエンティティ生成
<p>いずれの場合も実行時はエンティティベースの通行可否判定（movement.CanMoveTo）を使用
<p>Package mapplanner はマップ生成機能を提供する
参考: <a href="https://bfnightly.bracketproductions.com">https://bfnightly.bracketproductions.com</a>
<h3 id="hdr-Package_mapplanner__NPC_________________mapspawner____">Package mapplanner のNPC配置プランナー - 責務分離によりmapspawnerから移動</h3>
<h3 id="hdr-Package_mapplanner__Props_________________mapspawner____">Package mapplanner のProps配置プランナー - 責務分離によりmapspawnerから移動</h3>
<p>Package mapplanner の文字列ベースマップビルダー
文字列で直接タイルとエンティティ配置を指定できるシステム
<p>Package mapplanner の文字列ベース街ビルダー
文字列で直接街のレイアウトを定義するシステム
<p>Package mapplanner の街用ビルダー
固定レイアウトの街マップを生成する
<p>Package mapplanner のワープポータル配置プランナー - 責務分離によりmapspawnerから移動

				<div id="example__complexLayout" class="toggle">
	<div class="collapsed">
		<p class="exampleHeading toggleButton">▹ <span class="text">Example (ComplexLayout)</span></p>
	</div>
	<div class="expanded">
		<p class="exampleHeading toggleButton">▾ <span class="text">Example (ComplexLayout)</span></p>
		<p>複雑なマップレイアウトの例
</p>
		
		
			<p>Code:</p>
			<pre class="code">
<span class="comment">// より複雑な街のレイアウト</span>
tileMap := []string{
    &#34;##################&#34;,
    &#34;#ffffffffffffffff#&#34;,
    &#34;#ffffffffffffffff#&#34;,
    &#34;#ffffffffffffffff#&#34;,
    &#34;#ffffffffffffffff#&#34;,
    &#34;#ffffffffffffffff#&#34;,
    &#34;#ffffffffffffffff#&#34;,
    &#34;#ffffffffffffffff#&#34;,
    &#34;#ffffffffffffffff#&#34;,
    &#34;#ffffffffffffffff#&#34;,
    &#34;##################&#34;,
}

entityMap := []string{
    &#34;..................&#34;,
    &#34;..................&#34;,
    &#34;..CT.......BS.....&#34;,
    &#34;..................&#34;,
    &#34;..................&#34;,
    &#34;..................&#34;,
    &#34;..................&#34;,
    &#34;..................&#34;,
    &#34;..................&#34;,
    &#34;..................&#34;,
    &#34;..................&#34;,
}

plan, err := BuildEntityPlanFromStrings(tileMap, entityMap)
if err != nil {
    panic(err)
}

<span class="comment">// 各種統計を表示</span>
tileTypeCount := make(map[string]int)
propTypeCount := make(map[gc.PropType]int)

for _, entity := range plan.Entities {
    switch entity.EntityType {
    case EntityTypeFloor:
        tileTypeCount[&#34;床&#34;]++
    case EntityTypeWall:
        tileTypeCount[&#34;壁&#34;]++
    case EntityTypeProp:
        if entity.PropType != nil {
            propTypeCount[*entity.PropType]++
        }
    }
}

fmt.Printf(&#34;複雑なレイアウト統計:\n&#34;)
fmt.Printf(&#34;マップサイズ: %dx%d\n&#34;, plan.Width, plan.Height)
fmt.Printf(&#34;床タイル数: %d\n&#34;, tileTypeCount[&#34;床&#34;])
fmt.Printf(&#34;壁タイル数: %d\n&#34;, tileTypeCount[&#34;壁&#34;])
fmt.Printf(&#34;総Props数: %d\n&#34;, len(propTypeCount))

for propType, count := range propTypeCount {
    fmt.Printf(&#34;  %s: %d個\n&#34;, propType, count)
}
</pre>
			
		
	</div>
</div>
<div id="example__entityMappings" class="toggle">
	<div class="collapsed">
		<p class="exampleHeading toggleButton">▹ <span class="text">Example (EntityMappings)</span></p>
	</div>
	<div class="expanded">
		<p class="exampleHeading toggleButton">▾ <span class="text">Example (EntityMappings)</span></p>
		<p>エンティティ文字のマッピング一覧を表示する例
</p>
		
		
			<p>Code:</p>
			<pre class="code">mapping := getDefaultEntityMapping()

fmt.Println(&#34;エンティティ文字マッピング:&#34;)
fmt.Printf(&#34;&#39;@&#39; -&gt; プレイヤー (EntityTypePlayer)\n&#34;)
fmt.Printf(&#34;&#39;&amp;&#39; -&gt; NPC (EntityTypeNPC)\n&#34;)
fmt.Printf(&#34;&#39;C&#39; -&gt; 椅子 (PropTypeChair)\n&#34;)
fmt.Printf(&#34;&#39;T&#39; -&gt; テーブル (PropTypeTable)\n&#34;)
fmt.Printf(&#34;&#39;S&#39; -&gt; 本棚 (PropTypeBookshelf)\n&#34;)
fmt.Printf(&#34;&#39;M&#39; -&gt; 樽 (PropTypeBarrel)\n&#34;)
fmt.Printf(&#34;&#39;R&#39; -&gt; 木箱 (PropTypeCrate)\n&#34;)

fmt.Printf(&#34;\n実際のマッピング数: %d\n&#34;, len(mapping))

<span class="comment"></pre>
			
			<p>Output:</p>
			<pre class="output">エンティティ文字マッピング:
&#39;@&#39; -&gt; プレイヤー (EntityTypePlayer)
&#39;&amp;&#39; -&gt; NPC (EntityTypeNPC)
&#39;C&#39; -&gt; 椅子 (PropTypeChair)
&#39;T&#39; -&gt; テーブル (PropTypeTable)
&#39;S&#39; -&gt; 本棚 (PropTypeBookshelf)
&#39;M&#39; -&gt; 樽 (PropTypeBarrel)
&#39;R&#39; -&gt; 木箱 (PropTypeCrate)

実際のマッピング数: 7
</pre>
			
		
	</div>
</div>
<div id="example__stringEntityPlanGeneration" class="toggle">
	<div class="collapsed">
		<p class="exampleHeading toggleButton">▹ <span class="text">Example (StringEntityPlanGeneration)</span></p>
	</div>
	<div class="expanded">
		<p class="exampleHeading toggleButton">▾ <span class="text">Example (StringEntityPlanGeneration)</span></p>
		<p>EntityPlan統合使用例（mapspawnerは別パッケージで使用）
</p>
		
		
			<p>Code:</p>
			<pre class="code"><span class="comment">// 小さな街のレイアウト</span>
tileMap := []string{
    &#34;##########&#34;,
    &#34;#ffffffff#&#34;,
    &#34;#ffffffff#&#34;,
    &#34;#ffffffff#&#34;,
    &#34;#ffffffff#&#34;,
    &#34;##########&#34;,
}

entityMap := []string{
    &#34;..........&#34;,
    &#34;..........&#34;,
    &#34;..CT......&#34;,
    &#34;..........&#34;,
    &#34;..........&#34;,
    &#34;..........&#34;,
}

<span class="comment">// EntityPlanを生成</span>
plan, err := BuildEntityPlanFromStrings(tileMap, entityMap)
if err != nil {
    panic(err)
}

fmt.Printf(&#34;統合例:\n&#34;)
fmt.Printf(&#34;マップサイズ: %dx%d\n&#34;, plan.Width, plan.Height)
fmt.Printf(&#34;エンティティ数: %d\n&#34;, len(plan.Entities))

<span class="comment">// Props数をカウント</span>
propCount := 0
for _, entity := range plan.Entities {
    if entity.EntityType == EntityTypeProp {
        propCount++
    }
}
fmt.Printf(&#34;Props数: %d\n&#34;, propCount)

<span class="comment"></pre>
			
			<p>Output:</p>
			<pre class="output">統合例:
マップサイズ: 10x6
エンティティ数: 62
Props数: 2
</pre>
			
		
	</div>
</div>
<div id="example__tileMappings" class="toggle">
	<div class="collapsed">
		<p class="exampleHeading toggleButton">▹ <span class="text">Example (TileMappings)</span></p>
	</div>
	<div class="expanded">
		<p class="exampleHeading toggleButton">▾ <span class="text">Example (TileMappings)</span></p>
		<p>タイル文字のマッピング一覧を表示する例
</p>
		
		
			<p>Code:</p>
			<pre class="code">mapping := getDefaultTileMapping()

fmt.Println(&#34;タイル文字マッピング:&#34;)
fmt.Printf(&#34;&#39;#&#39; -&gt; 壁 (TileWall)\n&#34;)
fmt.Printf(&#34;&#39;f&#39; -&gt; 床 (TileFloor)\n&#34;)
fmt.Printf(&#34;&#39;r&#39; -&gt; 道路 (TileFloor)\n&#34;)
fmt.Printf(&#34;&#39; &#39; -&gt; 床 (TileFloor)\n&#34;)
fmt.Printf(&#34;&#39;.&#39; -&gt; 空地・庭 (TileFloor)\n&#34;)

fmt.Printf(&#34;\n実際のマッピング数: %d\n&#34;, len(mapping))
fmt.Printf(&#34;\nワープポータル (&#39;w&#39;, &#39;e&#39;) はエンティティとして別途処理されます\n&#34;)

<span class="comment"></pre>
			
			<p>Output:</p>
			<pre class="output">タイル文字マッピング:
&#39;#&#39; -&gt; 壁 (TileWall)
&#39;f&#39; -&gt; 床 (TileFloor)
&#39;r&#39; -&gt; 道路 (TileFloor)
&#39; &#39; -&gt; 床 (TileFloor)
&#39;.&#39; -&gt; 空地・庭 (TileFloor)

実際のマッピング数: 4

ワープポータル (&#39;w&#39;, &#39;e&#39;) はエンティティとして別途処理されます
</pre>
			
		
	</div>
</div>

			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
				<dd><a href="index.html#pkg-constants">Constants</a></dd>
			
			
				<dd><a href="index.html#pkg-variables">Variables</a></dd>
			
			
				
				<dd><a href="index.html#GetTownLayout">func GetTownLayout() ([]string, []string)</a></dd>
			
				
				<dd><a href="index.html#ValidateStringMap">func ValidateStringMap(tileMap, entityMap []string) error</a></dd>
			
			
				
				<dd><a href="index.html#BigRoomDraw">type BigRoomDraw</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#BigRoomDraw.PlanMeta">func (b BigRoomDraw) PlanMeta(planData *MetaPlan)</a></dd>
				
			
				
				<dd><a href="index.html#BigRoomPlanner">type BigRoomPlanner</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#BigRoomPlanner.PlanInitial">func (b BigRoomPlanner) PlanInitial(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#BoundaryWall">type BoundaryWall</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewBoundaryWall">func NewBoundaryWall(wallTileType Tile) BoundaryWall</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#BoundaryWall.PlanMeta">func (b BoundaryWall) PlanMeta(planData *MetaPlan)</a></dd>
				
			
				
				<dd><a href="index.html#CaveCellularAutomata">type CaveCellularAutomata</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#CaveCellularAutomata.PlanMeta">func (c CaveCellularAutomata) PlanMeta(planData *MetaPlan)</a></dd>
				
			
				
				<dd><a href="index.html#CaveConnector">type CaveConnector</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#CaveConnector.PlanMeta">func (c CaveConnector) PlanMeta(planData *MetaPlan)</a></dd>
				
			
				
				<dd><a href="index.html#CavePathWidener">type CavePathWidener</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#CavePathWidener.PlanMeta">func (c CavePathWidener) PlanMeta(planData *MetaPlan)</a></dd>
				
			
				
				<dd><a href="index.html#CavePlanner">type CavePlanner</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#CavePlanner.PlanInitial">func (c CavePlanner) PlanInitial(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#CaveStalactites">type CaveStalactites</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#CaveStalactites.PlanMeta">func (c CaveStalactites) PlanMeta(planData *MetaPlan)</a></dd>
				
			
				
				<dd><a href="index.html#EntityPlan">type EntityPlan</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#BuildEntityPlanFromStrings">func BuildEntityPlanFromStrings(tileMap, entityMap []string) (*EntityPlan, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#BuildPlan">func BuildPlan(chain *PlannerChain) (*EntityPlan, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewEntityPlan">func NewEntityPlan(width, height int) *EntityPlan</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Plan">func Plan(world w.World, width, height int, seed uint64, plannerType PlannerType) (*EntityPlan, error)</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#EntityPlan.AddFloor">func (mp *EntityPlan) AddFloor(x, y int)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#EntityPlan.AddItem">func (mp *EntityPlan) AddItem(x, y int, itemType string)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#EntityPlan.AddNPC">func (mp *EntityPlan) AddNPC(x, y int, npcType string)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#EntityPlan.AddProp">func (mp *EntityPlan) AddProp(x, y int, propType gc.PropType)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#EntityPlan.AddTile">func (mp *EntityPlan) AddTile(x, y int, tileType Tile)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#EntityPlan.AddWall">func (mp *EntityPlan) AddWall(x, y int, spriteNumber int)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#EntityPlan.AddWallWithType">func (mp *EntityPlan) AddWallWithType(x, y int, wallType WallType)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#EntityPlan.AddWarpEscape">func (mp *EntityPlan) AddWarpEscape(x, y int)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#EntityPlan.AddWarpNext">func (mp *EntityPlan) AddWarpNext(x, y int)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#EntityPlan.GetPlayerStartPosition">func (mp *EntityPlan) GetPlayerStartPosition() (int, int, bool)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#EntityPlan.SetPlayerStartPosition">func (mp *EntityPlan) SetPlayerStartPosition(x, y int)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#EntityPlan.Validate">func (mp *EntityPlan) Validate() error</a></dd>
				
			
				
				<dd><a href="index.html#EntitySpec">type EntitySpec</a></dd>
				
				
			
				
				<dd><a href="index.html#EntityTemplate">type EntityTemplate</a></dd>
				
				
			
				
				<dd><a href="index.html#EntityType">type EntityType</a></dd>
				
				
			
				
				<dd><a href="index.html#FillAll">type FillAll</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewFillAll">func NewFillAll(tileType Tile) FillAll</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#FillAll.PlanMeta">func (b FillAll) PlanMeta(planData *MetaPlan)</a></dd>
				
			
				
				<dd><a href="index.html#ForestPaths">type ForestPaths</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ForestPaths.PlanMeta">func (f ForestPaths) PlanMeta(planData *MetaPlan)</a></dd>
				
			
				
				<dd><a href="index.html#ForestPlanner">type ForestPlanner</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ForestPlanner.PlanInitial">func (f ForestPlanner) PlanInitial(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#ForestTerrain">type ForestTerrain</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ForestTerrain.PlanMeta">func (f ForestTerrain) PlanMeta(planData *MetaPlan)</a></dd>
				
			
				
				<dd><a href="index.html#ForestTrees">type ForestTrees</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ForestTrees.PlanMeta">func (f ForestTrees) PlanMeta(planData *MetaPlan)</a></dd>
				
			
				
				<dd><a href="index.html#ForestWildlife">type ForestWildlife</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ForestWildlife.PlanMeta">func (f ForestWildlife) PlanMeta(planData *MetaPlan)</a></dd>
				
			
				
				<dd><a href="index.html#InitialMapPlanner">type InitialMapPlanner</a></dd>
				
				
			
				
				<dd><a href="index.html#ItemPlanner">type ItemPlanner</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewItemPlanner">func NewItemPlanner(world w.World, plannerType PlannerType) *ItemPlanner</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ItemPlanner.PlanMeta">func (i *ItemPlanner) PlanMeta(planData *MetaPlan)</a></dd>
				
			
				
				<dd><a href="index.html#ItemSpec">type ItemSpec</a></dd>
				
				
			
				
				<dd><a href="index.html#LineCorridorPlanner">type LineCorridorPlanner</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#LineCorridorPlanner.BuildCorridors">func (b LineCorridorPlanner) BuildCorridors(planData *MetaPlan)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#LineCorridorPlanner.PlanMeta">func (b LineCorridorPlanner) PlanMeta(planData *MetaPlan)</a></dd>
				
			
				
				<dd><a href="index.html#MapConnectivityResult">type MapConnectivityResult</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MapConnectivityResult.HasReachableEscapePortal">func (result *MapConnectivityResult) HasReachableEscapePortal() bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MapConnectivityResult.HasReachableWarpPortal">func (result *MapConnectivityResult) HasReachableWarpPortal() bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MapConnectivityResult.IsFullyConnected">func (result *MapConnectivityResult) IsFullyConnected() bool</a></dd>
				
			
				
				<dd><a href="index.html#MetaMapPlanner">type MetaMapPlanner</a></dd>
				
				
			
				
				<dd><a href="index.html#MetaPlan">type MetaPlan</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MetaPlan.AdjacentAnyFloor">func (bm MetaPlan) AdjacentAnyFloor(idx resources.TileIdx) bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MetaPlan.AdjacentOrthoAnyFloor">func (bm MetaPlan) AdjacentOrthoAnyFloor(idx resources.TileIdx) bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MetaPlan.BuildPlan">func (bm *MetaPlan) BuildPlan() (*EntityPlan, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MetaPlan.DownTile">func (bm MetaPlan) DownTile(idx resources.TileIdx) Tile</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MetaPlan.GetWallType">func (bm MetaPlan) GetWallType(idx resources.TileIdx) WallType</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MetaPlan.IsSpawnableTile">func (bm MetaPlan) IsSpawnableTile(_ w.World, tx gc.Tile, ty gc.Tile) bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MetaPlan.LeftTile">func (bm MetaPlan) LeftTile(idx resources.TileIdx) Tile</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MetaPlan.RightTile">func (bm MetaPlan) RightTile(idx resources.TileIdx) Tile</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MetaPlan.UpTile">func (bm MetaPlan) UpTile(idx resources.TileIdx) Tile</a></dd>
				
			
				
				<dd><a href="index.html#NPCPlanner">type NPCPlanner</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewNPCPlanner">func NewNPCPlanner(world w.World, plannerType PlannerType) *NPCPlanner</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NPCPlanner.PlanMeta">func (n *NPCPlanner) PlanMeta(planData *MetaPlan)</a></dd>
				
			
				
				<dd><a href="index.html#NPCSpec">type NPCSpec</a></dd>
				
				
			
				
				<dd><a href="index.html#PathFinder">type PathFinder</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewPathFinder">func NewPathFinder(planData *MetaPlan) *PathFinder</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PathFinder.FindPath">func (pf *PathFinder) FindPath(startX, startY, goalX, goalY int) []Position</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PathFinder.IsReachable">func (pf *PathFinder) IsReachable(startX, startY, goalX, goalY int) bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PathFinder.IsWalkable">func (pf *PathFinder) IsWalkable(x, y int) bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PathFinder.ValidateMapConnectivity">func (pf *PathFinder) ValidateMapConnectivity(playerStartX, playerStartY int) MapConnectivityResult</a></dd>
				
			
				
				<dd><a href="index.html#PlannerChain">type PlannerChain</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewBigRoomPlanner">func NewBigRoomPlanner(width gc.Tile, height gc.Tile, seed uint64) *PlannerChain</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewCavePlanner">func NewCavePlanner(width gc.Tile, height gc.Tile, seed uint64) *PlannerChain</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewForestPlanner">func NewForestPlanner(width gc.Tile, height gc.Tile, seed uint64) *PlannerChain</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewPlannerChain">func NewPlannerChain(width gc.Tile, height gc.Tile, seed uint64) *PlannerChain</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewRandomPlanner">func NewRandomPlanner(width gc.Tile, height gc.Tile, seed uint64) *PlannerChain</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewRuinsPlanner">func NewRuinsPlanner(width gc.Tile, height gc.Tile, seed uint64) *PlannerChain</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewSmallRoomPlanner">func NewSmallRoomPlanner(width gc.Tile, height gc.Tile, seed uint64) *PlannerChain</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewStringMapPlanner">func NewStringMapPlanner(width gc.Tile, height gc.Tile, seed uint64) *PlannerChain</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewStringMapPlannerWithMaps">func NewStringMapPlannerWithMaps(tileMap, entityMap []string, seed uint64) *PlannerChain</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewTownPlanner">func NewTownPlanner(width gc.Tile, height gc.Tile, seed uint64) *PlannerChain</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PlannerChain.GetPlanners">func (b *PlannerChain) GetPlanners() []MetaMapPlanner</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PlannerChain.Plan">func (b *PlannerChain) Plan()</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PlannerChain.StartWith">func (b *PlannerChain) StartWith(initialMapPlanner InitialMapPlanner)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PlannerChain.ValidateConnectivity">func (b *PlannerChain) ValidateConnectivity(playerStartX, playerStartY int) MapConnectivityResult</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PlannerChain.With">func (b *PlannerChain) With(metaMapPlanner MetaMapPlanner)</a></dd>
				
			
				
				<dd><a href="index.html#PlannerType">type PlannerType</a></dd>
				
				
			
				
				<dd><a href="index.html#PortalReachability">type PortalReachability</a></dd>
				
				
			
				
				<dd><a href="index.html#Position">type Position</a></dd>
				
				
			
				
				<dd><a href="index.html#PropsPlanner">type PropsPlanner</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewPropsPlanner">func NewPropsPlanner(world w.World, plannerType PlannerType) *PropsPlanner</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PropsPlanner.PlanMeta">func (p *PropsPlanner) PlanMeta(planData *MetaPlan)</a></dd>
				
			
				
				<dd><a href="index.html#PropsSpec">type PropsSpec</a></dd>
				
				
			
				
				<dd><a href="index.html#RandomSource">type RandomSource</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewRandomSource">func NewRandomSource(seed uint64) *RandomSource</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#RandomSource.Float64">func (r *RandomSource) Float64() float64</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#RandomSource.Intn">func (r *RandomSource) Intn(n int) int</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#RandomSource.Shuffle">func (r *RandomSource) Shuffle(n int, swap func(i, j int))</a></dd>
				
			
				
				<dd><a href="index.html#RectRoomPlanner">type RectRoomPlanner</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#RectRoomPlanner.PlanInitial">func (b RectRoomPlanner) PlanInitial(planData *MetaPlan) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#RectRoomPlanner.PlanRooms">func (b RectRoomPlanner) PlanRooms(planData *MetaPlan)</a></dd>
				
			
				
				<dd><a href="index.html#RoomDraw">type RoomDraw</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#RoomDraw.PlanMeta">func (b RoomDraw) PlanMeta(planData *MetaPlan)</a></dd>
				
			
				
				<dd><a href="index.html#RuinsCorridors">type RuinsCorridors</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#RuinsCorridors.PlanMeta">func (r RuinsCorridors) PlanMeta(planData *MetaPlan)</a></dd>
				
			
				
				<dd><a href="index.html#RuinsDebris">type RuinsDebris</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#RuinsDebris.PlanMeta">func (r RuinsDebris) PlanMeta(planData *MetaPlan)</a></dd>
				
			
				
				<dd><a href="index.html#RuinsDraw">type RuinsDraw</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#RuinsDraw.PlanMeta">func (r RuinsDraw) PlanMeta(planData *MetaPlan)</a></dd>
				
			
				
				<dd><a href="index.html#RuinsPlanner">type RuinsPlanner</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#RuinsPlanner.PlanInitial">func (r RuinsPlanner) PlanInitial(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#SingleRoomDraw">type SingleRoomDraw</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#SingleRoomDraw.PlanMeta">func (d SingleRoomDraw) PlanMeta(planData *MetaPlan)</a></dd>
				
			
				
				<dd><a href="index.html#SingleRoomPlanner">type SingleRoomPlanner</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#SingleRoomPlanner.PlanInitial">func (b SingleRoomPlanner) PlanInitial(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#StringMapPlanner">type StringMapPlanner</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#StringMapPlanner.AddEntityMapping">func (b *StringMapPlanner) AddEntityMapping(char rune, entityType EntityType, data interface{}) *StringMapPlanner</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#StringMapPlanner.AddTileMapping">func (b *StringMapPlanner) AddTileMapping(char rune, tileType Tile) *StringMapPlanner</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#StringMapPlanner.PlanInitial">func (b StringMapPlanner) PlanInitial(planData *MetaPlan) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#StringMapPlanner.SetEntityMapping">func (b *StringMapPlanner) SetEntityMapping(mapping map[rune]EntityTemplate) *StringMapPlanner</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#StringMapPlanner.SetTileMapping">func (b *StringMapPlanner) SetTileMapping(mapping map[rune]Tile) *StringMapPlanner</a></dd>
				
			
				
				<dd><a href="index.html#Tile">type Tile</a></dd>
				
				
			
				
				<dd><a href="index.html#TileSpec">type TileSpec</a></dd>
				
				
			
				
				<dd><a href="index.html#TileType">type TileType</a></dd>
				
				
			
				
				<dd><a href="index.html#TownEntityPlanner">type TownEntityPlanner</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#TownEntityPlanner.PlanInitial">func (b TownEntityPlanner) PlanInitial(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#TownMapDraw">type TownMapDraw</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#TownMapDraw.PlanMeta">func (b TownMapDraw) PlanMeta(planData *MetaPlan)</a></dd>
				
			
				
				<dd><a href="index.html#ValidationError">type ValidationError</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewValidationError">func NewValidationError(message string, x, y int) ValidationError</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ValidationError.Error">func (e ValidationError) Error() string</a></dd>
				
			
				
				<dd><a href="index.html#WallType">type WallType</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WallType.String">func (wt WallType) String() string</a></dd>
				
			
				
				<dd><a href="index.html#WarpPortal">type WarpPortal</a></dd>
				
				
			
				
				<dd><a href="index.html#WarpPortalPlanner">type WarpPortalPlanner</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewWarpPortalPlanner">func NewWarpPortalPlanner(world w.World, plannerType PlannerType) *WarpPortalPlanner</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WarpPortalPlanner.PlanMeta">func (w *WarpPortalPlanner) PlanMeta(planData *MetaPlan)</a></dd>
				
			
				
				<dd><a href="index.html#WarpPortalType">type WarpPortalType</a></dd>
				
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		
		<div id="pkg-examples">
			<h3>Examples</h3>
			<div class="js-expandAll expandAll collapsed">(Expand All)</div>
			<dl>
			
			<dd><a class="exampleLink" href="index.html#example_BuildEntityPlanFromStrings">BuildEntityPlanFromStrings</a></dd>
			
			<dd><a class="exampleLink" href="index.html#example__complexLayout">Package (ComplexLayout)</a></dd>
			
			<dd><a class="exampleLink" href="index.html#example__entityMappings">Package (EntityMappings)</a></dd>
			
			<dd><a class="exampleLink" href="index.html#example__stringEntityPlanGeneration">Package (StringEntityPlanGeneration)</a></dd>
			
			<dd><a class="exampleLink" href="index.html#example__tileMappings">Package (TileMappings)</a></dd>
			
			</dl>
		</div>
		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/big_room.go">big_room.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/boundary_wall.go">boundary_wall.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/cave_planner.go">cave_planner.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/doc.go">doc.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/fill_all.go">fill_all.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/forest_planner.go">forest_planner.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/item_planner.go">item_planner.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go">lib.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/line_corridor.go">line_corridor.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/map_plan.go">map_plan.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/npc_planner.go">npc_planner.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/pathfinder.go">pathfinder.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/plan.go">plan.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/props_planner.go">props_planner.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/random.go">random.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/rect_room.go">rect_room.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/room_draw.go">room_draw.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/ruins_planner.go">ruins_planner.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/single_room.go">single_room.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/string_map_planner.go">string_map_planner.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/string_town_planner.go">string_town_planner.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/tile.go">tile.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/town_planner.go">town_planner.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/validation.go">validation.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/wall_type.go">wall_type.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/warp_portal_planner.go">warp_portal_planner.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
			<h2 id="pkg-constants">Constants</h2>
			
				
				<pre>const (
    <span class="comment">// MaxPlanRetries はプランナーチェーンの最大再試行回数</span>
    <span id="MaxPlanRetries">MaxPlanRetries</span> = 10
)</pre>
			
		
		
			<h2 id="pkg-variables">Variables</h2>
			
				
				<pre>var (
    <span class="comment">// PlannerTypeRandom はランダム選択用のプランナータイプ</span>
    <span id="PlannerTypeRandom">PlannerTypeRandom</span> = <a href="index.html#PlannerType">PlannerType</a>{
        <a href="index.html#PlannerType.Name">Name</a>:              &#34;ランダム&#34;,
        <a href="index.html#PlannerType.SpawnEnemies">SpawnEnemies</a>:      <a href="http://localhost:8888/pkg/builtin/#true">true</a>,
        <a href="index.html#PlannerType.SpawnItems">SpawnItems</a>:        <a href="http://localhost:8888/pkg/builtin/#true">true</a>,
        <a href="index.html#PlannerType.UseFixedPortalPos">UseFixedPortalPos</a>: <a href="http://localhost:8888/pkg/builtin/#false">false</a>,
    }

    <span class="comment">// PlannerTypeSmallRoom は小部屋ダンジョンのプランナータイプ</span>
    <span id="PlannerTypeSmallRoom">PlannerTypeSmallRoom</span> = <a href="index.html#PlannerType">PlannerType</a>{
        <a href="index.html#PlannerType.Name">Name</a>:              &#34;小部屋&#34;,
        <a href="index.html#PlannerType.SpawnEnemies">SpawnEnemies</a>:      <a href="http://localhost:8888/pkg/builtin/#true">true</a>,
        <a href="index.html#PlannerType.SpawnItems">SpawnItems</a>:        <a href="http://localhost:8888/pkg/builtin/#true">true</a>,
        <a href="index.html#PlannerType.UseFixedPortalPos">UseFixedPortalPos</a>: <a href="http://localhost:8888/pkg/builtin/#false">false</a>,
        <a href="index.html#PlannerType.PlannerFunc">PlannerFunc</a>:       <a href="index.html#NewSmallRoomPlanner">NewSmallRoomPlanner</a>,
    }

    <span class="comment">// PlannerTypeBigRoom は大部屋ダンジョンのプランナータイプ</span>
    <span id="PlannerTypeBigRoom">PlannerTypeBigRoom</span> = <a href="index.html#PlannerType">PlannerType</a>{
        <a href="index.html#PlannerType.Name">Name</a>:              &#34;大部屋&#34;,
        <a href="index.html#PlannerType.SpawnEnemies">SpawnEnemies</a>:      <a href="http://localhost:8888/pkg/builtin/#true">true</a>,
        <a href="index.html#PlannerType.SpawnItems">SpawnItems</a>:        <a href="http://localhost:8888/pkg/builtin/#true">true</a>,
        <a href="index.html#PlannerType.UseFixedPortalPos">UseFixedPortalPos</a>: <a href="http://localhost:8888/pkg/builtin/#false">false</a>,
        <a href="index.html#PlannerType.PlannerFunc">PlannerFunc</a>:       <a href="index.html#NewBigRoomPlanner">NewBigRoomPlanner</a>,
    }

    <span class="comment">// PlannerTypeCave は洞窟ダンジョンのプランナータイプ</span>
    <span id="PlannerTypeCave">PlannerTypeCave</span> = <a href="index.html#PlannerType">PlannerType</a>{
        <a href="index.html#PlannerType.Name">Name</a>:              &#34;洞窟&#34;,
        <a href="index.html#PlannerType.SpawnEnemies">SpawnEnemies</a>:      <a href="http://localhost:8888/pkg/builtin/#true">true</a>,
        <a href="index.html#PlannerType.SpawnItems">SpawnItems</a>:        <a href="http://localhost:8888/pkg/builtin/#true">true</a>,
        <a href="index.html#PlannerType.UseFixedPortalPos">UseFixedPortalPos</a>: <a href="http://localhost:8888/pkg/builtin/#false">false</a>,
        <a href="index.html#PlannerType.PlannerFunc">PlannerFunc</a>:       <a href="index.html#NewCavePlanner">NewCavePlanner</a>,
    }

    <span class="comment">// PlannerTypeRuins は遺跡ダンジョンのプランナータイプ</span>
    <span id="PlannerTypeRuins">PlannerTypeRuins</span> = <a href="index.html#PlannerType">PlannerType</a>{
        <a href="index.html#PlannerType.Name">Name</a>:              &#34;遺跡&#34;,
        <a href="index.html#PlannerType.SpawnEnemies">SpawnEnemies</a>:      <a href="http://localhost:8888/pkg/builtin/#true">true</a>,
        <a href="index.html#PlannerType.SpawnItems">SpawnItems</a>:        <a href="http://localhost:8888/pkg/builtin/#true">true</a>,
        <a href="index.html#PlannerType.UseFixedPortalPos">UseFixedPortalPos</a>: <a href="http://localhost:8888/pkg/builtin/#false">false</a>,
        <a href="index.html#PlannerType.PlannerFunc">PlannerFunc</a>:       <a href="index.html#NewRuinsPlanner">NewRuinsPlanner</a>,
    }

    <span class="comment">// PlannerTypeForest は森ダンジョンのプランナータイプ</span>
    <span id="PlannerTypeForest">PlannerTypeForest</span> = <a href="index.html#PlannerType">PlannerType</a>{
        <a href="index.html#PlannerType.Name">Name</a>:              &#34;森&#34;,
        <a href="index.html#PlannerType.SpawnEnemies">SpawnEnemies</a>:      <a href="http://localhost:8888/pkg/builtin/#true">true</a>,
        <a href="index.html#PlannerType.SpawnItems">SpawnItems</a>:        <a href="http://localhost:8888/pkg/builtin/#true">true</a>,
        <a href="index.html#PlannerType.UseFixedPortalPos">UseFixedPortalPos</a>: <a href="http://localhost:8888/pkg/builtin/#false">false</a>,
        <a href="index.html#PlannerType.PlannerFunc">PlannerFunc</a>:       <a href="index.html#NewForestPlanner">NewForestPlanner</a>,
    }

    <span class="comment">// PlannerTypeTown は市街地のプランナータイプ</span>
    <span id="PlannerTypeTown">PlannerTypeTown</span> = <a href="index.html#PlannerType">PlannerType</a>{
        <a href="index.html#PlannerType.Name">Name</a>:              &#34;市街地&#34;,
        <a href="index.html#PlannerType.SpawnEnemies">SpawnEnemies</a>:      <a href="http://localhost:8888/pkg/builtin/#false">false</a>,
        <a href="index.html#PlannerType.SpawnItems">SpawnItems</a>:        <a href="http://localhost:8888/pkg/builtin/#false">false</a>,
        <a href="index.html#PlannerType.UseFixedPortalPos">UseFixedPortalPos</a>: <a href="http://localhost:8888/pkg/builtin/#true">true</a>,
        <a href="index.html#PlannerType.PlannerFunc">PlannerFunc</a>:       <a href="index.html#NewTownPlanner">NewTownPlanner</a>,
    }
)</pre>
			
				
				<pre>var (
    <span class="comment">// ErrConnectivity は接続性エラーを表す</span>
    <span id="ErrConnectivity">ErrConnectivity</span> = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;マップ接続性エラー: プレイヤーからワープホールに到達できません&#34;)
    <span class="comment">// ErrPlayerPlacement はプレイヤー配置エラーを表す</span>
    <span id="ErrPlayerPlacement">ErrPlayerPlacement</span> = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;プレイヤー配置可能な床タイルが見つかりません&#34;)
)</pre>
			
				<p>タイル定数の定義

				<pre>var (
    <span class="comment">// TileEmpty は空のタイル</span>
    <span id="TileEmpty">TileEmpty</span> = <a href="index.html#Tile">Tile</a>{<a href="index.html#Tile.Type">Type</a>: <a href="index.html#TileTypeEmpty">TileTypeEmpty</a>, <a href="index.html#Tile.Walkable">Walkable</a>: <a href="http://localhost:8888/pkg/builtin/#false">false</a>, <a href="index.html#Tile.BlocksLOS">BlocksLOS</a>: <a href="http://localhost:8888/pkg/builtin/#false">false</a>}
    <span class="comment">// TileFloor は床タイル</span>
    <span id="TileFloor">TileFloor</span> = <a href="index.html#Tile">Tile</a>{<a href="index.html#Tile.Type">Type</a>: <a href="index.html#TileTypeFloor">TileTypeFloor</a>, <a href="index.html#Tile.Walkable">Walkable</a>: <a href="http://localhost:8888/pkg/builtin/#true">true</a>, <a href="index.html#Tile.BlocksLOS">BlocksLOS</a>: <a href="http://localhost:8888/pkg/builtin/#false">false</a>}
    <span class="comment">// TileWall は壁タイル</span>
    <span id="TileWall">TileWall</span> = <a href="index.html#Tile">Tile</a>{<a href="index.html#Tile.Type">Type</a>: <a href="index.html#TileTypeWall">TileTypeWall</a>, <a href="index.html#Tile.Walkable">Walkable</a>: <a href="http://localhost:8888/pkg/builtin/#false">false</a>, <a href="index.html#Tile.BlocksLOS">BlocksLOS</a>: <a href="http://localhost:8888/pkg/builtin/#true">true</a>}
)</pre>
			
		
		
			
			
			<h2 id="GetTownLayout">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/string_town_planner.go?s=1295:1336#L27">GetTownLayout</a>
				<a class="permalink" href="index.html#GetTownLayout">&#xb6;</a>
				
				
			</h2>
			<pre>func GetTownLayout() ([]<a href="http://localhost:8888/pkg/builtin/#string">string</a>, []<a href="http://localhost:8888/pkg/builtin/#string">string</a>)</pre>
			<p>GetTownLayout は街のタイルとエンティティレイアウトを返す
TODO: tileMap と entityMap を明確に分ける(両方で使えるものがあって使い分けがわかりにくい)
TODO: 建物をプレハブ式にする

			
			

		
			
			
			<h2 id="ValidateStringMap">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/string_map_planner.go?s=10056:10113#L310">ValidateStringMap</a>
				<a class="permalink" href="index.html#ValidateStringMap">&#xb6;</a>
				
				
			</h2>
			<pre>func ValidateStringMap(tileMap, entityMap []<a href="http://localhost:8888/pkg/builtin/#string">string</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
			<p>ValidateStringMap は文字列マップの妥当性をチェックする

			
			

		
		
			
			
			<h2 id="BigRoomDraw">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/big_room.go?s=846:871#L19">BigRoomDraw</a>
				<a class="permalink" href="index.html#BigRoomDraw">&#xb6;</a>
				
				
			</h2>
			<p>BigRoomDraw は大部屋を描画し、ランダムにバリエーションを適用するビルダー

			<pre>type BigRoomDraw struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="BigRoomDraw.PlanMeta">func (BigRoomDraw) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/big_room.go?s=976:1025#L22">PlanMeta</a>
					<a class="permalink" href="index.html#BigRoomDraw.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (b <a href="index.html#BigRoomDraw">BigRoomDraw</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>)</pre>
				<p>PlanMeta は大部屋をタイルに描画し、ランダムにバリエーションを適用する

				
				
				
			
		
			
			
			<h2 id="BigRoomPlanner">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/big_room.go?s=192:220#L1">BigRoomPlanner</a>
				<a class="permalink" href="index.html#BigRoomPlanner">&#xb6;</a>
				
				
			</h2>
			<p>BigRoomPlanner は大部屋を生成するビルダー
マップ全体の大部分を1つの部屋にする

			<pre>type BigRoomPlanner struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="BigRoomPlanner.PlanInitial">func (BigRoomPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/big_room.go?s=274:335#L2">PlanInitial</a>
					<a class="permalink" href="index.html#BigRoomPlanner.PlanInitial">&#xb6;</a>
					
					
				</h3>
				<pre>func (b <a href="index.html#BigRoomPlanner">BigRoomPlanner</a>) PlanInitial(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanInitial は初期マップをプランする

				
				
				
			
		
			
			
			<h2 id="BoundaryWall">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/boundary_wall.go?s=234:338#L1">BoundaryWall</a>
				<a class="permalink" href="index.html#BoundaryWall">&#xb6;</a>
				
				
			</h2>
			<p>BoundaryWall は外枠をすべて指定タイルで覆うビルダー
マップの最外枠のタイルを無条件で指定タイルタイプに変更する

			<pre>type BoundaryWall struct {
<span id="BoundaryWall.WallTileType"></span>    <span class="comment">// WallTileType 外枠に使用するタイルタイプ</span>
    WallTileType <a href="index.html#Tile">Tile</a>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewBoundaryWall">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/boundary_wall.go?s=411:463#L3">NewBoundaryWall</a>
					<a class="permalink" href="index.html#NewBoundaryWall">&#xb6;</a>
					
					
				</h3>
				<pre>func NewBoundaryWall(wallTileType <a href="index.html#Tile">Tile</a>) <a href="index.html#BoundaryWall">BoundaryWall</a></pre>
				<p>NewBoundaryWall は新しいBoundaryWallビルダーを作成する

				
				
			

			
				
				<h3 id="BoundaryWall.PlanMeta">func (BoundaryWall) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/boundary_wall.go?s=573:623#L10">PlanMeta</a>
					<a class="permalink" href="index.html#BoundaryWall.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (b <a href="index.html#BoundaryWall">BoundaryWall</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>)</pre>
				<p>PlanMeta はメタデータをビルドする

				
				
				
			
		
			
			
			<h2 id="CaveCellularAutomata">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/cave_planner.go?s=821:890#L17">CaveCellularAutomata</a>
				<a class="permalink" href="index.html#CaveCellularAutomata">&#xb6;</a>
				
				
			</h2>
			<p>CaveCellularAutomata はセルラーオートマトンによる洞窟生成

			<pre>type CaveCellularAutomata struct {
    <span class="comment">// 反復回数</span>
<span id="CaveCellularAutomata.Iterations"></span>    Iterations <a href="http://localhost:8888/pkg/builtin/#int">int</a>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="CaveCellularAutomata.PlanMeta">func (CaveCellularAutomata) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/cave_planner.go?s=962:1020#L23">PlanMeta</a>
					<a class="permalink" href="index.html#CaveCellularAutomata.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (c <a href="index.html#CaveCellularAutomata">CaveCellularAutomata</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>)</pre>
				<p>PlanMeta はセルラーオートマトンで洞窟を生成する

				
				
				
			
		
			
			
			<h2 id="CaveConnector">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/cave_planner.go?s=7571:7598#L258">CaveConnector</a>
				<a class="permalink" href="index.html#CaveConnector">&#xb6;</a>
				
				
			</h2>
			<p>CaveConnector は隔離された洞窟領域を接続する

			<pre>type CaveConnector struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="CaveConnector.PlanMeta">func (CaveConnector) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/cave_planner.go?s=7658:7709#L261">PlanMeta</a>
					<a class="permalink" href="index.html#CaveConnector.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (c <a href="index.html#CaveConnector">CaveConnector</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>)</pre>
				<p>PlanMeta は隔離された洞窟領域を接続する

				
				
				
			
		
			
			
			<h2 id="CavePathWidener">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/cave_planner.go?s=5301:5330#L181">CavePathWidener</a>
				<a class="permalink" href="index.html#CavePathWidener">&#xb6;</a>
				
				
			</h2>
			<p>CavePathWidener は通路を広げる

			<pre>type CavePathWidener struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="CavePathWidener.PlanMeta">func (CavePathWidener) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/cave_planner.go?s=5372:5425#L184">PlanMeta</a>
					<a class="permalink" href="index.html#CavePathWidener.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (c <a href="index.html#CavePathWidener">CavePathWidener</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>)</pre>
				<p>PlanMeta は狭い通路を広げる

				
				
				
			
		
			
			
			<h2 id="CavePlanner">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/cave_planner.go?s=324:349#L1">CavePlanner</a>
				<a class="permalink" href="index.html#CavePlanner">&#xb6;</a>
				
				
			</h2>
			<p>CavePlanner は洞窟風レイアウトを生成するビルダー
セルラーオートマトンを使用して有機的な洞窟形状を作成
TODO: 全然わかってないので理解する

			<pre>type CavePlanner struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="CavePlanner.PlanInitial">func (CavePlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/cave_planner.go?s=409:467#L4">PlanInitial</a>
					<a class="permalink" href="index.html#CavePlanner.PlanInitial">&#xb6;</a>
					
					
				</h3>
				<pre>func (c <a href="index.html#CavePlanner">CavePlanner</a>) PlanInitial(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanInitial は初期洞窟マップをプランする

				
				
				
			
		
			
			
			<h2 id="CaveStalactites">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/cave_planner.go?s=6871:6900#L235">CaveStalactites</a>
				<a class="permalink" href="index.html#CaveStalactites">&#xb6;</a>
				
				
			</h2>
			<p>CaveStalactites は鍾乳石や岩の障害物を配置する

			<pre>type CaveStalactites struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="CaveStalactites.PlanMeta">func (CaveStalactites) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/cave_planner.go?s=6954:7007#L238">PlanMeta</a>
					<a class="permalink" href="index.html#CaveStalactites.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (c <a href="index.html#CaveStalactites">CaveStalactites</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>)</pre>
				<p>PlanMeta は洞窟内に鍾乳石を配置する

				
				
				
			
		
			
			
			<h2 id="EntityPlan">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/map_plan.go?s=220:645#L1">EntityPlan</a>
				<a class="permalink" href="index.html#EntityPlan">&#xb6;</a>
				
				
			</h2>
			<p>EntityPlan はマップ生成計画を表す
タイル配置とエンティティ配置を事前に計画し、後で一括実行する

			<pre>type EntityPlan struct {
<span id="EntityPlan.Width"></span>    Width        <a href="http://localhost:8888/pkg/builtin/#int">int</a>          <span class="comment">// マップ幅</span>
<span id="EntityPlan.Height"></span>    Height       <a href="http://localhost:8888/pkg/builtin/#int">int</a>          <span class="comment">// マップ高さ</span>
<span id="EntityPlan.Tiles"></span>    Tiles        []<a href="index.html#TileSpec">TileSpec</a>   <span class="comment">// タイル配置計画</span>
<span id="EntityPlan.Entities"></span>    Entities     []<a href="index.html#EntitySpec">EntitySpec</a> <span class="comment">// エンティティ配置計画</span>
<span id="EntityPlan.PlayerStartX"></span>    PlayerStartX <a href="http://localhost:8888/pkg/builtin/#int">int</a>          <span class="comment">// プレイヤー開始X座標</span>
<span id="EntityPlan.PlayerStartY"></span>    PlayerStartY <a href="http://localhost:8888/pkg/builtin/#int">int</a>          <span class="comment">// プレイヤー開始Y座標</span>
<span id="EntityPlan.HasPlayerPos"></span>    HasPlayerPos <a href="http://localhost:8888/pkg/builtin/#bool">bool</a>         <span class="comment">// プレイヤー位置が設定されているか</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="BuildEntityPlanFromStrings">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/string_map_planner.go?s=7253:7334#L207">BuildEntityPlanFromStrings</a>
					<a class="permalink" href="index.html#BuildEntityPlanFromStrings">&#xb6;</a>
					
					
				</h3>
				<pre>func BuildEntityPlanFromStrings(tileMap, entityMap []<a href="http://localhost:8888/pkg/builtin/#string">string</a>) (*<a href="index.html#EntityPlan">EntityPlan</a>, <a href="http://localhost:8888/pkg/builtin/#error">error</a>)</pre>
				<p>BuildEntityPlanFromStrings は文字列マップからEntityPlanを生成する

				<div id="example_BuildEntityPlanFromStrings" class="toggle">
	<div class="collapsed">
		<p class="exampleHeading toggleButton">▹ <span class="text">Example</span></p>
	</div>
	<div class="expanded">
		<p class="exampleHeading toggleButton">▾ <span class="text">Example</span></p>
		<p>文字列ベースマップビルダーの使用例
</p>
		
		
			<p>Code:</p>
			<pre class="code"><span class="comment">// タイル配置を文字列で定義</span>
tileMap := []string{
    &#34;######......&#34;,
    &#34;#ffff#......&#34;,
    &#34;#fffffffff..&#34;,
    &#34;#ffff#......&#34;,
    &#34;######......&#34;,
}

<span class="comment">// エンティティ配置を文字列で定義</span>
entityMap := []string{
    &#34;............&#34;,
    &#34;............&#34;,
    &#34;....@.......&#34;,
    &#34;..CT........&#34;,
    &#34;............&#34;,
}

<span class="comment">// EntityPlanを生成</span>
plan, err := BuildEntityPlanFromStrings(tileMap, entityMap)
if err != nil {
    panic(err)
}

fmt.Printf(&#34;マップサイズ: %dx%d\n&#34;, plan.Width, plan.Height)
fmt.Printf(&#34;エンティティ数: %d\n&#34;, len(plan.Entities))

<span class="comment">// Props数をカウント</span>
propCount := 0
for _, entity := range plan.Entities {
    if entity.EntityType == EntityTypeProp {
        propCount++
    }
}
fmt.Printf(&#34;Props数: %d\n&#34;, propCount)

<span class="comment"></pre>
			
			<p>Output:</p>
			<pre class="output">マップサイズ: 12x5
エンティティ数: 62
Props数: 2
</pre>
			
		
	</div>
</div>

				
			
				
				<h3 id="BuildPlan">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=17680:17736#L559">BuildPlan</a>
					<a class="permalink" href="index.html#BuildPlan">&#xb6;</a>
					
					
				</h3>
				<pre>func BuildPlan(chain *<a href="index.html#PlannerChain">PlannerChain</a>) (*<a href="index.html#EntityPlan">EntityPlan</a>, <a href="http://localhost:8888/pkg/builtin/#error">error</a>)</pre>
				<p>BuildPlan はPlannerChainを実行してEntityPlanを生成する

				
				
			
				
				<h3 id="NewEntityPlan">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/map_plan.go?s=2264:2313#L53">NewEntityPlan</a>
					<a class="permalink" href="index.html#NewEntityPlan">&#xb6;</a>
					
					
				</h3>
				<pre>func NewEntityPlan(width, height <a href="http://localhost:8888/pkg/builtin/#int">int</a>) *<a href="index.html#EntityPlan">EntityPlan</a></pre>
				<p>NewEntityPlan は新しいEntityPlanを作成する

				
				
			
				
				<h3 id="Plan">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/plan.go?s=776:878#L15">Plan</a>
					<a class="permalink" href="index.html#Plan">&#xb6;</a>
					
					
				</h3>
				<pre>func Plan(world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>, width, height <a href="http://localhost:8888/pkg/builtin/#int">int</a>, seed <a href="http://localhost:8888/pkg/builtin/#uint64">uint64</a>, plannerType <a href="index.html#PlannerType">PlannerType</a>) (*<a href="index.html#EntityPlan">EntityPlan</a>, <a href="http://localhost:8888/pkg/builtin/#error">error</a>)</pre>
				<p>Plan はPlannerChainを初期化して追加プランナーを統合し、EntityPlanを構築する
接続性検証に失敗した場合は規定回数まで再試行する

				
				
			

			
				
				<h3 id="EntityPlan.AddFloor">func (*EntityPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/map_plan.go?s=2797:2837#L75">AddFloor</a>
					<a class="permalink" href="index.html#EntityPlan.AddFloor">&#xb6;</a>
					
					
				</h3>
				<pre>func (mp *<a href="index.html#EntityPlan">EntityPlan</a>) AddFloor(x, y <a href="http://localhost:8888/pkg/builtin/#int">int</a>)</pre>
				<p>AddFloor は床エンティティを計画に追加する

				
				
				
			
				
				<h3 id="EntityPlan.AddItem">func (*EntityPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/map_plan.go?s=4661:4717#L143">AddItem</a>
					<a class="permalink" href="index.html#EntityPlan.AddItem">&#xb6;</a>
					
					
				</h3>
				<pre>func (mp *<a href="index.html#EntityPlan">EntityPlan</a>) AddItem(x, y <a href="http://localhost:8888/pkg/builtin/#int">int</a>, itemType <a href="http://localhost:8888/pkg/builtin/#string">string</a>)</pre>
				<p>AddItem はアイテムエンティティを計画に追加する

				
				
				
			
				
				<h3 id="EntityPlan.AddNPC">func (*EntityPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/map_plan.go?s=4394:4448#L133">AddNPC</a>
					<a class="permalink" href="index.html#EntityPlan.AddNPC">&#xb6;</a>
					
					
				</h3>
				<pre>func (mp *<a href="index.html#EntityPlan">EntityPlan</a>) AddNPC(x, y <a href="http://localhost:8888/pkg/builtin/#int">int</a>, npcType <a href="http://localhost:8888/pkg/builtin/#string">string</a>)</pre>
				<p>AddNPC はNPCエンティティを計画に追加する

				
				
				
			
				
				<h3 id="EntityPlan.AddProp">func (*EntityPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/map_plan.go?s=3652:3713#L105">AddProp</a>
					<a class="permalink" href="index.html#EntityPlan.AddProp">&#xb6;</a>
					
					
				</h3>
				<pre>func (mp *<a href="index.html#EntityPlan">EntityPlan</a>) AddProp(x, y <a href="http://localhost:8888/pkg/builtin/#int">int</a>, propType <a href="../components/index.html">gc</a>.<a href="../components/index.html#PropType">PropType</a>)</pre>
				<p>AddProp は置物エンティティを計画に追加する

				
				
				
			
				
				<h3 id="EntityPlan.AddTile">func (*EntityPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/map_plan.go?s=2581:2635#L66">AddTile</a>
					<a class="permalink" href="index.html#EntityPlan.AddTile">&#xb6;</a>
					
					
				</h3>
				<pre>func (mp *<a href="index.html#EntityPlan">EntityPlan</a>) AddTile(x, y <a href="http://localhost:8888/pkg/builtin/#int">int</a>, tileType <a href="index.html#Tile">Tile</a>)</pre>
				<p>AddTile はタイル配置を計画に追加する

				
				
				
			
				
				<h3 id="EntityPlan.AddWall">func (*EntityPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/map_plan.go?s=3019:3076#L84">AddWall</a>
					<a class="permalink" href="index.html#EntityPlan.AddWall">&#xb6;</a>
					
					
				</h3>
				<pre>func (mp *<a href="index.html#EntityPlan">EntityPlan</a>) AddWall(x, y <a href="http://localhost:8888/pkg/builtin/#int">int</a>, spriteNumber <a href="http://localhost:8888/pkg/builtin/#int">int</a>)</pre>
				<p>AddWall は壁エンティティを計画に追加する

				
				
				
			
				
				<h3 id="EntityPlan.AddWallWithType">func (*EntityPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/map_plan.go?s=3377:3443#L95">AddWallWithType</a>
					<a class="permalink" href="index.html#EntityPlan.AddWallWithType">&#xb6;</a>
					
					
				</h3>
				<pre>func (mp *<a href="index.html#EntityPlan">EntityPlan</a>) AddWallWithType(x, y <a href="http://localhost:8888/pkg/builtin/#int">int</a>, wallType <a href="index.html#WallType">WallType</a>)</pre>
				<p>AddWallWithType は壁タイプを指定して壁エンティティを計画に追加する
スプライト番号はmapspawnerで決定される

				
				
				
			
				
				<h3 id="EntityPlan.AddWarpEscape">func (*EntityPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/map_plan.go?s=4163:4208#L124">AddWarpEscape</a>
					<a class="permalink" href="index.html#EntityPlan.AddWarpEscape">&#xb6;</a>
					
					
				</h3>
				<pre>func (mp *<a href="index.html#EntityPlan">EntityPlan</a>) AddWarpEscape(x, y <a href="http://localhost:8888/pkg/builtin/#int">int</a>)</pre>
				<p>AddWarpEscape は脱出ワープホールを計画に追加する

				
				
				
			
				
				<h3 id="EntityPlan.AddWarpNext">func (*EntityPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/map_plan.go?s=3926:3969#L115">AddWarpNext</a>
					<a class="permalink" href="index.html#EntityPlan.AddWarpNext">&#xb6;</a>
					
					
				</h3>
				<pre>func (mp *<a href="index.html#EntityPlan">EntityPlan</a>) AddWarpNext(x, y <a href="http://localhost:8888/pkg/builtin/#int">int</a>)</pre>
				<p>AddWarpNext は進行ワープホールを計画に追加する

				
				
				
			
				
				<h3 id="EntityPlan.GetPlayerStartPosition">func (*EntityPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/map_plan.go?s=5214:5277#L161">GetPlayerStartPosition</a>
					<a class="permalink" href="index.html#EntityPlan.GetPlayerStartPosition">&#xb6;</a>
					
					
				</h3>
				<pre>func (mp *<a href="index.html#EntityPlan">EntityPlan</a>) GetPlayerStartPosition() (<a href="http://localhost:8888/pkg/builtin/#int">int</a>, <a href="http://localhost:8888/pkg/builtin/#int">int</a>, <a href="http://localhost:8888/pkg/builtin/#bool">bool</a>)</pre>
				<p>GetPlayerStartPosition はプレイヤーの開始位置を取得する
プレイヤー位置が設定されていない場合はfalseを返す

				
				
				
			
				
				<h3 id="EntityPlan.SetPlayerStartPosition">func (*EntityPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/map_plan.go?s=4938:4992#L153">SetPlayerStartPosition</a>
					<a class="permalink" href="index.html#EntityPlan.SetPlayerStartPosition">&#xb6;</a>
					
					
				</h3>
				<pre>func (mp *<a href="index.html#EntityPlan">EntityPlan</a>) SetPlayerStartPosition(x, y <a href="http://localhost:8888/pkg/builtin/#int">int</a>)</pre>
				<p>SetPlayerStartPosition はプレイヤーの開始位置を設定する

				
				
				
			
				
				<h3 id="EntityPlan.Validate">func (*EntityPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/validation.go?s=573:611#L19">Validate</a>
					<a class="permalink" href="index.html#EntityPlan.Validate">&#xb6;</a>
					
					
				</h3>
				<pre>func (mp *<a href="index.html#EntityPlan">EntityPlan</a>) Validate() <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Validate は計画の妥当性と接続性をチェックする

				
				
				
			
		
			
			
			<h2 id="EntitySpec">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/map_plan.go?s=847:1329#L17">EntitySpec</a>
				<a class="permalink" href="index.html#EntitySpec">&#xb6;</a>
				
				
			</h2>
			<p>EntitySpec はエンティティ配置仕様

			<pre>type EntitySpec struct {
<span id="EntitySpec.X"></span>    X          <a href="http://localhost:8888/pkg/builtin/#int">int</a>          <span class="comment">// X座標</span>
<span id="EntitySpec.Y"></span>    Y          <a href="http://localhost:8888/pkg/builtin/#int">int</a>          <span class="comment">// Y座標</span>
<span id="EntitySpec.EntityType"></span>    EntityType <a href="index.html#EntityType">EntityType</a>   <span class="comment">// エンティティタイプ</span>
<span id="EntitySpec.PropType"></span>    PropType   *<a href="../components/index.html">gc</a>.<a href="../components/index.html#PropType">PropType</a> <span class="comment">// 置物タイプ（置物の場合）</span>
<span id="EntitySpec.NPCType"></span>    NPCType    *<a href="http://localhost:8888/pkg/builtin/#string">string</a>      <span class="comment">// NPCタイプ（NPCの場合）</span>
<span id="EntitySpec.ItemType"></span>    ItemType   *<a href="http://localhost:8888/pkg/builtin/#string">string</a>      <span class="comment">// アイテムタイプ（アイテムの場合）</span>
<span id="EntitySpec.WallSprite"></span>    WallSprite *<a href="http://localhost:8888/pkg/builtin/#int">int</a>         <span class="comment">// 壁スプライト番号（壁の場合、直接指定）</span>
<span id="EntitySpec.WallType"></span>    WallType   *<a href="index.html#WallType">WallType</a>    <span class="comment">// 壁タイプ</span>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="EntityTemplate">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/string_map_planner.go?s=770:880#L10">EntityTemplate</a>
				<a class="permalink" href="index.html#EntityTemplate">&#xb6;</a>
				
				
			</h2>
			<p>EntityTemplate はエンティティ生成計画

			<pre>type EntityTemplate struct {
<span id="EntityTemplate.EntityType"></span>    EntityType <a href="index.html#EntityType">EntityType</a>
<span id="EntityTemplate.Data"></span>    Data       interface{} <span class="comment">// PropType等の追加データ</span>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="EntityType">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/map_plan.go?s=1385:1407#L29">EntityType</a>
				<a class="permalink" href="index.html#EntityType">&#xb6;</a>
				
				
			</h2>
			<p>EntityType はエンティティの種類を表す

			<pre>type EntityType <a href="http://localhost:8888/pkg/builtin/#string">string</a></pre>

			
				
				<pre>const (
    <span class="comment">// EntityTypeFloor は床エンティティ</span>
    <span id="EntityTypeFloor">EntityTypeFloor</span> <a href="index.html#EntityType">EntityType</a> = &#34;Floor&#34;
    <span class="comment">// EntityTypeWall は壁エンティティ</span>
    <span id="EntityTypeWall">EntityTypeWall</span> <a href="index.html#EntityType">EntityType</a> = &#34;Wall&#34;
    <span class="comment">// EntityTypeWarpNext は進行ワープホール</span>
    <span id="EntityTypeWarpNext">EntityTypeWarpNext</span> <a href="index.html#EntityType">EntityType</a> = &#34;WarpNext&#34;
    <span class="comment">// EntityTypeWarpEscape は脱出ワープホール</span>
    <span id="EntityTypeWarpEscape">EntityTypeWarpEscape</span> <a href="index.html#EntityType">EntityType</a> = &#34;WarpEscape&#34;
    <span class="comment">// EntityTypeProp は置物エンティティ</span>
    <span id="EntityTypeProp">EntityTypeProp</span> <a href="index.html#EntityType">EntityType</a> = &#34;Prop&#34;
    <span class="comment">// EntityTypeNPC はNPCエンティティ</span>
    <span id="EntityTypeNPC">EntityTypeNPC</span> <a href="index.html#EntityType">EntityType</a> = &#34;NPC&#34;
    <span class="comment">// EntityTypeItem はアイテムエンティティ</span>
    <span id="EntityTypeItem">EntityTypeItem</span> <a href="index.html#EntityType">EntityType</a> = &#34;Item&#34;
    <span class="comment">// EntityTypePlayer はプレイヤーエンティティ</span>
    <span id="EntityTypePlayer">EntityTypePlayer</span> <a href="index.html#EntityType">EntityType</a> = &#34;Player&#34;
    <span class="comment">// EntityTypeDoor はドアエンティティ</span>
    <span id="EntityTypeDoor">EntityTypeDoor</span> <a href="index.html#EntityType">EntityType</a> = &#34;Door&#34;
)</pre>
			

			

			
			
			

			

			
		
			
			
			<h2 id="FillAll">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/fill_all.go?s=89:127#L1">FillAll</a>
				<a class="permalink" href="index.html#FillAll">&#xb6;</a>
				
				
			</h2>
			<p>FillAll は全体を指定したタイルで埋めるビルダー

			<pre>type FillAll struct {
<span id="FillAll.TileType"></span>    TileType <a href="index.html#Tile">Tile</a>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewFillAll">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/fill_all.go?s=190:228#L1">NewFillAll</a>
					<a class="permalink" href="index.html#NewFillAll">&#xb6;</a>
					
					
				</h3>
				<pre>func NewFillAll(tileType <a href="index.html#Tile">Tile</a>) <a href="index.html#FillAll">FillAll</a></pre>
				<p>NewFillAll は新しいFillAllビルダーを作成する

				
				
			

			
				
				<h3 id="FillAll.PlanMeta">func (FillAll) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/fill_all.go?s=325:370#L6">PlanMeta</a>
					<a class="permalink" href="index.html#FillAll.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (b <a href="index.html#FillAll">FillAll</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>)</pre>
				<p>PlanMeta はメタデータをビルドする

				
				
				
			
		
			
			
			<h2 id="ForestPaths">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/forest_planner.go?s=5030:5055#L154">ForestPaths</a>
				<a class="permalink" href="index.html#ForestPaths">&#xb6;</a>
				
				
			</h2>
			<p>ForestPaths は森の中に自然な通路を作成する

			<pre>type ForestPaths struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="ForestPaths.PlanMeta">func (ForestPaths) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/forest_planner.go?s=5118:5167#L157">PlanMeta</a>
					<a class="permalink" href="index.html#ForestPaths.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (f <a href="index.html#ForestPaths">ForestPaths</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>)</pre>
				<p>PlanMeta は空き地間に自然な通路を作成する

				
				
				
			
		
			
			
			<h2 id="ForestPlanner">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/forest_planner.go?s=217:244#L1">ForestPlanner</a>
				<a class="permalink" href="index.html#ForestPlanner">&#xb6;</a>
				
				
			</h2>
			<p>ForestPlanner は森風レイアウトを生成するビルダー
木々が点在し、自然な通路を持つ森を作成

			<pre>type ForestPlanner struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="ForestPlanner.PlanInitial">func (ForestPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/forest_planner.go?s=301:361#L4">PlanInitial</a>
					<a class="permalink" href="index.html#ForestPlanner.PlanInitial">&#xb6;</a>
					
					
				</h3>
				<pre>func (f <a href="index.html#ForestPlanner">ForestPlanner</a>) PlanInitial(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanInitial は初期森マップをプランする

				
				
				
			
		
			
			
			<h2 id="ForestTerrain">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/forest_planner.go?s=1380:1407#L36">ForestTerrain</a>
				<a class="permalink" href="index.html#ForestTerrain">&#xb6;</a>
				
				
			</h2>
			<p>ForestTerrain は森の基本地形を生成する

			<pre>type ForestTerrain struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="ForestTerrain.PlanMeta">func (ForestTerrain) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/forest_planner.go?s=1470:1521#L39">PlanMeta</a>
					<a class="permalink" href="index.html#ForestTerrain.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (f <a href="index.html#ForestTerrain">ForestTerrain</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>)</pre>
				<p>PlanMeta は森の基本地形をタイルに描画する

				
				
				
			
		
			
			
			<h2 id="ForestTrees">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/forest_planner.go?s=2499:2524#L72">ForestTrees</a>
				<a class="permalink" href="index.html#ForestTrees">&#xb6;</a>
				
				
			</h2>
			<p>ForestTrees は森に木々を配置する

			<pre>type ForestTrees struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="ForestTrees.PlanMeta">func (ForestTrees) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/forest_planner.go?s=2566:2615#L75">PlanMeta</a>
					<a class="permalink" href="index.html#ForestTrees.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (f <a href="index.html#ForestTrees">ForestTrees</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>)</pre>
				<p>PlanMeta は森に木を配置する

				
				
				
			
		
			
			
			<h2 id="ForestWildlife">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/forest_planner.go?s=7928:7956#L239">ForestWildlife</a>
				<a class="permalink" href="index.html#ForestWildlife">&#xb6;</a>
				
				
			</h2>
			<p>ForestWildlife は森に野生動物の痕跡（小さな空き地）を追加する

			<pre>type ForestWildlife struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="ForestWildlife.PlanMeta">func (ForestWildlife) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/forest_planner.go?s=8019:8071#L242">PlanMeta</a>
					<a class="permalink" href="index.html#ForestWildlife.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (f <a href="index.html#ForestWildlife">ForestWildlife</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>)</pre>
				<p>PlanMeta は森に小さな動物の痕跡を追加する

				
				
				
			
		
			
			
			<h2 id="InitialMapPlanner">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=13014:13080#L417">InitialMapPlanner</a>
				<a class="permalink" href="index.html#InitialMapPlanner">&#xb6;</a>
				
				
			</h2>
			<p>InitialMapPlanner は初期マップをプランするインターフェース
タイルへの描画は行わず、構造体フィールドの値を初期化するだけ

			<pre>type InitialMapPlanner interface {
    PlanInitial(*<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a>
}</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="ItemPlanner">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/item_planner.go?s=1012:1085#L22">ItemPlanner</a>
				<a class="permalink" href="index.html#ItemPlanner">&#xb6;</a>
				
				
			</h2>
			<p>ItemPlanner はアイテム配置を担当するプランナー

			<pre>type ItemPlanner struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewItemPlanner">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/item_planner.go?s=1151:1223#L28">NewItemPlanner</a>
					<a class="permalink" href="index.html#NewItemPlanner">&#xb6;</a>
					
					
				</h3>
				<pre>func NewItemPlanner(world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>, plannerType <a href="index.html#PlannerType">PlannerType</a>) *<a href="index.html#ItemPlanner">ItemPlanner</a></pre>
				<p>NewItemPlanner はアイテムプランナーを作成する

				
				
			

			
				
				<h3 id="ItemPlanner.PlanMeta">func (*ItemPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/item_planner.go?s=1370:1420#L36">PlanMeta</a>
					<a class="permalink" href="index.html#ItemPlanner.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (i *<a href="index.html#ItemPlanner">ItemPlanner</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>)</pre>
				<p>PlanMeta はアイテム配置情報をMetaPlanに追加する

				
				
				
			
		
			
			
			<h2 id="ItemSpec">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/item_planner.go?s=827:943#L15">ItemSpec</a>
				<a class="permalink" href="index.html#ItemSpec">&#xb6;</a>
				
				
			</h2>
			<p>ItemSpec はアイテム配置仕様を表す

			<pre>type ItemSpec struct {
<span id="ItemSpec.X"></span>    X        <a href="http://localhost:8888/pkg/builtin/#int">int</a>    <span class="comment">// X座標</span>
<span id="ItemSpec.Y"></span>    Y        <a href="http://localhost:8888/pkg/builtin/#int">int</a>    <span class="comment">// Y座標</span>
<span id="ItemSpec.ItemName"></span>    ItemName <a href="http://localhost:8888/pkg/builtin/#string">string</a> <span class="comment">// アイテム名</span>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="LineCorridorPlanner">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/line_corridor.go?s=195:228#L1">LineCorridorPlanner</a>
				<a class="permalink" href="index.html#LineCorridorPlanner">&#xb6;</a>
				
				
			</h2>
			<p>LineCorridorPlanner は直線廊下を生成するビルダー

			<pre>type LineCorridorPlanner struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="LineCorridorPlanner.BuildCorridors">func (LineCorridorPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/line_corridor.go?s=416:479#L9">BuildCorridors</a>
					<a class="permalink" href="index.html#LineCorridorPlanner.BuildCorridors">&#xb6;</a>
					
					
				</h3>
				<pre>func (b <a href="index.html#LineCorridorPlanner">LineCorridorPlanner</a>) BuildCorridors(planData *<a href="index.html#MetaPlan">MetaPlan</a>)</pre>
				<p>BuildCorridors は廊下をビルドする

				
				
				
			
				
				<h3 id="LineCorridorPlanner.PlanMeta">func (LineCorridorPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/line_corridor.go?s=279:336#L4">PlanMeta</a>
					<a class="permalink" href="index.html#LineCorridorPlanner.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (b <a href="index.html#LineCorridorPlanner">LineCorridorPlanner</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>)</pre>
				<p>PlanMeta はメタデータをビルドする

				
				
				
			
		
			
			
			<h2 id="MapConnectivityResult">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/pathfinder.go?s=4815:5167#L153">MapConnectivityResult</a>
				<a class="permalink" href="index.html#MapConnectivityResult">&#xb6;</a>
				
				
			</h2>
			<p>MapConnectivityResult はマップ接続性検証の結果

			<pre>type MapConnectivityResult struct {
<span id="MapConnectivityResult.PlayerStartReachable"></span>    <span class="comment">// PlayerStartReachable はプレイヤーのスタート位置が歩行可能か</span>
    PlayerStartReachable <a href="http://localhost:8888/pkg/builtin/#bool">bool</a>
<span id="MapConnectivityResult.WarpPortals"></span>    <span class="comment">// WarpPortals はワープポータルの到達可能性リスト</span>
    WarpPortals []<a href="index.html#PortalReachability">PortalReachability</a>
<span id="MapConnectivityResult.EscapePortals"></span>    <span class="comment">// EscapePortals は脱出ポータルの到達可能性リスト</span>
    EscapePortals []<a href="index.html#PortalReachability">PortalReachability</a>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="MapConnectivityResult.HasReachableEscapePortal">func (*MapConnectivityResult) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/pathfinder.go?s=5778:5846#L180">HasReachableEscapePortal</a>
					<a class="permalink" href="index.html#MapConnectivityResult.HasReachableEscapePortal">&#xb6;</a>
					
					
				</h3>
				<pre>func (result *<a href="index.html#MapConnectivityResult">MapConnectivityResult</a>) HasReachableEscapePortal() <a href="http://localhost:8888/pkg/builtin/#bool">bool</a></pre>
				<p>HasReachableEscapePortal は到達可能な脱出ポータルがあるかを返す

				
				
				
			
				
				<h3 id="MapConnectivityResult.HasReachableWarpPortal">func (*MapConnectivityResult) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/pathfinder.go?s=5515:5581#L170">HasReachableWarpPortal</a>
					<a class="permalink" href="index.html#MapConnectivityResult.HasReachableWarpPortal">&#xb6;</a>
					
					
				</h3>
				<pre>func (result *<a href="index.html#MapConnectivityResult">MapConnectivityResult</a>) HasReachableWarpPortal() <a href="http://localhost:8888/pkg/builtin/#bool">bool</a></pre>
				<p>HasReachableWarpPortal は到達可能なワープポータルがあるかを返す

				
				
				
			
				
				<h3 id="MapConnectivityResult.IsFullyConnected">func (*MapConnectivityResult) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/pathfinder.go?s=6061:6121#L190">IsFullyConnected</a>
					<a class="permalink" href="index.html#MapConnectivityResult.IsFullyConnected">&#xb6;</a>
					
					
				</h3>
				<pre>func (result *<a href="index.html#MapConnectivityResult">MapConnectivityResult</a>) IsFullyConnected() <a href="http://localhost:8888/pkg/builtin/#bool">bool</a></pre>
				<p>IsFullyConnected はプレイヤーがすべての重要なポータルに到達可能かを返す

				
				
				
			
		
			
			
			<h2 id="MetaMapPlanner">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=13158:13212#L422">MetaMapPlanner</a>
				<a class="permalink" href="index.html#MetaMapPlanner">&#xb6;</a>
				
				
			</h2>
			<p>MetaMapPlanner はメタ情報をプランするインターフェース

			<pre>type MetaMapPlanner interface {
    PlanMeta(*<a href="index.html#MetaPlan">MetaPlan</a>)
}</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="MetaPlan">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=881:2152#L24">MetaPlan</a>
				<a class="permalink" href="index.html#MetaPlan">&#xb6;</a>
				
				
			</h2>
			<p>MetaPlan は階層のタイルを作る元になる概念の集合体

			<pre>type MetaPlan struct {
    <span class="comment">// 階層情報</span>
<span id="MetaPlan.Level"></span>    Level <a href="../resources/index.html">resources</a>.<a href="../resources/index.html#Level">Level</a>
    <span class="comment">// 階層を構成するタイル群。長さはステージの大きさで決まる</span>
<span id="MetaPlan.Tiles"></span>    Tiles []<a href="index.html#Tile">Tile</a>
    <span class="comment">// 部屋群。部屋は長方形の移動可能な空間のことをいう。</span>
    <span class="comment">// 部屋はタイルの集合体である</span>
<span id="MetaPlan.Rooms"></span>    Rooms []<a href="../components/index.html">gc</a>.<a href="../components/index.html#Rect">Rect</a>
    <span class="comment">// 廊下群。廊下は部屋と部屋をつなぐ移動可能な空間のことをいう。</span>
    <span class="comment">// 廊下はタイルの集合体である</span>
<span id="MetaPlan.Corridors"></span>    Corridors [][]<a href="../resources/index.html">resources</a>.<a href="../resources/index.html#TileIdx">TileIdx</a>
<span id="MetaPlan.RandomSource"></span>    <span class="comment">// RandomSource はシード値による再現可能なランダム生成を提供する（内部プランナーのみアクセス可能）</span>
    RandomSource *<a href="index.html#RandomSource">RandomSource</a>
<span id="MetaPlan.WarpPortals"></span>    <span class="comment">// WarpPortals は配置予定のワープポータルリスト（内部プランナーからアクセス可能、外部からは読み取り専用）</span>
    WarpPortals []<a href="index.html#WarpPortal">WarpPortal</a>
<span id="MetaPlan.NPCs"></span>    <span class="comment">// NPCs は配置予定のNPCリスト（内部プランナーからアクセス可能、外部からは読み取り専用）</span>
    NPCs []<a href="index.html#NPCSpec">NPCSpec</a>
<span id="MetaPlan.Items"></span>    <span class="comment">// Items は配置予定のアイテムリスト（内部プランナーからアクセス可能、外部からは読み取り専用）</span>
    Items []<a href="index.html#ItemSpec">ItemSpec</a>
<span id="MetaPlan.Props"></span>    <span class="comment">// Props は配置予定のPropsリスト（内部プランナーからアクセス可能、外部からは読み取り専用）</span>
    Props []<a href="index.html#PropsSpec">PropsSpec</a>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="MetaPlan.AdjacentAnyFloor">func (MetaPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=4568:4631#L145">AdjacentAnyFloor</a>
					<a class="permalink" href="index.html#MetaPlan.AdjacentAnyFloor">&#xb6;</a>
					
					
				</h3>
				<pre>func (bm <a href="index.html#MetaPlan">MetaPlan</a>) AdjacentAnyFloor(idx <a href="../resources/index.html">resources</a>.<a href="../resources/index.html#TileIdx">TileIdx</a>) <a href="http://localhost:8888/pkg/builtin/#bool">bool</a></pre>
				<p>AdjacentAnyFloor は直交・斜めを含む近傍8タイルに床があるか判定する

				
				
				
			
				
				<h3 id="MetaPlan.AdjacentOrthoAnyFloor">func (MetaPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=4274:4342#L137">AdjacentOrthoAnyFloor</a>
					<a class="permalink" href="index.html#MetaPlan.AdjacentOrthoAnyFloor">&#xb6;</a>
					
					
				</h3>
				<pre>func (bm <a href="index.html#MetaPlan">MetaPlan</a>) AdjacentOrthoAnyFloor(idx <a href="../resources/index.html">resources</a>.<a href="../resources/index.html#TileIdx">TileIdx</a>) <a href="http://localhost:8888/pkg/builtin/#bool">bool</a></pre>
				<p>AdjacentOrthoAnyFloor は直交する近傍4タイルに移動可能タイルがあるか判定する

				
				
				
			
				
				<h3 id="MetaPlan.BuildPlan">func (*MetaPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=10010:10062#L309">BuildPlan</a>
					<a class="permalink" href="index.html#MetaPlan.BuildPlan">&#xb6;</a>
					
					
				</h3>
				<pre>func (bm *<a href="index.html#MetaPlan">MetaPlan</a>) BuildPlan() (*<a href="index.html#EntityPlan">EntityPlan</a>, <a href="http://localhost:8888/pkg/builtin/#error">error</a>)</pre>
				<p>BuildPlan はMetaPlanからEntityPlanを構築する
MetaPlanは生成過程で使用される中間データ、EntityPlanは最終的な配置計画

				
				
				
			
				
				<h3 id="MetaPlan.DownTile">func (MetaPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=3547:3602#L107">DownTile</a>
					<a class="permalink" href="index.html#MetaPlan.DownTile">&#xb6;</a>
					
					
				</h3>
				<pre>func (bm <a href="index.html#MetaPlan">MetaPlan</a>) DownTile(idx <a href="../resources/index.html">resources</a>.<a href="../resources/index.html#TileIdx">TileIdx</a>) <a href="index.html#Tile">Tile</a></pre>
				<p>DownTile は下にあるタイルを調べる

				
				
				
			
				
				<h3 id="MetaPlan.GetWallType">func (MetaPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=5356:5418#L177">GetWallType</a>
					<a class="permalink" href="index.html#MetaPlan.GetWallType">&#xb6;</a>
					
					
				</h3>
				<pre>func (bm <a href="index.html#MetaPlan">MetaPlan</a>) GetWallType(idx <a href="../resources/index.html">resources</a>.<a href="../resources/index.html#TileIdx">TileIdx</a>) <a href="index.html#WallType">WallType</a></pre>
				<p>GetWallType は近傍パターンから適切な壁タイプを判定する

				
				
				
			
				
				<h3 id="MetaPlan.IsSpawnableTile">func (MetaPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=2231:2305#L48">IsSpawnableTile</a>
					<a class="permalink" href="index.html#MetaPlan.IsSpawnableTile">&#xb6;</a>
					
					
				</h3>
				<pre>func (bm <a href="index.html#MetaPlan">MetaPlan</a>) IsSpawnableTile(_ <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>, tx <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, ty <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>) <a href="http://localhost:8888/pkg/builtin/#bool">bool</a></pre>
				<p>IsSpawnableTile は指定タイル座標がスポーン可能かを返す

				
				
				
			
				
				<h3 id="MetaPlan.LeftTile">func (MetaPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=3791:3846#L117">LeftTile</a>
					<a class="permalink" href="index.html#MetaPlan.LeftTile">&#xb6;</a>
					
					
				</h3>
				<pre>func (bm <a href="index.html#MetaPlan">MetaPlan</a>) LeftTile(idx <a href="../resources/index.html">resources</a>.<a href="../resources/index.html#TileIdx">TileIdx</a>) <a href="index.html#Tile">Tile</a></pre>
				<p>LeftTile は左にあるタイルを調べる

				
				
				
			
				
				<h3 id="MetaPlan.RightTile">func (MetaPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=3995:4051#L127">RightTile</a>
					<a class="permalink" href="index.html#MetaPlan.RightTile">&#xb6;</a>
					
					
				</h3>
				<pre>func (bm <a href="index.html#MetaPlan">MetaPlan</a>) RightTile(idx <a href="../resources/index.html">resources</a>.<a href="../resources/index.html#TileIdx">TileIdx</a>) <a href="index.html#Tile">Tile</a></pre>
				<p>RightTile は右にあるタイルを調べる

				
				
				
			
				
				<h3 id="MetaPlan.UpTile">func (MetaPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=3300:3353#L97">UpTile</a>
					<a class="permalink" href="index.html#MetaPlan.UpTile">&#xb6;</a>
					
					
				</h3>
				<pre>func (bm <a href="index.html#MetaPlan">MetaPlan</a>) UpTile(idx <a href="../resources/index.html">resources</a>.<a href="../resources/index.html#TileIdx">TileIdx</a>) <a href="index.html#Tile">Tile</a></pre>
				<p>UpTile は上にあるタイルを調べる

				
				
				
			
		
			
			
			<h2 id="NPCPlanner">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/npc_planner.go?s=668:740#L17">NPCPlanner</a>
				<a class="permalink" href="index.html#NPCPlanner">&#xb6;</a>
				
				
			</h2>
			<p>NPCPlanner はNPC配置を担当するプランナー

			<pre>type NPCPlanner struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewNPCPlanner">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/npc_planner.go?s=796:866#L23">NewNPCPlanner</a>
					<a class="permalink" href="index.html#NewNPCPlanner">&#xb6;</a>
					
					
				</h3>
				<pre>func NewNPCPlanner(world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>, plannerType <a href="index.html#PlannerType">PlannerType</a>) *<a href="index.html#NPCPlanner">NPCPlanner</a></pre>
				<p>NewNPCPlanner はNPCプランナーを作成する

				
				
			

			
				
				<h3 id="NPCPlanner.PlanMeta">func (*NPCPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/npc_planner.go?s=1003:1052#L31">PlanMeta</a>
					<a class="permalink" href="index.html#NPCPlanner.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (n *<a href="index.html#NPCPlanner">NPCPlanner</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>)</pre>
				<p>PlanMeta はNPC配置情報をMetaPlanに追加する

				
				
				
			
		
			
			
			<h2 id="NPCSpec">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/npc_planner.go?s=500:609#L10">NPCSpec</a>
				<a class="permalink" href="index.html#NPCSpec">&#xb6;</a>
				
				
			</h2>
			<p>NPCSpec はNPC配置仕様を表す

			<pre>type NPCSpec struct {
<span id="NPCSpec.X"></span>    X       <a href="http://localhost:8888/pkg/builtin/#int">int</a>    <span class="comment">// X座標</span>
<span id="NPCSpec.Y"></span>    Y       <a href="http://localhost:8888/pkg/builtin/#int">int</a>    <span class="comment">// Y座標</span>
<span id="NPCSpec.NPCType"></span>    NPCType <a href="http://localhost:8888/pkg/builtin/#string">string</a> <span class="comment">// NPCタイプ</span>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="PathFinder">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/pathfinder.go?s=142:188#L1">PathFinder</a>
				<a class="permalink" href="index.html#PathFinder">&#xb6;</a>
				
				
			</h2>
			<p>PathFinder はパスファインディング機能を提供する

			<pre>type PathFinder struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewPathFinder">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/pathfinder.go?s=236:286#L1">NewPathFinder</a>
					<a class="permalink" href="index.html#NewPathFinder">&#xb6;</a>
					
					
				</h3>
				<pre>func NewPathFinder(planData *<a href="index.html#MetaPlan">MetaPlan</a>) *<a href="index.html#PathFinder">PathFinder</a></pre>
				<p>NewPathFinder はPathFinderを作成する

				
				
			

			
				
				<h3 id="PathFinder.FindPath">func (*PathFinder) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/pathfinder.go?s=890:965#L23">FindPath</a>
					<a class="permalink" href="index.html#PathFinder.FindPath">&#xb6;</a>
					
					
				</h3>
				<pre>func (pf *<a href="index.html#PathFinder">PathFinder</a>) FindPath(startX, startY, goalX, goalY <a href="http://localhost:8888/pkg/builtin/#int">int</a>) []<a href="index.html#Position">Position</a></pre>
				<p>FindPath はBFSを使ってスタート地点からゴールまでのパスを探索する
上下左右の4方向移動のみサポート

				
				
				
			
				
				<h3 id="PathFinder.IsReachable">func (*PathFinder) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/pathfinder.go?s=3486:3558#L114">IsReachable</a>
					<a class="permalink" href="index.html#PathFinder.IsReachable">&#xb6;</a>
					
					
				</h3>
				<pre>func (pf *<a href="index.html#PathFinder">PathFinder</a>) IsReachable(startX, startY, goalX, goalY <a href="http://localhost:8888/pkg/builtin/#int">int</a>) <a href="http://localhost:8888/pkg/builtin/#bool">bool</a></pre>
				<p>IsReachable はスタート地点からゴール地点まで到達可能かを判定する

				
				
				
			
				
				<h3 id="PathFinder.IsWalkable">func (*PathFinder) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/pathfinder.go?s=395:442#L6">IsWalkable</a>
					<a class="permalink" href="index.html#PathFinder.IsWalkable">&#xb6;</a>
					
					
				</h3>
				<pre>func (pf *<a href="index.html#PathFinder">PathFinder</a>) IsWalkable(x, y <a href="http://localhost:8888/pkg/builtin/#int">int</a>) <a href="http://localhost:8888/pkg/builtin/#bool">bool</a></pre>
				<p>IsWalkable は指定座標が歩行可能かを判定する

				
				
				
			
				
				<h3 id="PathFinder.ValidateMapConnectivity">func (*PathFinder) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/pathfinder.go?s=3834:3933#L121">ValidateMapConnectivity</a>
					<a class="permalink" href="index.html#PathFinder.ValidateMapConnectivity">&#xb6;</a>
					
					
				</h3>
				<pre>func (pf *<a href="index.html#PathFinder">PathFinder</a>) ValidateMapConnectivity(playerStartX, playerStartY <a href="http://localhost:8888/pkg/builtin/#int">int</a>) <a href="index.html#MapConnectivityResult">MapConnectivityResult</a></pre>
				<p>ValidateMapConnectivity はマップの接続性を検証する
プレイヤーのスタート位置からワープポータル、脱出ポータルへの到達可能性をチェックする

				
				
				
			
		
			
			
			<h2 id="PlannerChain">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=7768:7871#L238">PlannerChain</a>
				<a class="permalink" href="index.html#PlannerChain">&#xb6;</a>
				
				
			</h2>
			<p>PlannerChain は階層データMetaPlanに対して適用する生成ロジックを保持する構造体

			<pre>type PlannerChain struct {
<span id="PlannerChain.Starter"></span>    Starter  *<a href="index.html#InitialMapPlanner">InitialMapPlanner</a>
<span id="PlannerChain.Planners"></span>    Planners []<a href="index.html#MetaMapPlanner">MetaMapPlanner</a>
<span id="PlannerChain.PlanData"></span>    PlanData <a href="index.html#MetaPlan">MetaPlan</a>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewBigRoomPlanner">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=13859:13939#L440">NewBigRoomPlanner</a>
					<a class="permalink" href="index.html#NewBigRoomPlanner">&#xb6;</a>
					
					
				</h3>
				<pre>func NewBigRoomPlanner(width <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, height <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, seed <a href="http://localhost:8888/pkg/builtin/#uint64">uint64</a>) *<a href="index.html#PlannerChain">PlannerChain</a></pre>
				<p>NewBigRoomPlanner は大部屋プランナーを作成する
ランダムにバリエーションを適用する統合版

				
				
			
				
				<h3 id="NewCavePlanner">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/cave_planner.go?s=9420:9497#L327">NewCavePlanner</a>
					<a class="permalink" href="index.html#NewCavePlanner">&#xb6;</a>
					
					
				</h3>
				<pre>func NewCavePlanner(width <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, height <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, seed <a href="http://localhost:8888/pkg/builtin/#uint64">uint64</a>) *<a href="index.html#PlannerChain">PlannerChain</a></pre>
				<p>NewCavePlanner は洞窟ビルダーを作成する

				
				
			
				
				<h3 id="NewForestPlanner">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/forest_planner.go?s=8933:9012#L272">NewForestPlanner</a>
					<a class="permalink" href="index.html#NewForestPlanner">&#xb6;</a>
					
					
				</h3>
				<pre>func NewForestPlanner(width <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, height <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, seed <a href="http://localhost:8888/pkg/builtin/#uint64">uint64</a>) *<a href="index.html#PlannerChain">PlannerChain</a></pre>
				<p>NewForestPlanner は森ビルダーを作成する

				
				
			
				
				<h3 id="NewPlannerChain">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=8033:8111#L246">NewPlannerChain</a>
					<a class="permalink" href="index.html#NewPlannerChain">&#xb6;</a>
					
					
				</h3>
				<pre>func NewPlannerChain(width <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, height <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, seed <a href="http://localhost:8888/pkg/builtin/#uint64">uint64</a>) *<a href="index.html#PlannerChain">PlannerChain</a></pre>
				<p>NewPlannerChain はシード値を指定してプランナーチェーンを作成する
シードが0の場合はランダムなシードを生成する

				
				
			
				
				<h3 id="NewRandomPlanner">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=16731:16810#L529">NewRandomPlanner</a>
					<a class="permalink" href="index.html#NewRandomPlanner">&#xb6;</a>
					
					
				</h3>
				<pre>func NewRandomPlanner(width <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, height <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, seed <a href="http://localhost:8888/pkg/builtin/#uint64">uint64</a>) *<a href="index.html#PlannerChain">PlannerChain</a></pre>
				<p>NewRandomPlanner はシード値を使用してランダムにプランナーを選択し作成する

				
				
			
				
				<h3 id="NewRuinsPlanner">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/ruins_planner.go?s=6890:6968#L229">NewRuinsPlanner</a>
					<a class="permalink" href="index.html#NewRuinsPlanner">&#xb6;</a>
					
					
				</h3>
				<pre>func NewRuinsPlanner(width <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, height <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, seed <a href="http://localhost:8888/pkg/builtin/#uint64">uint64</a>) *<a href="index.html#PlannerChain">PlannerChain</a></pre>
				<p>NewRuinsPlanner は廃墟ビルダーを作成する

				
				
			
				
				<h3 id="NewSmallRoomPlanner">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=13295:13377#L427">NewSmallRoomPlanner</a>
					<a class="permalink" href="index.html#NewSmallRoomPlanner">&#xb6;</a>
					
					
				</h3>
				<pre>func NewSmallRoomPlanner(width <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, height <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, seed <a href="http://localhost:8888/pkg/builtin/#uint64">uint64</a>) *<a href="index.html#PlannerChain">PlannerChain</a></pre>
				<p>NewSmallRoomPlanner はシンプルな小部屋プランナーを作成する

				
				
			
				
				<h3 id="NewStringMapPlanner">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/string_map_planner.go?s=4276:4358#L119">NewStringMapPlanner</a>
					<a class="permalink" href="index.html#NewStringMapPlanner">&#xb6;</a>
					
					
				</h3>
				<pre>func NewStringMapPlanner(width <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, height <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, seed <a href="http://localhost:8888/pkg/builtin/#uint64">uint64</a>) *<a href="index.html#PlannerChain">PlannerChain</a></pre>
				<p>NewStringMapPlanner は文字列ベースマッププランナーを作成する

				
				
			
				
				<h3 id="NewStringMapPlannerWithMaps">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/string_map_planner.go?s=4670:4758#L131">NewStringMapPlannerWithMaps</a>
					<a class="permalink" href="index.html#NewStringMapPlannerWithMaps">&#xb6;</a>
					
					
				</h3>
				<pre>func NewStringMapPlannerWithMaps(tileMap, entityMap []<a href="http://localhost:8888/pkg/builtin/#string">string</a>, seed <a href="http://localhost:8888/pkg/builtin/#uint64">uint64</a>) *<a href="index.html#PlannerChain">PlannerChain</a></pre>
				<p>NewStringMapPlannerWithMaps は文字列マップを指定してプランナーを作成する

				
				
			
				
				<h3 id="NewTownPlanner">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/string_town_planner.go?s=291:368#L2">NewTownPlanner</a>
					<a class="permalink" href="index.html#NewTownPlanner">&#xb6;</a>
					
					
				</h3>
				<pre>func NewTownPlanner(width <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, height <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, seed <a href="http://localhost:8888/pkg/builtin/#uint64">uint64</a>) *<a href="index.html#PlannerChain">PlannerChain</a></pre>
				<p>NewTownPlanner は文字列ベースの街プランナーを作成する

				
				
			

			
				
				<h3 id="PlannerChain.GetPlanners">func (*PlannerChain) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=17533:17586#L554">GetPlanners</a>
					<a class="permalink" href="index.html#PlannerChain.GetPlanners">&#xb6;</a>
					
					
				</h3>
				<pre>func (b *<a href="index.html#PlannerChain">PlannerChain</a>) GetPlanners() []<a href="index.html#MetaMapPlanner">MetaMapPlanner</a></pre>
				<p>GetPlanners は登録されているプランナーのスライスを返す

				
				
				
			
				
				<h3 id="PlannerChain.Plan">func (*PlannerChain) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=9203:9232#L287">Plan</a>
					<a class="permalink" href="index.html#PlannerChain.Plan">&#xb6;</a>
					
					
				</h3>
				<pre>func (b *<a href="index.html#PlannerChain">PlannerChain</a>) Plan()</pre>
				<p>Plan はプランナーチェーンを実行してマップを生成する

				
				
				
			
				
				<h3 id="PlannerChain.StartWith">func (*PlannerChain) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=8857:8926#L277">StartWith</a>
					<a class="permalink" href="index.html#PlannerChain.StartWith">&#xb6;</a>
					
					
				</h3>
				<pre>func (b *<a href="index.html#PlannerChain">PlannerChain</a>) StartWith(initialMapPlanner <a href="index.html#InitialMapPlanner">InitialMapPlanner</a>)</pre>
				<p>StartWith は初期プランナーを設定する

				
				
				
			
				
				<h3 id="PlannerChain.ValidateConnectivity">func (*PlannerChain) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=9654:9751#L302">ValidateConnectivity</a>
					<a class="permalink" href="index.html#PlannerChain.ValidateConnectivity">&#xb6;</a>
					
					
				</h3>
				<pre>func (b *<a href="index.html#PlannerChain">PlannerChain</a>) ValidateConnectivity(playerStartX, playerStartY <a href="http://localhost:8888/pkg/builtin/#int">int</a>) <a href="index.html#MapConnectivityResult">MapConnectivityResult</a></pre>
				<p>ValidateConnectivity はマップの接続性を検証する
プレイヤーのスタート位置からワープ/脱出ポータルへの到達可能性をチェック

				
				
				
			
				
				<h3 id="PlannerChain.With">func (*PlannerChain) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=9012:9070#L282">With</a>
					<a class="permalink" href="index.html#PlannerChain.With">&#xb6;</a>
					
					
				</h3>
				<pre>func (b *<a href="index.html#PlannerChain">PlannerChain</a>) With(metaMapPlanner <a href="index.html#MetaMapPlanner">MetaMapPlanner</a>)</pre>
				<p>With はメタプランナーを追加する

				
				
				
			
		
			
			
			<h2 id="PlannerType">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=14331:14670#L451">PlannerType</a>
				<a class="permalink" href="index.html#PlannerType">&#xb6;</a>
				
				
			</h2>
			<p>PlannerType はマップ生成の設定を表す構造体

			<pre>type PlannerType struct {
    <span class="comment">// プランナー名</span>
<span id="PlannerType.Name"></span>    Name <a href="http://localhost:8888/pkg/builtin/#string">string</a>
    <span class="comment">// 敵をスポーンするか</span>
<span id="PlannerType.SpawnEnemies"></span>    SpawnEnemies <a href="http://localhost:8888/pkg/builtin/#bool">bool</a>
    <span class="comment">// アイテムをスポーンするか</span>
<span id="PlannerType.SpawnItems"></span>    SpawnItems <a href="http://localhost:8888/pkg/builtin/#bool">bool</a>
    <span class="comment">// ポータル位置を固定するか</span>
<span id="PlannerType.UseFixedPortalPos"></span>    UseFixedPortalPos <a href="http://localhost:8888/pkg/builtin/#bool">bool</a>
    <span class="comment">// プランナー関数</span>
<span id="PlannerType.PlannerFunc"></span>    PlannerFunc func(width <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, height <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, seed <a href="http://localhost:8888/pkg/builtin/#uint64">uint64</a>) *<a href="index.html#PlannerChain">PlannerChain</a>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="PortalReachability">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/pathfinder.go?s=5231:5426#L163">PortalReachability</a>
				<a class="permalink" href="index.html#PortalReachability">&#xb6;</a>
				
				
			</h2>
			<p>PortalReachability はポータルの到達可能性情報

			<pre>type PortalReachability struct {
<span id="PortalReachability.X"></span>    X         <a href="http://localhost:8888/pkg/builtin/#int">int</a>  <span class="comment">// ポータルのX座標</span>
<span id="PortalReachability.Y"></span>    Y         <a href="http://localhost:8888/pkg/builtin/#int">int</a>  <span class="comment">// ポータルのY座標</span>
<span id="PortalReachability.Reachable"></span>    Reachable <a href="http://localhost:8888/pkg/builtin/#bool">bool</a> <span class="comment">// プレイヤーのスタート地点から到達可能か</span>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Position">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/pathfinder.go?s=2689:2727#L86">Position</a>
				<a class="permalink" href="index.html#Position">&#xb6;</a>
				
				
			</h2>
			<p>Position は座標を表す構造体

			<pre>type Position struct {
<span id="Position.X"></span>    X <a href="http://localhost:8888/pkg/builtin/#int">int</a>
<span id="Position.Y"></span>    Y <a href="http://localhost:8888/pkg/builtin/#int">int</a>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="PropsPlanner">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/props_planner.go?s=453:527#L7">PropsPlanner</a>
				<a class="permalink" href="index.html#PropsPlanner">&#xb6;</a>
				
				
			</h2>
			<p>PropsPlanner はProps配置を担当するプランナー

			<pre>type PropsPlanner struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewPropsPlanner">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/props_planner.go?s=587:661#L13">NewPropsPlanner</a>
					<a class="permalink" href="index.html#NewPropsPlanner">&#xb6;</a>
					
					
				</h3>
				<pre>func NewPropsPlanner(world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>, plannerType <a href="index.html#PlannerType">PlannerType</a>) *<a href="index.html#PropsPlanner">PropsPlanner</a></pre>
				<p>NewPropsPlanner はPropsプランナーを作成する

				
				
			

			
				
				<h3 id="PropsPlanner.PlanMeta">func (*PropsPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/props_planner.go?s=802:853#L21">PlanMeta</a>
					<a class="permalink" href="index.html#PropsPlanner.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (p *<a href="index.html#PropsPlanner">PropsPlanner</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>)</pre>
				<p>PlanMeta はProps配置情報をMetaPlanに追加する

				
				
				
			
		
			
			
			<h2 id="PropsSpec">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/props_planner.go?s=259:390#L1">PropsSpec</a>
				<a class="permalink" href="index.html#PropsSpec">&#xb6;</a>
				
				
			</h2>
			<p>PropsSpec はProps配置仕様を表す

			<pre>type PropsSpec struct {
<span id="PropsSpec.X"></span>    X        <a href="http://localhost:8888/pkg/builtin/#int">int</a>         <span class="comment">// X座標</span>
<span id="PropsSpec.Y"></span>    Y        <a href="http://localhost:8888/pkg/builtin/#int">int</a>         <span class="comment">// Y座標</span>
<span id="PropsSpec.PropType"></span>    PropType <a href="../components/index.html">gc</a>.<a href="../components/index.html#PropType">PropType</a> <span class="comment">// Propsタイプ</span>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="RandomSource">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/random.go?s=146:312#L1">RandomSource</a>
				<a class="permalink" href="index.html#RandomSource">&#xb6;</a>
				
				
			</h2>
			<p>RandomSource はシード値を管理して再現性のあるランダム生成を提供する

			<pre>type RandomSource struct {
<span id="RandomSource.Seed"></span>    <span class="comment">// Seed はランダム生成のシード値</span>
    Seed <a href="http://localhost:8888/pkg/builtin/#uint64">uint64</a>
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewRandomSource">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/random.go?s=373:420#L6">NewRandomSource</a>
					<a class="permalink" href="index.html#NewRandomSource">&#xb6;</a>
					
					
				</h3>
				<pre>func NewRandomSource(seed <a href="http://localhost:8888/pkg/builtin/#uint64">uint64</a>) *<a href="index.html#RandomSource">RandomSource</a></pre>
				<p>NewRandomSource は新しいRandomSourceを作成する

				
				
			

			
				
				<h3 id="RandomSource.Float64">func (*RandomSource) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/random.go?s=761:801#L23">Float64</a>
					<a class="permalink" href="index.html#RandomSource.Float64">&#xb6;</a>
					
					
				</h3>
				<pre>func (r *<a href="index.html#RandomSource">RandomSource</a>) Float64() <a href="http://localhost:8888/pkg/builtin/#float64">float64</a></pre>
				<p>Float64 は0.0から1.0までのランダムな浮動小数点数を返す

				
				
				
			
				
				<h3 id="RandomSource.Intn">func (*RandomSource) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/random.go?s=590:628#L15">Intn</a>
					<a class="permalink" href="index.html#RandomSource.Intn">&#xb6;</a>
					
					
				</h3>
				<pre>func (r *<a href="index.html#RandomSource">RandomSource</a>) Intn(n <a href="http://localhost:8888/pkg/builtin/#int">int</a>) <a href="http://localhost:8888/pkg/builtin/#int">int</a></pre>
				<p>Intn は0からn-1までのランダムな整数を返す

				
				
				
			
				
				<h3 id="RandomSource.Shuffle">func (*RandomSource) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/random.go?s=891:949#L28">Shuffle</a>
					<a class="permalink" href="index.html#RandomSource.Shuffle">&#xb6;</a>
					
					
				</h3>
				<pre>func (r *<a href="index.html#RandomSource">RandomSource</a>) Shuffle(n <a href="http://localhost:8888/pkg/builtin/#int">int</a>, swap func(i, j <a href="http://localhost:8888/pkg/builtin/#int">int</a>))</pre>
				<p>Shuffle はスライスの要素をシャッフルする

				
				
				
			
		
			
			
			<h2 id="RectRoomPlanner">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/rect_room.go?s=134:163#L1">RectRoomPlanner</a>
				<a class="permalink" href="index.html#RectRoomPlanner">&#xb6;</a>
				
				
			</h2>
			<p>RectRoomPlanner は長方形の部屋を作成する

			<pre>type RectRoomPlanner struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="RectRoomPlanner.PlanInitial">func (RectRoomPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/rect_room.go?s=208:270#L1">PlanInitial</a>
					<a class="permalink" href="index.html#RectRoomPlanner.PlanInitial">&#xb6;</a>
					
					
				</h3>
				<pre>func (b <a href="index.html#RectRoomPlanner">RectRoomPlanner</a>) PlanInitial(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanInitial は初期プランを行う

				
				
				
			
				
				<h3 id="RectRoomPlanner.PlanRooms">func (RectRoomPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/rect_room.go?s=352:406#L7">PlanRooms</a>
					<a class="permalink" href="index.html#RectRoomPlanner.PlanRooms">&#xb6;</a>
					
					
				</h3>
				<pre>func (b <a href="index.html#RectRoomPlanner">RectRoomPlanner</a>) PlanRooms(planData *<a href="index.html#MetaPlan">MetaPlan</a>)</pre>
				<p>PlanRooms は部屋をプランする

				
				
				
			
		
			
			
			<h2 id="RoomDraw">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/room_draw.go?s=122:144#L1">RoomDraw</a>
				<a class="permalink" href="index.html#RoomDraw">&#xb6;</a>
				
				
			</h2>
			<p>RoomDraw は部屋を描画するビルダー

			<pre>type RoomDraw struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="RoomDraw.PlanMeta">func (RoomDraw) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/room_draw.go?s=195:241#L1">PlanMeta</a>
					<a class="permalink" href="index.html#RoomDraw.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (b <a href="index.html#RoomDraw">RoomDraw</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>)</pre>
				<p>PlanMeta はメタデータをビルドする

				
				
				
			
		
			
			
			<h2 id="RuinsCorridors">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/ruins_planner.go?s=5120:5148#L160">RuinsCorridors</a>
				<a class="permalink" href="index.html#RuinsCorridors">&#xb6;</a>
				
				
			</h2>
			<p>RuinsCorridors は廃墟間を繋ぐ通路を作成する

			<pre>type RuinsCorridors struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="RuinsCorridors.PlanMeta">func (RuinsCorridors) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/ruins_planner.go?s=5199:5251#L163">PlanMeta</a>
					<a class="permalink" href="index.html#RuinsCorridors.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (r <a href="index.html#RuinsCorridors">RuinsCorridors</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>)</pre>
				<p>PlanMeta は廃墟間に通路を作成する

				
				
				
			
		
			
			
			<h2 id="RuinsDebris">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/ruins_planner.go?s=3585:3610#L106">RuinsDebris</a>
				<a class="permalink" href="index.html#RuinsDebris">&#xb6;</a>
				
				
			</h2>
			<p>RuinsDebris は瓦礫や破片を配置する

			<pre>type RuinsDebris struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="RuinsDebris.PlanMeta">func (RuinsDebris) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/ruins_planner.go?s=3658:3707#L109">PlanMeta</a>
					<a class="permalink" href="index.html#RuinsDebris.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (r <a href="index.html#RuinsDebris">RuinsDebris</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>)</pre>
				<p>PlanMeta は廃墟に瓦礫を配置する

				
				
				
			
		
			
			
			<h2 id="RuinsDraw">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/ruins_planner.go?s=1181:1204#L30">RuinsDraw</a>
				<a class="permalink" href="index.html#RuinsDraw">&#xb6;</a>
				
				
			</h2>
			<p>RuinsDraw は廃墟構造を描画する

			<pre>type RuinsDraw struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="RuinsDraw.PlanMeta">func (RuinsDraw) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/ruins_planner.go?s=1261:1308#L33">PlanMeta</a>
					<a class="permalink" href="index.html#RuinsDraw.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (r <a href="index.html#RuinsDraw">RuinsDraw</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>)</pre>
				<p>PlanMeta は廃墟構造をタイルに描画する

				
				
				
			
		
			
			
			<h2 id="RuinsPlanner">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/ruins_planner.go?s=207:233#L1">RuinsPlanner</a>
				<a class="permalink" href="index.html#RuinsPlanner">&#xb6;</a>
				
				
			</h2>
			<p>RuinsPlanner は廃墟風レイアウトを生成するビルダー
建物の残骸や瓦礫が散在する廃墟を作成

			<pre>type RuinsPlanner struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="RuinsPlanner.PlanInitial">func (RuinsPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/ruins_planner.go?s=293:352#L2">PlanInitial</a>
					<a class="permalink" href="index.html#RuinsPlanner.PlanInitial">&#xb6;</a>
					
					
				</h3>
				<pre>func (r <a href="index.html#RuinsPlanner">RuinsPlanner</a>) PlanInitial(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanInitial は初期廃墟マップをビルドする

				
				
				
			
		
			
			
			<h2 id="SingleRoomDraw">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/single_room.go?s=665:693#L19">SingleRoomDraw</a>
				<a class="permalink" href="index.html#SingleRoomDraw">&#xb6;</a>
				
				
			</h2>
			<p>SingleRoomDraw は1部屋を描画する

			<pre>type SingleRoomDraw struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="SingleRoomDraw.PlanMeta">func (SingleRoomDraw) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/single_room.go?s=733:785#L22">PlanMeta</a>
					<a class="permalink" href="index.html#SingleRoomDraw.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (d <a href="index.html#SingleRoomDraw">SingleRoomDraw</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>)</pre>
				<p>PlanMeta は1部屋を描画する

				
				
				
			
		
			
			
			<h2 id="SingleRoomPlanner">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/single_room.go?s=158:189#L1">SingleRoomPlanner</a>
				<a class="permalink" href="index.html#SingleRoomPlanner">&#xb6;</a>
				
				
			</h2>
			<p>SingleRoomPlanner は1つの大きな部屋を作成する（テスト用）

			<pre>type SingleRoomPlanner struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="SingleRoomPlanner.PlanInitial">func (SingleRoomPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/single_room.go?s=234:298#L1">PlanInitial</a>
					<a class="permalink" href="index.html#SingleRoomPlanner.PlanInitial">&#xb6;</a>
					
					
				</h3>
				<pre>func (b <a href="index.html#SingleRoomPlanner">SingleRoomPlanner</a>) PlanInitial(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanInitial は初期プランを行う

				
				
				
			
		
			
			
			<h2 id="StringMapPlanner">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/string_map_planner.go?s=323:716#L2">StringMapPlanner</a>
				<a class="permalink" href="index.html#StringMapPlanner">&#xb6;</a>
				
				
			</h2>
			<p>StringMapPlanner は文字列ベースでマップを生成するプランナー

			<pre>type StringMapPlanner struct {
<span id="StringMapPlanner.TileMap"></span>    TileMap       []<a href="http://localhost:8888/pkg/builtin/#string">string</a>                <span class="comment">// タイル配置を表す文字列のスライス</span>
<span id="StringMapPlanner.EntityMap"></span>    EntityMap     []<a href="http://localhost:8888/pkg/builtin/#string">string</a>                <span class="comment">// エンティティ配置を表す文字列のスライス</span>
<span id="StringMapPlanner.TileMapping"></span>    TileMapping   map[<a href="http://localhost:8888/pkg/builtin/#rune">rune</a>]<a href="index.html#Tile">Tile</a>           <span class="comment">// 文字からTileへのマッピング</span>
<span id="StringMapPlanner.EntityMapping"></span>    EntityMapping map[<a href="http://localhost:8888/pkg/builtin/#rune">rune</a>]<a href="index.html#EntityTemplate">EntityTemplate</a> <span class="comment">// 文字からEntityTemplateへのマッピング</span>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="StringMapPlanner.AddEntityMapping">func (*StringMapPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/string_map_planner.go?s=6887:7000#L198">AddEntityMapping</a>
					<a class="permalink" href="index.html#StringMapPlanner.AddEntityMapping">&#xb6;</a>
					
					
				</h3>
				<pre>func (b *<a href="index.html#StringMapPlanner">StringMapPlanner</a>) AddEntityMapping(char <a href="http://localhost:8888/pkg/builtin/#rune">rune</a>, entityType <a href="index.html#EntityType">EntityType</a>, data interface{}) *<a href="index.html#StringMapPlanner">StringMapPlanner</a></pre>
				<p>AddEntityMapping は追加のエンティティマッピングを設定する

				
				
				
			
				
				<h3 id="StringMapPlanner.AddTileMapping">func (*StringMapPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/string_map_planner.go?s=6601:6686#L189">AddTileMapping</a>
					<a class="permalink" href="index.html#StringMapPlanner.AddTileMapping">&#xb6;</a>
					
					
				</h3>
				<pre>func (b *<a href="index.html#StringMapPlanner">StringMapPlanner</a>) AddTileMapping(char <a href="http://localhost:8888/pkg/builtin/#rune">rune</a>, tileType <a href="index.html#Tile">Tile</a>) *<a href="index.html#StringMapPlanner">StringMapPlanner</a></pre>
				<p>AddTileMapping は追加のタイルマッピングを設定する

				
				
				
			
				
				<h3 id="StringMapPlanner.PlanInitial">func (StringMapPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/string_map_planner.go?s=955:1018#L16">PlanInitial</a>
					<a class="permalink" href="index.html#StringMapPlanner.PlanInitial">&#xb6;</a>
					
					
				</h3>
				<pre>func (b <a href="index.html#StringMapPlanner">StringMapPlanner</a>) PlanInitial(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanInitial は文字列定義からマップ構造を初期化する

				
				
				
			
				
				<h3 id="StringMapPlanner.SetEntityMapping">func (*StringMapPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/string_map_planner.go?s=6394:6488#L183">SetEntityMapping</a>
					<a class="permalink" href="index.html#StringMapPlanner.SetEntityMapping">&#xb6;</a>
					
					
				</h3>
				<pre>func (b *<a href="index.html#StringMapPlanner">StringMapPlanner</a>) SetEntityMapping(mapping map[<a href="http://localhost:8888/pkg/builtin/#rune">rune</a>]<a href="index.html#EntityTemplate">EntityTemplate</a>) *<a href="index.html#StringMapPlanner">StringMapPlanner</a></pre>
				<p>SetEntityMapping はカスタムエンティティマッピングを設定する

				
				
				
			
				
				<h3 id="StringMapPlanner.SetTileMapping">func (*StringMapPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/string_map_planner.go?s=6187:6269#L177">SetTileMapping</a>
					<a class="permalink" href="index.html#StringMapPlanner.SetTileMapping">&#xb6;</a>
					
					
				</h3>
				<pre>func (b *<a href="index.html#StringMapPlanner">StringMapPlanner</a>) SetTileMapping(mapping map[<a href="http://localhost:8888/pkg/builtin/#rune">rune</a>]<a href="index.html#Tile">Tile</a>) *<a href="index.html#StringMapPlanner">StringMapPlanner</a></pre>
				<p>SetTileMapping はカスタムタイルマッピングを設定する

				
				
				
			
		
			
			
			<h2 id="Tile">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/tile.go?s=823:1023#L15">Tile</a>
				<a class="permalink" href="index.html#Tile">&#xb6;</a>
				
				
			</h2>
			<p>Tile はマップの基盤構造を表すタイル
<p>## タイルの概念
マップは規定数のタイル（TileWidth × TileHeight）で正方形に構成される。
各位置には必ず1つのタイルが存在し、タイル自体は不変である。
タイルの上にエンティティ（壁、アイテム、NPCなど）を配置する。
<p>## マップ生成での役割
マップ生成時に使用されるタイルタイプ。
生成後はmapspawnerでエンティティに変換される。

			<pre>type Tile struct {
<span id="Tile.Type"></span>    Type      <a href="index.html#TileType">TileType</a> <span class="comment">// タイルの種類（識別用）</span>
<span id="Tile.Walkable"></span>    Walkable  <a href="http://localhost:8888/pkg/builtin/#bool">bool</a>     <span class="comment">// 移動可能かどうか</span>
<span id="Tile.BlocksLOS"></span>    BlocksLOS <a href="http://localhost:8888/pkg/builtin/#bool">bool</a>     <span class="comment">// 視線を遮るかどうか（将来の拡張用）</span>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="TileSpec">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/map_plan.go?s=684:797#L10">TileSpec</a>
				<a class="permalink" href="index.html#TileSpec">&#xb6;</a>
				
				
			</h2>
			<p>TileSpec はタイル配置仕様

			<pre>type TileSpec struct {
<span id="TileSpec.X"></span>    X        <a href="http://localhost:8888/pkg/builtin/#int">int</a>  <span class="comment">// X座標</span>
<span id="TileSpec.Y"></span>    Y        <a href="http://localhost:8888/pkg/builtin/#int">int</a>  <span class="comment">// Y座標</span>
<span id="TileSpec.TileType"></span>    TileType <a href="index.html#Tile">Tile</a> <span class="comment">// タイルタイプ</span>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="TileType">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/tile.go?s=67:86#L1">TileType</a>
				<a class="permalink" href="index.html#TileType">&#xb6;</a>
				
				
			</h2>
			<p>TileType はタイルの種類を表すenum

			<pre>type TileType <a href="http://localhost:8888/pkg/builtin/#uint8">uint8</a></pre>

			
				
				<pre>const (
    <span class="comment">// TileTypeEmpty は空のタイル（デフォルト状態）</span>
    <span id="TileTypeEmpty">TileTypeEmpty</span> <a href="index.html#TileType">TileType</a> = <a href="http://localhost:8888/pkg/builtin/#iota">iota</a>
    <span class="comment">// TileTypeFloor は床タイル</span>
    <span id="TileTypeFloor">TileTypeFloor</span>
    <span class="comment">// TileTypeWall は壁タイル</span>
    <span id="TileTypeWall">TileTypeWall</span>
)</pre>
			

			

			
			
			

			

			
		
			
			
			<h2 id="TownEntityPlanner">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/town_planner.go?s=241:272#L1">TownEntityPlanner</a>
				<a class="permalink" href="index.html#TownEntityPlanner">&#xb6;</a>
				
				
			</h2>
			<p>TownEntityPlanner は街の固定マップ初期ビルダー

			<pre>type TownEntityPlanner struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="TownEntityPlanner.PlanInitial">func (TownEntityPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/town_planner.go?s=344:408#L3">PlanInitial</a>
					<a class="permalink" href="index.html#TownEntityPlanner.PlanInitial">&#xb6;</a>
					
					
				</h3>
				<pre>func (b <a href="index.html#TownEntityPlanner">TownEntityPlanner</a>) PlanInitial(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanInitial は市街地の固定マップ構造を初期化する

				
				
				
			
		
			
			
			<h2 id="TownMapDraw">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/town_planner.go?s=3330:3355#L128">TownMapDraw</a>
				<a class="permalink" href="index.html#TownMapDraw">&#xb6;</a>
				
				
			</h2>
			<p>TownMapDraw は街の固定マップを描画する

			<pre>type TownMapDraw struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="TownMapDraw.PlanMeta">func (TownMapDraw) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/town_planner.go?s=3403:3452#L131">PlanMeta</a>
					<a class="permalink" href="index.html#TownMapDraw.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (b <a href="index.html#TownMapDraw">TownMapDraw</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>)</pre>
				<p>PlanMeta は街マップの描画を行う

				
				
				
			
		
			
			
			<h2 id="ValidationError">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/validation.go?s=130:190#L1">ValidationError</a>
				<a class="permalink" href="index.html#ValidationError">&#xb6;</a>
				
				
			</h2>
			<p>ValidationError は計画検証エラー

			<pre>type ValidationError struct {
<span id="ValidationError.Message"></span>    Message <a href="http://localhost:8888/pkg/builtin/#string">string</a>
<span id="ValidationError.X"></span>    X, Y    <a href="http://localhost:8888/pkg/builtin/#int">int</a>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewValidationError">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/validation.go?s=359:424#L10">NewValidationError</a>
					<a class="permalink" href="index.html#NewValidationError">&#xb6;</a>
					
					
				</h3>
				<pre>func NewValidationError(message <a href="http://localhost:8888/pkg/builtin/#string">string</a>, x, y <a href="http://localhost:8888/pkg/builtin/#int">int</a>) <a href="index.html#ValidationError">ValidationError</a></pre>
				<p>NewValidationError は新しいValidationErrorを作成する

				
				
			

			
				
				<h3 id="ValidationError.Error">func (ValidationError) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/validation.go?s=192:231#L5">Error</a>
					<a class="permalink" href="index.html#ValidationError.Error">&#xb6;</a>
					
					
				</h3>
				<pre>func (e <a href="index.html#ValidationError">ValidationError</a>) Error() <a href="http://localhost:8888/pkg/builtin/#string">string</a></pre>
				
				
				
				
			
		
			
			
			<h2 id="WallType">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/wall_type.go?s=57:74#L1">WallType</a>
				<a class="permalink" href="index.html#WallType">&#xb6;</a>
				
				
			</h2>
			<p>WallType は壁の種類を表す

			<pre>type WallType <a href="http://localhost:8888/pkg/builtin/#int">int</a></pre>

			
				
				<pre>const (
    <span class="comment">// WallTypeTop は上側の壁（下に床がある壁）</span>
    <span id="WallTypeTop">WallTypeTop</span> <a href="index.html#WallType">WallType</a> = <a href="http://localhost:8888/pkg/builtin/#iota">iota</a>
    <span class="comment">// WallTypeBottom は下側の壁（上に床がある壁）</span>
    <span id="WallTypeBottom">WallTypeBottom</span>
    <span class="comment">// WallTypeLeft は左側の壁（右に床がある壁）</span>
    <span id="WallTypeLeft">WallTypeLeft</span>
    <span class="comment">// WallTypeRight は右側の壁（左に床がある壁）</span>
    <span id="WallTypeRight">WallTypeRight</span>
    <span class="comment">// WallTypeTopLeft は左上角の壁（右下に床がある壁）</span>
    <span id="WallTypeTopLeft">WallTypeTopLeft</span>
    <span class="comment">// WallTypeTopRight は右上角の壁（左下に床がある壁）</span>
    <span id="WallTypeTopRight">WallTypeTopRight</span>
    <span class="comment">// WallTypeBottomLeft は左下角の壁（右上に床がある壁）</span>
    <span id="WallTypeBottomLeft">WallTypeBottomLeft</span>
    <span class="comment">// WallTypeBottomRight は右下角の壁（左上に床がある壁）</span>
    <span id="WallTypeBottomRight">WallTypeBottomRight</span>
    <span class="comment">// WallTypeGeneric は汎用の壁（複雑なパターンまたは判定不可）</span>
    <span id="WallTypeGeneric">WallTypeGeneric</span>
)</pre>
			

			

			
			
			

			

			
				
				<h3 id="WallType.String">func (WallType) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/wall_type.go?s=911:945#L18">String</a>
					<a class="permalink" href="index.html#WallType.String">&#xb6;</a>
					
					
				</h3>
				<pre>func (wt <a href="index.html#WallType">WallType</a>) String() <a href="http://localhost:8888/pkg/builtin/#string">string</a></pre>
				<p>String は壁タイプを文字列で返す

				
				
				
			
		
			
			
			<h2 id="WarpPortal">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=670:806#L17">WarpPortal</a>
				<a class="permalink" href="index.html#WarpPortal">&#xb6;</a>
				
				
			</h2>
			<p>WarpPortal はワープポータルエンティティの配置情報

			<pre>type WarpPortal struct {
<span id="WarpPortal.X"></span>    X    <a href="http://localhost:8888/pkg/builtin/#int">int</a>            <span class="comment">// X座標</span>
<span id="WarpPortal.Y"></span>    Y    <a href="http://localhost:8888/pkg/builtin/#int">int</a>            <span class="comment">// Y座標</span>
<span id="WarpPortal.Type"></span>    Type <a href="index.html#WarpPortalType">WarpPortalType</a> <span class="comment">// ポータルの種別</span>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="WarpPortalPlanner">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/warp_portal_planner.go?s=597:676#L8">WarpPortalPlanner</a>
				<a class="permalink" href="index.html#WarpPortalPlanner">&#xb6;</a>
				
				
			</h2>
			<p>WarpPortalPlanner はワープポータル配置を担当するプランナー

			<pre>type WarpPortalPlanner struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewWarpPortalPlanner">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/warp_portal_planner.go?s=757:841#L14">NewWarpPortalPlanner</a>
					<a class="permalink" href="index.html#NewWarpPortalPlanner">&#xb6;</a>
					
					
				</h3>
				<pre>func NewWarpPortalPlanner(world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>, plannerType <a href="index.html#PlannerType">PlannerType</a>) *<a href="index.html#WarpPortalPlanner">WarpPortalPlanner</a></pre>
				<p>NewWarpPortalPlanner はワープポータルプランナーを作成する

				
				
			

			
				
				<h3 id="WarpPortalPlanner.PlanMeta">func (*WarpPortalPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/warp_portal_planner.go?s=991:1047#L22">PlanMeta</a>
					<a class="permalink" href="index.html#WarpPortalPlanner.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (w *<a href="index.html#WarpPortalPlanner">WarpPortalPlanner</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>)</pre>
				<p>PlanMeta はワープポータルをMetaPlanに追加する

				
				
				
			
		
			
			
			<h2 id="WarpPortalType">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=384:409#L7">WarpPortalType</a>
				<a class="permalink" href="index.html#WarpPortalType">&#xb6;</a>
				
				
			</h2>
			<p>WarpPortalType はワープポータルの種別

			<pre>type WarpPortalType <a href="http://localhost:8888/pkg/builtin/#uint8">uint8</a></pre>

			
				
				<pre>const (
    <span class="comment">// WarpPortalNext は次の階に向かうワープポータル</span>
    <span id="WarpPortalNext">WarpPortalNext</span> <a href="index.html#WarpPortalType">WarpPortalType</a> = <a href="http://localhost:8888/pkg/builtin/#iota">iota</a>
    <span class="comment">// WarpPortalEscape は脱出用ワープポータル</span>
    <span id="WarpPortalEscape">WarpPortalEscape</span>
)</pre>
			

			

			
			
			

			

			
		
	

	







<div id="footer">
Build version go1.24.7.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:8888/LICENSE">BSD license</a>.<br>
<a href="https://golang.org/doc/tos.html">Terms of Service</a> |
<a href="https://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
