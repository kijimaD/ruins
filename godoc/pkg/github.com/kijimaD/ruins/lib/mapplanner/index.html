<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>mapplanner - Go Documentation Server</title>

<link type="text/css" rel="stylesheet" href="../../../../../../lib/godoc/style.css">

<script>window.initFuncs = [];</script>
<script src="../../../../../../lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.24.9";</script>
<script src="../../../../../../lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:8888/pkg/">Go Documentation Server</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:8888/pkg/">GoDoc</a></div>
<a href="index.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:8888/search">
<div id="menu">

<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package mapplanner
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "github.com/kijimaD/ruins/lib/mapplanner"</code></dd>
			</dl>
			<dl>
			<dd><a href="index.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="index.html#pkg-index" class="indexLink">Index</a></dd>
			
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				<p>Package mapplanner provides map planning functionality.
<p>このパッケージは階層マップの生成機能を提供します：
<ul>
<li>タイルベースのマップ生成
<li>各種マップアルゴリズム（部屋、洞窟、森林、廃墟など）
<li>タイルとエンティティの配置計画作成
</ul>
<p>## マップ構造の概念
<p>マップは規定数のタイル（TileWidth × TileHeight）で正方形に構成されます。
各位置には必ず1つのタイルが存在し、タイル自体は不変です。
タイルの上にエンティティ（壁、床、アイテム、NPCなど）を配置していきます。
<p>## 主要データ構造
<p>- **MetaPlan**: マップ生成・エンティティ生成用の統一データ構造
<ul>
<li>タイル配列（[]raw.TileRaw）、部屋情報、廊下情報、乱数生成器を含む
<li>PlannerChain内で段階的に構築される
<li>mapspawnerで直接ECSエンティティ生成に使用される
</ul>
<p>## タイル定義
<p>### 基本タイルタイプ
マップ生成で使用される標準タイルタイプ：
<ul>
<li>planData.GenerateTile(&quot;Empty&quot;): 空のタイル（デフォルト状態）
<li>planData.GenerateTile(&quot;Floor&quot;): 床タイル（通行可能）
<li>planData.GenerateTile(&quot;Wall&quot;): 壁タイル（通行不可）
<li>TileWater: 水タイル（通行可能だが特殊）
<li>TileDoor: 扉タイル（開閉可能な通路）
<li>TilePit: 落とし穴タイル（歩くと落下）
</ul>
<p>### TOMLベースタイル定義システム
新しいタイル定義システムでは、TOMLファイルでタイルの種類と属性を定義できます：
<pre>[[Tiles]]
Name = &quot;Floor&quot;
Description = &quot;床タイル - 移動可能な基本的なタイル&quot;
Walkable = true
</pre>
<p>TileMasterクラスを使用してタイル定義を読み込み・管理：
<ul>
<li>LoadTileFromFile(): TOMLファイルからタイル定義を読み込み
<li>GenerateTile(): 名前指定でタイルオブジェクトを生成
</ul>
<p>## エンティティ
<p>エンティティとして実装されます：
<ul>
<li>床タイル + ワープポータルエンティティ = ワープ機能のある場所
</ul>
<p>## 通行可否判定
<p>マップ生成時にはタイルの Walkable フィールドで通行可否を判定します：
<ul>
<li>通行可能: planData.GenerateTile(&quot;Floor&quot;)（Walkable=true）
<li>通行不可: planData.GenerateTile(&quot;Wall&quot;)（Walkable=false）, planData.GenerateTile(&quot;Empty&quot;)（Walkable=false）
</ul>
<p>## マップ生成の流れ
<p>### MetaPlan統一方式
1. タイル配列の初期化（全てplanData.GenerateTile(&quot;Empty&quot;)）
2. PlannerChainによる段階的タイル配置（MetaPlan）
3. mapspawner.SpawnFromMetaPlanで直接ECSエンティティ生成
<ul>
<li>タイルタイプに応じて対応するエンティティ（床、壁、ワープホールなど）を配置
<li>NPCやアイテムなどの詳細なエンティティ配置も直接処理
</ul>
<p>いずれの場合も実行時はエンティティベースの通行可否判定（movement.CanMoveTo）を使用
<h3 id="hdr-Package_mapplanner___NPC_______">Package mapplanner の敵NPC配置プランナー</h3>
<p>Package mapplanner はマップ生成機能を提供する
参考: <a href="https://bfnightly.bracketproductions.com">https://bfnightly.bracketproductions.com</a>
<h3 id="hdr-Package_mapplanner__Props_________________mapspawner____">Package mapplanner のProps配置プランナー - 責務分離によりmapspawnerから移動</h3>
<p>Package mapplanner の MetaPlan 対応街プランナー
元の文字列ベース街レイアウトを MetaPlan 方式で実装
<p>Package mapplanner のワープポータル配置プランナー - 責務分離によりmapspawnerから移動

				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
				<dd><a href="index.html#pkg-constants">Constants</a></dd>
			
			
				<dd><a href="index.html#pkg-variables">Variables</a></dd>
			
			
				
				<dd><a href="index.html#CreateTestRawMaster">func CreateTestRawMaster() *raw.Master</a></dd>
			
			
				
				<dd><a href="index.html#AutoTileIndex">type AutoTileIndex</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#AutoTileIndex.String">func (ati AutoTileIndex) String() string</a></dd>
				
			
				
				<dd><a href="index.html#BigRoomDraw">type BigRoomDraw</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#BigRoomDraw.PlanMeta">func (b BigRoomDraw) PlanMeta(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#BigRoomPlanner">type BigRoomPlanner</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#BigRoomPlanner.PlanInitial">func (b BigRoomPlanner) PlanInitial(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#BoundaryWall">type BoundaryWall</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewBoundaryWall">func NewBoundaryWall(wallTileName string) BoundaryWall</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#BoundaryWall.PlanMeta">func (b BoundaryWall) PlanMeta(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#CaveCellularAutomata">type CaveCellularAutomata</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#CaveCellularAutomata.PlanMeta">func (c CaveCellularAutomata) PlanMeta(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#CaveConnector">type CaveConnector</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#CaveConnector.PlanMeta">func (c CaveConnector) PlanMeta(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#CavePathWidener">type CavePathWidener</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#CavePathWidener.PlanMeta">func (c CavePathWidener) PlanMeta(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#CavePlanner">type CavePlanner</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#CavePlanner.PlanInitial">func (c CavePlanner) PlanInitial(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#CaveStalactites">type CaveStalactites</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#CaveStalactites.PlanMeta">func (c CaveStalactites) PlanMeta(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#DoorSpec">type DoorSpec</a></dd>
				
				
			
				
				<dd><a href="index.html#FillAll">type FillAll</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewFillAll">func NewFillAll(tileName string) FillAll</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#FillAll.PlanMeta">func (b FillAll) PlanMeta(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#ForestPaths">type ForestPaths</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ForestPaths.PlanMeta">func (f ForestPaths) PlanMeta(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#ForestPlanner">type ForestPlanner</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ForestPlanner.PlanInitial">func (f ForestPlanner) PlanInitial(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#ForestTerrain">type ForestTerrain</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ForestTerrain.PlanMeta">func (f ForestTerrain) PlanMeta(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#ForestTrees">type ForestTrees</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ForestTrees.PlanMeta">func (f ForestTrees) PlanMeta(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#ForestWildlife">type ForestWildlife</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ForestWildlife.PlanMeta">func (f ForestWildlife) PlanMeta(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#HostileNPCPlanner">type HostileNPCPlanner</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewHostileNPCPlanner">func NewHostileNPCPlanner(world w.World, plannerType PlannerType) *HostileNPCPlanner</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#HostileNPCPlanner.PlanMeta">func (n *HostileNPCPlanner) PlanMeta(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#InitialMapPlanner">type InitialMapPlanner</a></dd>
				
				
			
				
				<dd><a href="index.html#ItemPlanner">type ItemPlanner</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewItemPlanner">func NewItemPlanner(world w.World, plannerType PlannerType) *ItemPlanner</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#ItemPlanner.PlanMeta">func (i *ItemPlanner) PlanMeta(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#ItemSpec">type ItemSpec</a></dd>
				
				
			
				
				<dd><a href="index.html#LineCorridorPlanner">type LineCorridorPlanner</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#LineCorridorPlanner.BuildCorridors">func (b LineCorridorPlanner) BuildCorridors(planData *MetaPlan)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#LineCorridorPlanner.PlanMeta">func (b LineCorridorPlanner) PlanMeta(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#MetaMapPlanner">type MetaMapPlanner</a></dd>
				
				
			
				
				<dd><a href="index.html#MetaPlan">type MetaPlan</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Plan">func Plan(world w.World, width, height int, seed uint64, plannerType PlannerType) (*MetaPlan, error)</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MetaPlan.AdjacentAnyFloor">func (bm MetaPlan) AdjacentAnyFloor(idx resources.TileIdx) bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MetaPlan.CalculateAutoTileIndex">func (mp *MetaPlan) CalculateAutoTileIndex(idx resources.TileIdx, tileType string) AutoTileIndex</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MetaPlan.DownTile">func (bm MetaPlan) DownTile(idx resources.TileIdx) raw.TileRaw</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MetaPlan.GetPlayerStartPosition">func (bm *MetaPlan) GetPlayerStartPosition() (int, int, bool)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MetaPlan.GetTile">func (bm *MetaPlan) GetTile(name string) raw.TileRaw</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MetaPlan.GetWallType">func (bm MetaPlan) GetWallType(idx resources.TileIdx) WallType</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MetaPlan.IsSpawnableTile">func (bm MetaPlan) IsSpawnableTile(_ w.World, tx gc.Tile, ty gc.Tile) bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MetaPlan.IsValidIndex">func (mp *MetaPlan) IsValidIndex(idx resources.TileIdx) bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MetaPlan.LeftTile">func (bm MetaPlan) LeftTile(idx resources.TileIdx) raw.TileRaw</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MetaPlan.RightTile">func (bm MetaPlan) RightTile(idx resources.TileIdx) raw.TileRaw</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MetaPlan.UpTile">func (bm MetaPlan) UpTile(idx resources.TileIdx) raw.TileRaw</a></dd>
				
			
				
				<dd><a href="index.html#MetaTownPlanner">type MetaTownPlanner</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#MetaTownPlanner.PlanInitial">func (p *MetaTownPlanner) PlanInitial(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#NPCSpec">type NPCSpec</a></dd>
				
				
			
				
				<dd><a href="index.html#PathFinder">type PathFinder</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewPathFinder">func NewPathFinder(planData *MetaPlan) *PathFinder</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PathFinder.FindPath">func (pf *PathFinder) FindPath(startX, startY, goalX, goalY int) []Position</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PathFinder.IsReachable">func (pf *PathFinder) IsReachable(startX, startY, goalX, goalY int) bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PathFinder.IsWalkable">func (pf *PathFinder) IsWalkable(x, y int) bool</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PathFinder.ValidateConnectivity">func (pf *PathFinder) ValidateConnectivity(playerStartX, playerStartY int) error</a></dd>
				
			
				
				<dd><a href="index.html#PlannerChain">type PlannerChain</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewBigRoomPlanner">func NewBigRoomPlanner(width gc.Tile, height gc.Tile, seed uint64) (*PlannerChain, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewCavePlanner">func NewCavePlanner(width gc.Tile, height gc.Tile, seed uint64) (*PlannerChain, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewForestPlanner">func NewForestPlanner(width gc.Tile, height gc.Tile, seed uint64) (*PlannerChain, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewPlannerChain">func NewPlannerChain(width gc.Tile, height gc.Tile, seed uint64) *PlannerChain</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewRandomPlanner">func NewRandomPlanner(width gc.Tile, height gc.Tile, seed uint64) (*PlannerChain, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewRuinsPlanner">func NewRuinsPlanner(width gc.Tile, height gc.Tile, seed uint64) (*PlannerChain, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewSmallRoomPlanner">func NewSmallRoomPlanner(width gc.Tile, height gc.Tile, seed uint64) (*PlannerChain, error)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewTownPlanner">func NewTownPlanner(width gc.Tile, height gc.Tile, seed uint64) (*PlannerChain, error)</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PlannerChain.Plan">func (b *PlannerChain) Plan() error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PlannerChain.StartWith">func (b *PlannerChain) StartWith(initialMapPlanner InitialMapPlanner)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PlannerChain.ValidateConnectivity">func (b *PlannerChain) ValidateConnectivity(playerStartX, playerStartY int) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PlannerChain.With">func (b *PlannerChain) With(metaMapPlanner MetaMapPlanner)</a></dd>
				
			
				
				<dd><a href="index.html#PlannerType">type PlannerType</a></dd>
				
				
			
				
				<dd><a href="index.html#Position">type Position</a></dd>
				
				
			
				
				<dd><a href="index.html#PropsPlanner">type PropsPlanner</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewPropsPlanner">func NewPropsPlanner(world w.World, plannerType PlannerType) *PropsPlanner</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#PropsPlanner.PlanMeta">func (p *PropsPlanner) PlanMeta(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#PropsSpec">type PropsSpec</a></dd>
				
				
			
				
				<dd><a href="index.html#RectRoomPlanner">type RectRoomPlanner</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#RectRoomPlanner.PlanInitial">func (b RectRoomPlanner) PlanInitial(planData *MetaPlan) error</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#RectRoomPlanner.PlanRooms">func (b RectRoomPlanner) PlanRooms(planData *MetaPlan)</a></dd>
				
			
				
				<dd><a href="index.html#RoomDraw">type RoomDraw</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#RoomDraw.PlanMeta">func (b RoomDraw) PlanMeta(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#RuinsCorridors">type RuinsCorridors</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#RuinsCorridors.PlanMeta">func (r RuinsCorridors) PlanMeta(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#RuinsDebris">type RuinsDebris</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#RuinsDebris.PlanMeta">func (r RuinsDebris) PlanMeta(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#RuinsDraw">type RuinsDraw</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#RuinsDraw.PlanMeta">func (r RuinsDraw) PlanMeta(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#RuinsPlanner">type RuinsPlanner</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#RuinsPlanner.PlanInitial">func (r RuinsPlanner) PlanInitial(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#WallType">type WallType</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WallType.String">func (wt WallType) String() string</a></dd>
				
			
				
				<dd><a href="index.html#WarpPortal">type WarpPortal</a></dd>
				
				
			
				
				<dd><a href="index.html#WarpPortalPlanner">type WarpPortalPlanner</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewWarpPortalPlanner">func NewWarpPortalPlanner(world w.World, plannerType PlannerType) *WarpPortalPlanner</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#WarpPortalPlanner.PlanMeta">func (w *WarpPortalPlanner) PlanMeta(planData *MetaPlan) error</a></dd>
				
			
				
				<dd><a href="index.html#WarpPortalType">type WarpPortalType</a></dd>
				
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/autotile.go">autotile.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/big_room.go">big_room.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/boundary_wall.go">boundary_wall.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/cave_planner.go">cave_planner.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/doc.go">doc.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/fill_all.go">fill_all.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/forest_planner.go">forest_planner.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/hostile_npc_planner.go">hostile_npc_planner.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/item_planner.go">item_planner.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go">lib.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/line_corridor.go">line_corridor.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/pathfinder.go">pathfinder.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/plan.go">plan.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/props_planner.go">props_planner.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/rect_room.go">rect_room.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/room_draw.go">room_draw.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/ruins_planner.go">ruins_planner.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/test_helper.go">test_helper.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/town_planner_metaplan.go">town_planner_metaplan.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/wall_type.go">wall_type.go</a>
			
				<a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/warp_portal_planner.go">warp_portal_planner.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
			<h2 id="pkg-constants">Constants</h2>
			
				
				<pre>const (
    <span class="comment">// MaxPlanRetries はプランナーチェーンの最大再試行回数</span>
    <span id="MaxPlanRetries">MaxPlanRetries</span> = 10
)</pre>
			
		
		
			<h2 id="pkg-variables">Variables</h2>
			
				
				<pre>var (
    <span class="comment">// PlannerTypeRandom はランダム選択用のプランナータイプ</span>
    <span id="PlannerTypeRandom">PlannerTypeRandom</span> = <a href="index.html#PlannerType">PlannerType</a>{
        <a href="index.html#PlannerType.Name">Name</a>:              &#34;ランダム&#34;,
        <a href="index.html#PlannerType.SpawnEnemies">SpawnEnemies</a>:      <a href="http://localhost:8888/pkg/builtin/#true">true</a>,
        <a href="index.html#PlannerType.SpawnItems">SpawnItems</a>:        <a href="http://localhost:8888/pkg/builtin/#true">true</a>,
        <a href="index.html#PlannerType.UseFixedPortalPos">UseFixedPortalPos</a>: <a href="http://localhost:8888/pkg/builtin/#false">false</a>,
        <a href="index.html#PlannerType.ItemTableName">ItemTableName</a>:     &#34;通常&#34;,
        <a href="index.html#PlannerType.EnemyTableName">EnemyTableName</a>:    &#34;通常&#34;,
    }

    <span class="comment">// PlannerTypeSmallRoom は小部屋ダンジョンのプランナータイプ</span>
    <span id="PlannerTypeSmallRoom">PlannerTypeSmallRoom</span> = <a href="index.html#PlannerType">PlannerType</a>{
        <a href="index.html#PlannerType.Name">Name</a>:              &#34;小部屋&#34;,
        <a href="index.html#PlannerType.SpawnEnemies">SpawnEnemies</a>:      <a href="http://localhost:8888/pkg/builtin/#true">true</a>,
        <a href="index.html#PlannerType.SpawnItems">SpawnItems</a>:        <a href="http://localhost:8888/pkg/builtin/#true">true</a>,
        <a href="index.html#PlannerType.UseFixedPortalPos">UseFixedPortalPos</a>: <a href="http://localhost:8888/pkg/builtin/#false">false</a>,
        <a href="index.html#PlannerType.ItemTableName">ItemTableName</a>:     &#34;通常&#34;,
        <a href="index.html#PlannerType.EnemyTableName">EnemyTableName</a>:    &#34;通常&#34;,
        <a href="index.html#PlannerType.PlannerFunc">PlannerFunc</a>:       <a href="index.html#NewSmallRoomPlanner">NewSmallRoomPlanner</a>,
    }

    <span class="comment">// PlannerTypeBigRoom は大部屋ダンジョンのプランナータイプ</span>
    <span id="PlannerTypeBigRoom">PlannerTypeBigRoom</span> = <a href="index.html#PlannerType">PlannerType</a>{
        <a href="index.html#PlannerType.Name">Name</a>:              &#34;大部屋&#34;,
        <a href="index.html#PlannerType.SpawnEnemies">SpawnEnemies</a>:      <a href="http://localhost:8888/pkg/builtin/#true">true</a>,
        <a href="index.html#PlannerType.SpawnItems">SpawnItems</a>:        <a href="http://localhost:8888/pkg/builtin/#true">true</a>,
        <a href="index.html#PlannerType.UseFixedPortalPos">UseFixedPortalPos</a>: <a href="http://localhost:8888/pkg/builtin/#false">false</a>,
        <a href="index.html#PlannerType.ItemTableName">ItemTableName</a>:     &#34;通常&#34;,
        <a href="index.html#PlannerType.EnemyTableName">EnemyTableName</a>:    &#34;通常&#34;,
        <a href="index.html#PlannerType.PlannerFunc">PlannerFunc</a>:       <a href="index.html#NewBigRoomPlanner">NewBigRoomPlanner</a>,
    }

    <span class="comment">// PlannerTypeCave は洞窟ダンジョンのプランナータイプ</span>
    <span id="PlannerTypeCave">PlannerTypeCave</span> = <a href="index.html#PlannerType">PlannerType</a>{
        <a href="index.html#PlannerType.Name">Name</a>:              &#34;洞窟&#34;,
        <a href="index.html#PlannerType.SpawnEnemies">SpawnEnemies</a>:      <a href="http://localhost:8888/pkg/builtin/#true">true</a>,
        <a href="index.html#PlannerType.SpawnItems">SpawnItems</a>:        <a href="http://localhost:8888/pkg/builtin/#true">true</a>,
        <a href="index.html#PlannerType.UseFixedPortalPos">UseFixedPortalPos</a>: <a href="http://localhost:8888/pkg/builtin/#false">false</a>,
        <a href="index.html#PlannerType.ItemTableName">ItemTableName</a>:     &#34;洞窟&#34;,
        <a href="index.html#PlannerType.EnemyTableName">EnemyTableName</a>:    &#34;洞窟&#34;,
        <a href="index.html#PlannerType.PlannerFunc">PlannerFunc</a>:       <a href="index.html#NewCavePlanner">NewCavePlanner</a>,
    }

    <span class="comment">// PlannerTypeRuins は廃墟ダンジョンのプランナータイプ</span>
    <span id="PlannerTypeRuins">PlannerTypeRuins</span> = <a href="index.html#PlannerType">PlannerType</a>{
        <a href="index.html#PlannerType.Name">Name</a>:              &#34;廃墟&#34;,
        <a href="index.html#PlannerType.SpawnEnemies">SpawnEnemies</a>:      <a href="http://localhost:8888/pkg/builtin/#true">true</a>,
        <a href="index.html#PlannerType.SpawnItems">SpawnItems</a>:        <a href="http://localhost:8888/pkg/builtin/#true">true</a>,
        <a href="index.html#PlannerType.UseFixedPortalPos">UseFixedPortalPos</a>: <a href="http://localhost:8888/pkg/builtin/#false">false</a>,
        <a href="index.html#PlannerType.ItemTableName">ItemTableName</a>:     &#34;廃墟&#34;,
        <a href="index.html#PlannerType.EnemyTableName">EnemyTableName</a>:    &#34;廃墟&#34;,
        <a href="index.html#PlannerType.PlannerFunc">PlannerFunc</a>:       <a href="index.html#NewRuinsPlanner">NewRuinsPlanner</a>,
    }

    <span class="comment">// PlannerTypeForest は森ダンジョンのプランナータイプ</span>
    <span id="PlannerTypeForest">PlannerTypeForest</span> = <a href="index.html#PlannerType">PlannerType</a>{
        <a href="index.html#PlannerType.Name">Name</a>:              &#34;森&#34;,
        <a href="index.html#PlannerType.SpawnEnemies">SpawnEnemies</a>:      <a href="http://localhost:8888/pkg/builtin/#true">true</a>,
        <a href="index.html#PlannerType.SpawnItems">SpawnItems</a>:        <a href="http://localhost:8888/pkg/builtin/#true">true</a>,
        <a href="index.html#PlannerType.UseFixedPortalPos">UseFixedPortalPos</a>: <a href="http://localhost:8888/pkg/builtin/#false">false</a>,
        <a href="index.html#PlannerType.ItemTableName">ItemTableName</a>:     &#34;森&#34;,
        <a href="index.html#PlannerType.EnemyTableName">EnemyTableName</a>:    &#34;森&#34;,
        <a href="index.html#PlannerType.PlannerFunc">PlannerFunc</a>:       <a href="index.html#NewForestPlanner">NewForestPlanner</a>,
    }

    <span class="comment">// PlannerTypeTown は市街地のプランナータイプ</span>
    <span id="PlannerTypeTown">PlannerTypeTown</span> = <a href="index.html#PlannerType">PlannerType</a>{
        <a href="index.html#PlannerType.Name">Name</a>:              &#34;市街地&#34;,
        <a href="index.html#PlannerType.SpawnEnemies">SpawnEnemies</a>:      <a href="http://localhost:8888/pkg/builtin/#false">false</a>,
        <a href="index.html#PlannerType.SpawnItems">SpawnItems</a>:        <a href="http://localhost:8888/pkg/builtin/#false">false</a>,
        <a href="index.html#PlannerType.UseFixedPortalPos">UseFixedPortalPos</a>: <a href="http://localhost:8888/pkg/builtin/#true">true</a>,
        <a href="index.html#PlannerType.ItemTableName">ItemTableName</a>:     &#34;&#34;,
        <a href="index.html#PlannerType.EnemyTableName">EnemyTableName</a>:    &#34;&#34;,
        <a href="index.html#PlannerType.PlannerFunc">PlannerFunc</a>:       <a href="index.html#NewTownPlanner">NewTownPlanner</a>,
    }
)</pre>
			
				
				<pre>var (
    <span class="comment">// ErrConnectivity は接続性エラーを表す</span>
    <span id="ErrConnectivity">ErrConnectivity</span> = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;マップ接続性エラー: プレイヤーからワープホールに到達できません&#34;)
    <span class="comment">// ErrPlayerPlacement はプレイヤー配置エラーを表す</span>
    <span id="ErrPlayerPlacement">ErrPlayerPlacement</span> = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;プレイヤー配置可能な床タイルが見つかりません&#34;)
    <span class="comment">// ErrNoWarpPortal はワープポータルが存在しないエラーを表す</span>
    <span id="ErrNoWarpPortal">ErrNoWarpPortal</span> = <a href="http://localhost:8888/pkg/errors/">errors</a>.<a href="http://localhost:8888/pkg/errors/#New">New</a>(&#34;マップにワープポータルが配置されていません&#34;)
)</pre>
			
		
		
			
			
			<h2 id="CreateTestRawMaster">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/test_helper.go?s=150:188#L1">CreateTestRawMaster</a>
				<a class="permalink" href="index.html#CreateTestRawMaster">&#xb6;</a>
				
				
			</h2>
			<pre>func CreateTestRawMaster() *<a href="../raw/index.html">raw</a>.<a href="../raw/index.html#Master">Master</a></pre>
			<p>CreateTestRawMaster はテスト用の raw.Master インスタンスを作成する

			
			

		
		
			
			
			<h2 id="AutoTileIndex">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/autotile.go?s=219:241#L1">AutoTileIndex</a>
				<a class="permalink" href="index.html#AutoTileIndex">&#xb6;</a>
				
				
			</h2>
			<p>AutoTileIndex は16タイルオートタイルのインデックス（0-15）
4方向の隣接情報をビットマスクで表現

			<pre>type AutoTileIndex <a href="http://localhost:8888/pkg/builtin/#int">int</a></pre>

			
				<p>16タイル標準パターン定数
ビットマスク：上(1) 右(2) 下(4) 左(8)
各ビットは「その方向に同じタイルがある」ことを示す

				<pre>const (
    <span id="AutoTileIsolated">AutoTileIsolated</span>      <a href="index.html#AutoTileIndex">AutoTileIndex</a> = 0  <span class="comment">// 0000: 全方向が異なる（孤立）</span>
    <span id="AutoTileUp">AutoTileUp</span>            <a href="index.html#AutoTileIndex">AutoTileIndex</a> = 1  <span class="comment">// 0001: 上だけ同じ</span>
    <span id="AutoTileRight">AutoTileRight</span>         <a href="index.html#AutoTileIndex">AutoTileIndex</a> = 2  <span class="comment">// 0010: 右だけ同じ</span>
    <span id="AutoTileUpRight">AutoTileUpRight</span>       <a href="index.html#AutoTileIndex">AutoTileIndex</a> = 3  <span class="comment">// 0011: 上右が同じ</span>
    <span id="AutoTileDown">AutoTileDown</span>          <a href="index.html#AutoTileIndex">AutoTileIndex</a> = 4  <span class="comment">// 0100: 下だけ同じ</span>
    <span id="AutoTileVertical">AutoTileVertical</span>      <a href="index.html#AutoTileIndex">AutoTileIndex</a> = 5  <span class="comment">// 0101: 上下が同じ</span>
    <span id="AutoTileDownRight">AutoTileDownRight</span>     <a href="index.html#AutoTileIndex">AutoTileIndex</a> = 6  <span class="comment">// 0110: 下右が同じ</span>
    <span id="AutoTileUpDownRight">AutoTileUpDownRight</span>   <a href="index.html#AutoTileIndex">AutoTileIndex</a> = 7  <span class="comment">// 0111: 上下右が同じ</span>
    <span id="AutoTileLeft">AutoTileLeft</span>          <a href="index.html#AutoTileIndex">AutoTileIndex</a> = 8  <span class="comment">// 1000: 左だけ同じ</span>
    <span id="AutoTileUpLeft">AutoTileUpLeft</span>        <a href="index.html#AutoTileIndex">AutoTileIndex</a> = 9  <span class="comment">// 1001: 上左が同じ</span>
    <span id="AutoTileHorizontal">AutoTileHorizontal</span>    <a href="index.html#AutoTileIndex">AutoTileIndex</a> = 10 <span class="comment">// 1010: 左右が同じ</span>
    <span id="AutoTileUpLeftRight">AutoTileUpLeftRight</span>   <a href="index.html#AutoTileIndex">AutoTileIndex</a> = 11 <span class="comment">// 1011: 上左右が同じ</span>
    <span id="AutoTileDownLeft">AutoTileDownLeft</span>      <a href="index.html#AutoTileIndex">AutoTileIndex</a> = 12 <span class="comment">// 1100: 下左が同じ</span>
    <span id="AutoTileUpDownLeft">AutoTileUpDownLeft</span>    <a href="index.html#AutoTileIndex">AutoTileIndex</a> = 13 <span class="comment">// 1101: 上下左が同じ</span>
    <span id="AutoTileDownLeftRight">AutoTileDownLeftRight</span> <a href="index.html#AutoTileIndex">AutoTileIndex</a> = 14 <span class="comment">// 1110: 下左右が同じ</span>
    <span id="AutoTileCenter">AutoTileCenter</span>        <a href="index.html#AutoTileIndex">AutoTileIndex</a> = 15 <span class="comment">// 1111: 全方向に同じタイル</span>
)</pre>
			

			

			
			
			

			

			
				
				<h3 id="AutoTileIndex.String">func (AutoTileIndex) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/autotile.go?s=1592:1632#L26">String</a>
					<a class="permalink" href="index.html#AutoTileIndex.String">&#xb6;</a>
					
					
				</h3>
				<pre>func (ati <a href="index.html#AutoTileIndex">AutoTileIndex</a>) String() <a href="http://localhost:8888/pkg/builtin/#string">string</a></pre>
				<p>String はAutoTileIndexの文字列表現を返す

				
				
				
			
		
			
			
			<h2 id="BigRoomDraw">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/big_room.go?s=846:909#L19">BigRoomDraw</a>
				<a class="permalink" href="index.html#BigRoomDraw">&#xb6;</a>
				
				
			</h2>
			<p>BigRoomDraw は大部屋を描画し、ランダムにバリエーションを適用するビルダー

			<pre>type BigRoomDraw struct {
<span id="BigRoomDraw.FloorTile"></span>    FloorTile <a href="http://localhost:8888/pkg/builtin/#string">string</a>
<span id="BigRoomDraw.WallTile"></span>    WallTile  <a href="http://localhost:8888/pkg/builtin/#string">string</a>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="BigRoomDraw.PlanMeta">func (BigRoomDraw) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/big_room.go?s=1014:1069#L25">PlanMeta</a>
					<a class="permalink" href="index.html#BigRoomDraw.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (b <a href="index.html#BigRoomDraw">BigRoomDraw</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanMeta は大部屋をタイルに描画し、ランダムにバリエーションを適用する

				
				
				
			
		
			
			
			<h2 id="BigRoomPlanner">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/big_room.go?s=192:220#L1">BigRoomPlanner</a>
				<a class="permalink" href="index.html#BigRoomPlanner">&#xb6;</a>
				
				
			</h2>
			<p>BigRoomPlanner は大部屋を生成するビルダー
マップ全体の大部分を1つの部屋にする

			<pre>type BigRoomPlanner struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="BigRoomPlanner.PlanInitial">func (BigRoomPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/big_room.go?s=274:335#L2">PlanInitial</a>
					<a class="permalink" href="index.html#BigRoomPlanner.PlanInitial">&#xb6;</a>
					
					
				</h3>
				<pre>func (b <a href="index.html#BigRoomPlanner">BigRoomPlanner</a>) PlanInitial(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanInitial は初期マップをプランする

				
				
				
			
		
			
			
			<h2 id="BoundaryWall">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/boundary_wall.go?s=239:339#L1">BoundaryWall</a>
				<a class="permalink" href="index.html#BoundaryWall">&#xb6;</a>
				
				
			</h2>
			<p>BoundaryWall は外枠をすべて指定タイルで覆うビルダー
マップの最外枠のタイルを無条件で指定タイルタイプに変更する

			<pre>type BoundaryWall struct {
<span id="BoundaryWall.WallTileName"></span>    <span class="comment">// WallTileName 外枠に使用するタイル名</span>
    WallTileName <a href="http://localhost:8888/pkg/builtin/#string">string</a>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewBoundaryWall">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/boundary_wall.go?s=412:466#L5">NewBoundaryWall</a>
					<a class="permalink" href="index.html#NewBoundaryWall">&#xb6;</a>
					
					
				</h3>
				<pre>func NewBoundaryWall(wallTileName <a href="http://localhost:8888/pkg/builtin/#string">string</a>) <a href="index.html#BoundaryWall">BoundaryWall</a></pre>
				<p>NewBoundaryWall は新しいBoundaryWallビルダーを作成する

				
				
			

			
				
				<h3 id="BoundaryWall.PlanMeta">func (BoundaryWall) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/boundary_wall.go?s=576:632#L12">PlanMeta</a>
					<a class="permalink" href="index.html#BoundaryWall.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (b <a href="index.html#BoundaryWall">BoundaryWall</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanMeta はメタデータをビルドする

				
				
				
			
		
			
			
			<h2 id="CaveCellularAutomata">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/cave_planner.go?s=880:949#L18">CaveCellularAutomata</a>
				<a class="permalink" href="index.html#CaveCellularAutomata">&#xb6;</a>
				
				
			</h2>
			<p>CaveCellularAutomata はセルラーオートマトンによる洞窟生成

			<pre>type CaveCellularAutomata struct {
    <span class="comment">// 反復回数</span>
<span id="CaveCellularAutomata.Iterations"></span>    Iterations <a href="http://localhost:8888/pkg/builtin/#int">int</a>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="CaveCellularAutomata.PlanMeta">func (CaveCellularAutomata) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/cave_planner.go?s=1021:1085#L24">PlanMeta</a>
					<a class="permalink" href="index.html#CaveCellularAutomata.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (c <a href="index.html#CaveCellularAutomata">CaveCellularAutomata</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanMeta はセルラーオートマトンで洞窟を生成する

				
				
				
			
		
			
			
			<h2 id="CaveConnector">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/cave_planner.go?s=7740:7767#L262">CaveConnector</a>
				<a class="permalink" href="index.html#CaveConnector">&#xb6;</a>
				
				
			</h2>
			<p>CaveConnector は隔離された洞窟領域を接続する

			<pre>type CaveConnector struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="CaveConnector.PlanMeta">func (CaveConnector) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/cave_planner.go?s=7827:7884#L265">PlanMeta</a>
					<a class="permalink" href="index.html#CaveConnector.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (c <a href="index.html#CaveConnector">CaveConnector</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanMeta は隔離された洞窟領域を接続する

				
				
				
			
		
			
			
			<h2 id="CavePathWidener">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/cave_planner.go?s=5423:5452#L183">CavePathWidener</a>
				<a class="permalink" href="index.html#CavePathWidener">&#xb6;</a>
				
				
			</h2>
			<p>CavePathWidener は通路を広げる

			<pre>type CavePathWidener struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="CavePathWidener.PlanMeta">func (CavePathWidener) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/cave_planner.go?s=5494:5553#L186">PlanMeta</a>
					<a class="permalink" href="index.html#CavePathWidener.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (c <a href="index.html#CavePathWidener">CavePathWidener</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanMeta は狭い通路を広げる

				
				
				
			
		
			
			
			<h2 id="CavePlanner">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/cave_planner.go?s=360:385#L2">CavePlanner</a>
				<a class="permalink" href="index.html#CavePlanner">&#xb6;</a>
				
				
			</h2>
			<p>CavePlanner は洞窟風レイアウトを生成するビルダー
セルラーオートマトンを使用して有機的な洞窟形状を作成
TODO: 全然わかってないので理解する

			<pre>type CavePlanner struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="CavePlanner.PlanInitial">func (CavePlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/cave_planner.go?s=445:503#L5">PlanInitial</a>
					<a class="permalink" href="index.html#CavePlanner.PlanInitial">&#xb6;</a>
					
					
				</h3>
				<pre>func (c <a href="index.html#CavePlanner">CavePlanner</a>) PlanInitial(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanInitial は初期洞窟マップをプランする

				
				
				
			
		
			
			
			<h2 id="CaveStalactites">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/cave_planner.go?s=7019:7048#L238">CaveStalactites</a>
				<a class="permalink" href="index.html#CaveStalactites">&#xb6;</a>
				
				
			</h2>
			<p>CaveStalactites は鍾乳石や岩の障害物を配置する

			<pre>type CaveStalactites struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="CaveStalactites.PlanMeta">func (CaveStalactites) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/cave_planner.go?s=7102:7161#L241">PlanMeta</a>
					<a class="permalink" href="index.html#CaveStalactites.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (c <a href="index.html#CaveStalactites">CaveStalactites</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanMeta は洞窟内に鍾乳石を配置する

				
				
				
			
		
			
			
			<h2 id="DoorSpec">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=873:1047#L24">DoorSpec</a>
				<a class="permalink" href="index.html#DoorSpec">&#xb6;</a>
				
				
			</h2>
			<p>DoorSpec はドアエンティティの配置情報

			<pre>type DoorSpec struct {
<span id="DoorSpec.X"></span>    X           <a href="http://localhost:8888/pkg/builtin/#int">int</a>                <span class="comment">// X座標</span>
<span id="DoorSpec.Y"></span>    Y           <a href="http://localhost:8888/pkg/builtin/#int">int</a>                <span class="comment">// Y座標</span>
<span id="DoorSpec.Orientation"></span>    Orientation <a href="../components/index.html">gc</a>.<a href="../components/index.html#DoorOrientation">DoorOrientation</a> <span class="comment">// ドアの向き（横/縦）</span>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="FillAll">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/fill_all.go?s=89:129#L1">FillAll</a>
				<a class="permalink" href="index.html#FillAll">&#xb6;</a>
				
				
			</h2>
			<p>FillAll は全体を指定したタイルで埋めるビルダー

			<pre>type FillAll struct {
<span id="FillAll.TileName"></span>    TileName <a href="http://localhost:8888/pkg/builtin/#string">string</a>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewFillAll">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/fill_all.go?s=192:232#L1">NewFillAll</a>
					<a class="permalink" href="index.html#NewFillAll">&#xb6;</a>
					
					
				</h3>
				<pre>func NewFillAll(tileName <a href="http://localhost:8888/pkg/builtin/#string">string</a>) <a href="index.html#FillAll">FillAll</a></pre>
				<p>NewFillAll は新しいFillAllビルダーを作成する

				
				
			

			
				
				<h3 id="FillAll.PlanMeta">func (FillAll) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/fill_all.go?s=329:380#L6">PlanMeta</a>
					<a class="permalink" href="index.html#FillAll.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (b <a href="index.html#FillAll">FillAll</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanMeta はメタデータをビルドする

				
				
				
			
		
			
			
			<h2 id="ForestPaths">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/forest_planner.go?s=5176:5201#L160">ForestPaths</a>
				<a class="permalink" href="index.html#ForestPaths">&#xb6;</a>
				
				
			</h2>
			<p>ForestPaths は森の中に自然な通路を作成する

			<pre>type ForestPaths struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="ForestPaths.PlanMeta">func (ForestPaths) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/forest_planner.go?s=5264:5319#L163">PlanMeta</a>
					<a class="permalink" href="index.html#ForestPaths.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (f <a href="index.html#ForestPaths">ForestPaths</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanMeta は空き地間に自然な通路を作成する

				
				
				
			
		
			
			
			<h2 id="ForestPlanner">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/forest_planner.go?s=217:244#L1">ForestPlanner</a>
				<a class="permalink" href="index.html#ForestPlanner">&#xb6;</a>
				
				
			</h2>
			<p>ForestPlanner は森風レイアウトを生成するビルダー
木々が点在し、自然な通路を持つ森を作成

			<pre>type ForestPlanner struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="ForestPlanner.PlanInitial">func (ForestPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/forest_planner.go?s=301:361#L4">PlanInitial</a>
					<a class="permalink" href="index.html#ForestPlanner.PlanInitial">&#xb6;</a>
					
					
				</h3>
				<pre>func (f <a href="index.html#ForestPlanner">ForestPlanner</a>) PlanInitial(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanInitial は初期森マップをプランする

				
				
				
			
		
			
			
			<h2 id="ForestTerrain">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/forest_planner.go?s=1450:1477#L39">ForestTerrain</a>
				<a class="permalink" href="index.html#ForestTerrain">&#xb6;</a>
				
				
			</h2>
			<p>ForestTerrain は森の基本地形を生成する

			<pre>type ForestTerrain struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="ForestTerrain.PlanMeta">func (ForestTerrain) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/forest_planner.go?s=1540:1597#L42">PlanMeta</a>
					<a class="permalink" href="index.html#ForestTerrain.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (f <a href="index.html#ForestTerrain">ForestTerrain</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanMeta は森の基本地形をタイルに描画する

				
				
				
			
		
			
			
			<h2 id="ForestTrees">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/forest_planner.go?s=2619:2644#L76">ForestTrees</a>
				<a class="permalink" href="index.html#ForestTrees">&#xb6;</a>
				
				
			</h2>
			<p>ForestTrees は森に木々を配置する

			<pre>type ForestTrees struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="ForestTrees.PlanMeta">func (ForestTrees) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/forest_planner.go?s=2686:2741#L79">PlanMeta</a>
					<a class="permalink" href="index.html#ForestTrees.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (f <a href="index.html#ForestTrees">ForestTrees</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanMeta は森に木を配置する

				
				
				
			
		
			
			
			<h2 id="ForestWildlife">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/forest_planner.go?s=8058:8086#L246">ForestWildlife</a>
				<a class="permalink" href="index.html#ForestWildlife">&#xb6;</a>
				
				
			</h2>
			<p>ForestWildlife は森に野生動物の痕跡（小さな空き地）を追加する

			<pre>type ForestWildlife struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="ForestWildlife.PlanMeta">func (ForestWildlife) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/forest_planner.go?s=8149:8207#L249">PlanMeta</a>
					<a class="permalink" href="index.html#ForestWildlife.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (f <a href="index.html#ForestWildlife">ForestWildlife</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanMeta は森に小さな動物の痕跡を追加する

				
				
				
			
		
			
			
			<h2 id="HostileNPCPlanner">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/hostile_npc_planner.go?s=671:750#L17">HostileNPCPlanner</a>
				<a class="permalink" href="index.html#HostileNPCPlanner">&#xb6;</a>
				
				
			</h2>
			<p>HostileNPCPlanner は敵NPC配置を担当するプランナー

			<pre>type HostileNPCPlanner struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewHostileNPCPlanner">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/hostile_npc_planner.go?s=816:900#L23">NewHostileNPCPlanner</a>
					<a class="permalink" href="index.html#NewHostileNPCPlanner">&#xb6;</a>
					
					
				</h3>
				<pre>func NewHostileNPCPlanner(world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>, plannerType <a href="index.html#PlannerType">PlannerType</a>) *<a href="index.html#HostileNPCPlanner">HostileNPCPlanner</a></pre>
				<p>NewHostileNPCPlanner は敵NPCプランナーを作成する

				
				
			

			
				
				<h3 id="HostileNPCPlanner.PlanMeta">func (*HostileNPCPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/hostile_npc_planner.go?s=1047:1109#L31">PlanMeta</a>
					<a class="permalink" href="index.html#HostileNPCPlanner.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (n *<a href="index.html#HostileNPCPlanner">HostileNPCPlanner</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanMeta は敵NPC配置情報をMetaPlanに追加する

				
				
				
			
		
			
			
			<h2 id="InitialMapPlanner">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=10265:10331#L328">InitialMapPlanner</a>
				<a class="permalink" href="index.html#InitialMapPlanner">&#xb6;</a>
				
				
			</h2>
			<p>InitialMapPlanner は初期マップをプランするインターフェース
タイルへの描画は行わず、構造体フィールドの値を初期化するだけ

			<pre>type InitialMapPlanner interface {
    PlanInitial(*<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a>
}</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="ItemPlanner">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/item_planner.go?s=752:825#L19">ItemPlanner</a>
				<a class="permalink" href="index.html#ItemPlanner">&#xb6;</a>
				
				
			</h2>
			<p>ItemPlanner はアイテム配置を担当するプランナー

			<pre>type ItemPlanner struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewItemPlanner">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/item_planner.go?s=891:963#L25">NewItemPlanner</a>
					<a class="permalink" href="index.html#NewItemPlanner">&#xb6;</a>
					
					
				</h3>
				<pre>func NewItemPlanner(world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>, plannerType <a href="index.html#PlannerType">PlannerType</a>) *<a href="index.html#ItemPlanner">ItemPlanner</a></pre>
				<p>NewItemPlanner はアイテムプランナーを作成する

				
				
			

			
				
				<h3 id="ItemPlanner.PlanMeta">func (*ItemPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/item_planner.go?s=1110:1166#L33">PlanMeta</a>
					<a class="permalink" href="index.html#ItemPlanner.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (i *<a href="index.html#ItemPlanner">ItemPlanner</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanMeta はアイテム配置情報をMetaPlanに追加する

				
				
				
			
		
			
			
			<h2 id="ItemSpec">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/item_planner.go?s=567:683#L12">ItemSpec</a>
				<a class="permalink" href="index.html#ItemSpec">&#xb6;</a>
				
				
			</h2>
			<p>ItemSpec はアイテム配置仕様を表す

			<pre>type ItemSpec struct {
<span id="ItemSpec.X"></span>    X        <a href="http://localhost:8888/pkg/builtin/#int">int</a>    <span class="comment">// X座標</span>
<span id="ItemSpec.Y"></span>    Y        <a href="http://localhost:8888/pkg/builtin/#int">int</a>    <span class="comment">// Y座標</span>
<span id="ItemSpec.ItemName"></span>    ItemName <a href="http://localhost:8888/pkg/builtin/#string">string</a> <span class="comment">// アイテム名</span>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="LineCorridorPlanner">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/line_corridor.go?s=195:228#L1">LineCorridorPlanner</a>
				<a class="permalink" href="index.html#LineCorridorPlanner">&#xb6;</a>
				
				
			</h2>
			<p>LineCorridorPlanner は直線廊下を生成するビルダー

			<pre>type LineCorridorPlanner struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="LineCorridorPlanner.BuildCorridors">func (LineCorridorPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/line_corridor.go?s=434:497#L10">BuildCorridors</a>
					<a class="permalink" href="index.html#LineCorridorPlanner.BuildCorridors">&#xb6;</a>
					
					
				</h3>
				<pre>func (b <a href="index.html#LineCorridorPlanner">LineCorridorPlanner</a>) BuildCorridors(planData *<a href="index.html#MetaPlan">MetaPlan</a>)</pre>
				<p>BuildCorridors は廊下をビルドする

				
				
				
			
				
				<h3 id="LineCorridorPlanner.PlanMeta">func (LineCorridorPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/line_corridor.go?s=279:342#L4">PlanMeta</a>
					<a class="permalink" href="index.html#LineCorridorPlanner.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (b <a href="index.html#LineCorridorPlanner">LineCorridorPlanner</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanMeta はメタデータをビルドする

				
				
				
			
		
			
			
			<h2 id="MetaMapPlanner">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=10409:10469#L333">MetaMapPlanner</a>
				<a class="permalink" href="index.html#MetaMapPlanner">&#xb6;</a>
				
				
			</h2>
			<p>MetaMapPlanner はメタ情報をプランするインターフェース

			<pre>type MetaMapPlanner interface {
    PlanMeta(*<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a>
}</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="MetaPlan">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=1122:2318#L31">MetaPlan</a>
				<a class="permalink" href="index.html#MetaPlan">&#xb6;</a>
				
				
			</h2>
			<p>MetaPlan は階層のタイルを作る元になる概念の集合体

			<pre>type MetaPlan struct {
    <span class="comment">// 階層情報</span>
<span id="MetaPlan.Level"></span>    Level <a href="../resources/index.html">resources</a>.<a href="../resources/index.html#Level">Level</a>
    <span class="comment">// 部屋群。部屋は長方形の移動可能な空間のことをいう。</span>
    <span class="comment">// 部屋はタイルの集合体である</span>
<span id="MetaPlan.Rooms"></span>    Rooms []<a href="../components/index.html">gc</a>.<a href="../components/index.html#Rect">Rect</a>
    <span class="comment">// 廊下群。廊下は部屋と部屋をつなぐ移動可能な空間のことをいう。</span>
    <span class="comment">// 廊下はタイルの集合体である</span>
<span id="MetaPlan.Corridors"></span>    Corridors [][]<a href="../resources/index.html">resources</a>.<a href="../resources/index.html#TileIdx">TileIdx</a>
    <span class="comment">// 乱数生成器</span>
<span id="MetaPlan.RNG"></span>    RNG *rand.<a href="index.html#Rand">Rand</a>
    <span class="comment">// 階層を構成するタイル群。長さはステージの大きさで決まる</span>
    <span class="comment">// 通行可能かを判定するための情報を保持している必要がある</span>
<span id="MetaPlan.Tiles"></span>    Tiles []<a href="../raw/index.html">raw</a>.<a href="../raw/index.html#TileRaw">TileRaw</a>
<span id="MetaPlan.WarpPortals"></span>    <span class="comment">// WarpPortals は配置予定のワープポータルリスト</span>
    WarpPortals []<a href="index.html#WarpPortal">WarpPortal</a>
<span id="MetaPlan.NPCs"></span>    <span class="comment">// NPCs は配置予定のNPCリスト</span>
    NPCs []<a href="index.html#NPCSpec">NPCSpec</a>
<span id="MetaPlan.Items"></span>    <span class="comment">// Items は配置予定のアイテムリスト</span>
    Items []<a href="index.html#ItemSpec">ItemSpec</a>
<span id="MetaPlan.Props"></span>    <span class="comment">// Props は配置予定のPropsリスト</span>
    Props []<a href="index.html#PropsSpec">PropsSpec</a>
<span id="MetaPlan.Doors"></span>    <span class="comment">// Doors は配置予定のドアリスト</span>
    Doors []<a href="index.html#DoorSpec">DoorSpec</a>
<span id="MetaPlan.PlayerStartPosition"></span>    <span class="comment">// PlayerStartPosition はプレイヤー開始位置（&#39;@&#39;文字で指定された場合に使用する）</span>
    PlayerStartPosition *struct {
        X <a href="http://localhost:8888/pkg/builtin/#int">int</a>
        Y <a href="http://localhost:8888/pkg/builtin/#int">int</a>
    }
<span id="MetaPlan.RawMaster"></span>    <span class="comment">// RawMaster はタイル生成に使用するマスターデータ</span>
    RawMaster *<a href="../raw/index.html">raw</a>.<a href="../raw/index.html#Master">Master</a>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="Plan">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/plan.go?s=870:970#L17">Plan</a>
					<a class="permalink" href="index.html#Plan">&#xb6;</a>
					
					
				</h3>
				<pre>func Plan(world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>, width, height <a href="http://localhost:8888/pkg/builtin/#int">int</a>, seed <a href="http://localhost:8888/pkg/builtin/#uint64">uint64</a>, plannerType <a href="index.html#PlannerType">PlannerType</a>) (*<a href="index.html#MetaPlan">MetaPlan</a>, <a href="http://localhost:8888/pkg/builtin/#error">error</a>)</pre>
				<p>Plan はPlannerChainを初期化してMetaPlanを返す

				
				
			

			
				
				<h3 id="MetaPlan.AdjacentAnyFloor">func (MetaPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=4612:4675#L161">AdjacentAnyFloor</a>
					<a class="permalink" href="index.html#MetaPlan.AdjacentAnyFloor">&#xb6;</a>
					
					
				</h3>
				<pre>func (bm <a href="index.html#MetaPlan">MetaPlan</a>) AdjacentAnyFloor(idx <a href="../resources/index.html">resources</a>.<a href="../resources/index.html#TileIdx">TileIdx</a>) <a href="http://localhost:8888/pkg/builtin/#bool">bool</a></pre>
				<p>AdjacentAnyFloor は直交・斜めを含む近傍8タイルに床があるか判定する

				
				
				
			
				
				<h3 id="MetaPlan.CalculateAutoTileIndex">func (*MetaPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/autotile.go?s=2506:2602#L66">CalculateAutoTileIndex</a>
					<a class="permalink" href="index.html#MetaPlan.CalculateAutoTileIndex">&#xb6;</a>
					
					
				</h3>
				<pre>func (mp *<a href="index.html#MetaPlan">MetaPlan</a>) CalculateAutoTileIndex(idx <a href="../resources/index.html">resources</a>.<a href="../resources/index.html#TileIdx">TileIdx</a>, tileType <a href="http://localhost:8888/pkg/builtin/#string">string</a>) <a href="index.html#AutoTileIndex">AutoTileIndex</a></pre>
				<p>CalculateAutoTileIndex は4方向の隣接情報からオートタイルインデックスを計算

				
				
				
			
				
				<h3 id="MetaPlan.DownTile">func (MetaPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=3845:3907#L131">DownTile</a>
					<a class="permalink" href="index.html#MetaPlan.DownTile">&#xb6;</a>
					
					
				</h3>
				<pre>func (bm <a href="index.html#MetaPlan">MetaPlan</a>) DownTile(idx <a href="../resources/index.html">resources</a>.<a href="../resources/index.html#TileIdx">TileIdx</a>) <a href="../raw/index.html">raw</a>.<a href="../raw/index.html#TileRaw">TileRaw</a></pre>
				<p>DownTile は下にあるタイルを調べる

				
				
				
			
				
				<h3 id="MetaPlan.GetPlayerStartPosition">func (*MetaPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=16006:16067#L503">GetPlayerStartPosition</a>
					<a class="permalink" href="index.html#MetaPlan.GetPlayerStartPosition">&#xb6;</a>
					
					
				</h3>
				<pre>func (bm *<a href="index.html#MetaPlan">MetaPlan</a>) GetPlayerStartPosition() (<a href="http://localhost:8888/pkg/builtin/#int">int</a>, <a href="http://localhost:8888/pkg/builtin/#int">int</a>, <a href="http://localhost:8888/pkg/builtin/#bool">bool</a>)</pre>
				<p>GetPlayerStartPosition はプレイヤーの開始位置を取得する

				
				
				
			
				
				<h3 id="MetaPlan.GetTile">func (*MetaPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=15615:15667#L491">GetTile</a>
					<a class="permalink" href="index.html#MetaPlan.GetTile">&#xb6;</a>
					
					
				</h3>
				<pre>func (bm *<a href="index.html#MetaPlan">MetaPlan</a>) GetTile(name <a href="http://localhost:8888/pkg/builtin/#string">string</a>) <a href="../raw/index.html">raw</a>.<a href="../raw/index.html#TileRaw">TileRaw</a></pre>
				<p>GetTile はタイルを生成する
エラーを潰しているだけ

				
				
				
			
				
				<h3 id="MetaPlan.GetWallType">func (MetaPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=5400:5462#L193">GetWallType</a>
					<a class="permalink" href="index.html#MetaPlan.GetWallType">&#xb6;</a>
					
					
				</h3>
				<pre>func (bm <a href="index.html#MetaPlan">MetaPlan</a>) GetWallType(idx <a href="../resources/index.html">resources</a>.<a href="../resources/index.html#TileIdx">TileIdx</a>) <a href="index.html#WallType">WallType</a></pre>
				<p>GetWallType は近傍パターンから適切な壁タイプを判定する

				
				
				
			
				
				<h3 id="MetaPlan.IsSpawnableTile">func (MetaPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=2397:2471#L65">IsSpawnableTile</a>
					<a class="permalink" href="index.html#MetaPlan.IsSpawnableTile">&#xb6;</a>
					
					
				</h3>
				<pre>func (bm <a href="index.html#MetaPlan">MetaPlan</a>) IsSpawnableTile(_ <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>, tx <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, ty <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>) <a href="http://localhost:8888/pkg/builtin/#bool">bool</a></pre>
				<p>IsSpawnableTile は指定タイル座標がスポーン可能かを返す

				
				
				
			
				
				<h3 id="MetaPlan.IsValidIndex">func (*MetaPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/autotile.go?s=3225:3285#L92">IsValidIndex</a>
					<a class="permalink" href="index.html#MetaPlan.IsValidIndex">&#xb6;</a>
					
					
				</h3>
				<pre>func (mp *<a href="index.html#MetaPlan">MetaPlan</a>) IsValidIndex(idx <a href="../resources/index.html">resources</a>.<a href="../resources/index.html#TileIdx">TileIdx</a>) <a href="http://localhost:8888/pkg/builtin/#bool">bool</a></pre>
				<p>IsValidIndex はインデックスが有効範囲内かチェック

				
				
				
			
				
				<h3 id="MetaPlan.LeftTile">func (MetaPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=4106:4168#L141">LeftTile</a>
					<a class="permalink" href="index.html#MetaPlan.LeftTile">&#xb6;</a>
					
					
				</h3>
				<pre>func (bm <a href="index.html#MetaPlan">MetaPlan</a>) LeftTile(idx <a href="../resources/index.html">resources</a>.<a href="../resources/index.html#TileIdx">TileIdx</a>) <a href="../raw/index.html">raw</a>.<a href="../raw/index.html#TileRaw">TileRaw</a></pre>
				<p>LeftTile は左にあるタイルを調べる

				
				
				
			
				
				<h3 id="MetaPlan.RightTile">func (MetaPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=4327:4390#L151">RightTile</a>
					<a class="permalink" href="index.html#MetaPlan.RightTile">&#xb6;</a>
					
					
				</h3>
				<pre>func (bm <a href="index.html#MetaPlan">MetaPlan</a>) RightTile(idx <a href="../resources/index.html">resources</a>.<a href="../resources/index.html#TileIdx">TileIdx</a>) <a href="../raw/index.html">raw</a>.<a href="../raw/index.html#TileRaw">TileRaw</a></pre>
				<p>RightTile は右にあるタイルを調べる

				
				
				
			
				
				<h3 id="MetaPlan.UpTile">func (MetaPlan) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=3581:3641#L121">UpTile</a>
					<a class="permalink" href="index.html#MetaPlan.UpTile">&#xb6;</a>
					
					
				</h3>
				<pre>func (bm <a href="index.html#MetaPlan">MetaPlan</a>) UpTile(idx <a href="../resources/index.html">resources</a>.<a href="../resources/index.html#TileIdx">TileIdx</a>) <a href="../raw/index.html">raw</a>.<a href="../raw/index.html#TileRaw">TileRaw</a></pre>
				<p>UpTile は上にあるタイルを調べる

				
				
				
			
		
			
			
			<h2 id="MetaTownPlanner">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/town_planner_metaplan.go?s=358:429#L3">MetaTownPlanner</a>
				<a class="permalink" href="index.html#MetaTownPlanner">&#xb6;</a>
				
				
			</h2>
			<p>MetaTownPlanner は文字列ベース街マップを MetaPlan に直接構築するプランナー

			<pre>type MetaTownPlanner struct {
<span id="MetaTownPlanner.TileMap"></span>    TileMap   []<a href="http://localhost:8888/pkg/builtin/#string">string</a>
<span id="MetaTownPlanner.EntityMap"></span>    EntityMap []<a href="http://localhost:8888/pkg/builtin/#string">string</a>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="MetaTownPlanner.PlanInitial">func (*MetaTownPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/town_planner_metaplan.go?s=1198:1261#L30">PlanInitial</a>
					<a class="permalink" href="index.html#MetaTownPlanner.PlanInitial">&#xb6;</a>
					
					
				</h3>
				<pre>func (p *<a href="index.html#MetaTownPlanner">MetaTownPlanner</a>) PlanInitial(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanInitial は MetaPlan の初期化を行う

				
				
				
			
		
			
			
			<h2 id="NPCSpec">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/hostile_npc_planner.go?s=493:602#L10">NPCSpec</a>
				<a class="permalink" href="index.html#NPCSpec">&#xb6;</a>
				
				
			</h2>
			<p>NPCSpec はNPC配置仕様を表す

			<pre>type NPCSpec struct {
<span id="NPCSpec.X"></span>    X       <a href="http://localhost:8888/pkg/builtin/#int">int</a>    <span class="comment">// X座標</span>
<span id="NPCSpec.Y"></span>    Y       <a href="http://localhost:8888/pkg/builtin/#int">int</a>    <span class="comment">// Y座標</span>
<span id="NPCSpec.NPCType"></span>    NPCType <a href="http://localhost:8888/pkg/builtin/#string">string</a> <span class="comment">// NPCタイプ</span>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="PathFinder">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/pathfinder.go?s=147:193#L1">PathFinder</a>
				<a class="permalink" href="index.html#PathFinder">&#xb6;</a>
				
				
			</h2>
			<p>PathFinder はパスファインディング機能を提供する

			<pre>type PathFinder struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewPathFinder">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/pathfinder.go?s=241:291#L3">NewPathFinder</a>
					<a class="permalink" href="index.html#NewPathFinder">&#xb6;</a>
					
					
				</h3>
				<pre>func NewPathFinder(planData *<a href="index.html#MetaPlan">MetaPlan</a>) *<a href="index.html#PathFinder">PathFinder</a></pre>
				<p>NewPathFinder はPathFinderを作成する

				
				
			

			
				
				<h3 id="PathFinder.FindPath">func (*PathFinder) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/pathfinder.go?s=895:970#L25">FindPath</a>
					<a class="permalink" href="index.html#PathFinder.FindPath">&#xb6;</a>
					
					
				</h3>
				<pre>func (pf *<a href="index.html#PathFinder">PathFinder</a>) FindPath(startX, startY, goalX, goalY <a href="http://localhost:8888/pkg/builtin/#int">int</a>) []<a href="index.html#Position">Position</a></pre>
				<p>FindPath はBFSを使ってスタート地点からゴールまでのパスを探索する
上下左右の4方向移動のみサポート

				
				
				
			
				
				<h3 id="PathFinder.IsReachable">func (*PathFinder) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/pathfinder.go?s=3491:3563#L116">IsReachable</a>
					<a class="permalink" href="index.html#PathFinder.IsReachable">&#xb6;</a>
					
					
				</h3>
				<pre>func (pf *<a href="index.html#PathFinder">PathFinder</a>) IsReachable(startX, startY, goalX, goalY <a href="http://localhost:8888/pkg/builtin/#int">int</a>) <a href="http://localhost:8888/pkg/builtin/#bool">bool</a></pre>
				<p>IsReachable はスタート地点からゴール地点まで到達可能かを判定する

				
				
				
			
				
				<h3 id="PathFinder.IsWalkable">func (*PathFinder) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/pathfinder.go?s=400:447#L8">IsWalkable</a>
					<a class="permalink" href="index.html#PathFinder.IsWalkable">&#xb6;</a>
					
					
				</h3>
				<pre>func (pf *<a href="index.html#PathFinder">PathFinder</a>) IsWalkable(x, y <a href="http://localhost:8888/pkg/builtin/#int">int</a>) <a href="http://localhost:8888/pkg/builtin/#bool">bool</a></pre>
				<p>IsWalkable は指定座標が歩行可能かを判定する

				
				
				
			
				
				<h3 id="PathFinder.ValidateConnectivity">func (*PathFinder) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/pathfinder.go?s=3851:3931#L123">ValidateConnectivity</a>
					<a class="permalink" href="index.html#PathFinder.ValidateConnectivity">&#xb6;</a>
					
					
				</h3>
				<pre>func (pf *<a href="index.html#PathFinder">PathFinder</a>) ValidateConnectivity(playerStartX, playerStartY <a href="http://localhost:8888/pkg/builtin/#int">int</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>ValidateConnectivity はマップの接続性を検証する
プレイヤーのスタート位置からワープポータルへの到達可能性をチェックし、問題があればエラーを返す

				
				
				
			
		
			
			
			<h2 id="PlannerChain">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=7819:7922#L254">PlannerChain</a>
				<a class="permalink" href="index.html#PlannerChain">&#xb6;</a>
				
				
			</h2>
			<p>PlannerChain は階層データMetaPlanに対して適用する生成ロジックを保持する構造体

			<pre>type PlannerChain struct {
<span id="PlannerChain.Starter"></span>    Starter  *<a href="index.html#InitialMapPlanner">InitialMapPlanner</a>
<span id="PlannerChain.Planners"></span>    Planners []<a href="index.html#MetaMapPlanner">MetaMapPlanner</a>
<span id="PlannerChain.PlanData"></span>    PlanData <a href="index.html#MetaPlan">MetaPlan</a>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewBigRoomPlanner">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=11122:11211#L351">NewBigRoomPlanner</a>
					<a class="permalink" href="index.html#NewBigRoomPlanner">&#xb6;</a>
					
					
				</h3>
				<pre>func NewBigRoomPlanner(width <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, height <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, seed <a href="http://localhost:8888/pkg/builtin/#uint64">uint64</a>) (*<a href="index.html#PlannerChain">PlannerChain</a>, <a href="http://localhost:8888/pkg/builtin/#error">error</a>)</pre>
				<p>NewBigRoomPlanner は大部屋プランナーを作成する
ランダムにバリエーションを適用する統合版

				
				
			
				
				<h3 id="NewCavePlanner">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/cave_planner.go?s=9643:9729#L332">NewCavePlanner</a>
					<a class="permalink" href="index.html#NewCavePlanner">&#xb6;</a>
					
					
				</h3>
				<pre>func NewCavePlanner(width <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, height <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, seed <a href="http://localhost:8888/pkg/builtin/#uint64">uint64</a>) (*<a href="index.html#PlannerChain">PlannerChain</a>, <a href="http://localhost:8888/pkg/builtin/#error">error</a>)</pre>
				<p>NewCavePlanner は洞窟ビルダーを作成する

				
				
			
				
				<h3 id="NewForestPlanner">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/forest_planner.go?s=9176:9264#L283">NewForestPlanner</a>
					<a class="permalink" href="index.html#NewForestPlanner">&#xb6;</a>
					
					
				</h3>
				<pre>func NewForestPlanner(width <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, height <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, seed <a href="http://localhost:8888/pkg/builtin/#uint64">uint64</a>) (*<a href="index.html#PlannerChain">PlannerChain</a>, <a href="http://localhost:8888/pkg/builtin/#error">error</a>)</pre>
				<p>NewForestPlanner は森ビルダーを作成する

				
				
			
				
				<h3 id="NewPlannerChain">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=8084:8162#L262">NewPlannerChain</a>
					<a class="permalink" href="index.html#NewPlannerChain">&#xb6;</a>
					
					
				</h3>
				<pre>func NewPlannerChain(width <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, height <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, seed <a href="http://localhost:8888/pkg/builtin/#uint64">uint64</a>) *<a href="index.html#PlannerChain">PlannerChain</a></pre>
				<p>NewPlannerChain はシード値を指定してプランナーチェーンを作成する
シードが0の場合はランダムなシードを生成する

				
				
			
				
				<h3 id="NewRandomPlanner">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=14670:14758#L461">NewRandomPlanner</a>
					<a class="permalink" href="index.html#NewRandomPlanner">&#xb6;</a>
					
					
				</h3>
				<pre>func NewRandomPlanner(width <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, height <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, seed <a href="http://localhost:8888/pkg/builtin/#uint64">uint64</a>) (*<a href="index.html#PlannerChain">PlannerChain</a>, <a href="http://localhost:8888/pkg/builtin/#error">error</a>)</pre>
				<p>NewRandomPlanner はシード値を使用してランダムにプランナーを選択し作成する

				
				
			
				
				<h3 id="NewRuinsPlanner">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/ruins_planner.go?s=7263:7350#L244">NewRuinsPlanner</a>
					<a class="permalink" href="index.html#NewRuinsPlanner">&#xb6;</a>
					
					
				</h3>
				<pre>func NewRuinsPlanner(width <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, height <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, seed <a href="http://localhost:8888/pkg/builtin/#uint64">uint64</a>) (*<a href="index.html#PlannerChain">PlannerChain</a>, <a href="http://localhost:8888/pkg/builtin/#error">error</a>)</pre>
				<p>NewRuinsPlanner は廃墟ビルダーを作成する

				
				
			
				
				<h3 id="NewSmallRoomPlanner">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=10552:10643#L338">NewSmallRoomPlanner</a>
					<a class="permalink" href="index.html#NewSmallRoomPlanner">&#xb6;</a>
					
					
				</h3>
				<pre>func NewSmallRoomPlanner(width <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, height <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, seed <a href="http://localhost:8888/pkg/builtin/#uint64">uint64</a>) (*<a href="index.html#PlannerChain">PlannerChain</a>, <a href="http://localhost:8888/pkg/builtin/#error">error</a>)</pre>
				<p>NewSmallRoomPlanner はシンプルな小部屋プランナーを作成する

				
				
			
				
				<h3 id="NewTownPlanner">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/town_planner_metaplan.go?s=505:591#L9">NewTownPlanner</a>
					<a class="permalink" href="index.html#NewTownPlanner">&#xb6;</a>
					
					
				</h3>
				<pre>func NewTownPlanner(width <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, height <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, seed <a href="http://localhost:8888/pkg/builtin/#uint64">uint64</a>) (*<a href="index.html#PlannerChain">PlannerChain</a>, <a href="http://localhost:8888/pkg/builtin/#error">error</a>)</pre>
				<p>NewTownPlanner は MetaPlan 対応の街プランナーを作成する

				
				
			

			
				
				<h3 id="PlannerChain.Plan">func (*PlannerChain) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=9313:9348#L303">Plan</a>
					<a class="permalink" href="index.html#PlannerChain.Plan">&#xb6;</a>
					
					
				</h3>
				<pre>func (b *<a href="index.html#PlannerChain">PlannerChain</a>) Plan() <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>Plan はプランナーチェーンを実行してマップを生成する

				
				
				
			
				
				<h3 id="PlannerChain.StartWith">func (*PlannerChain) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=8967:9036#L293">StartWith</a>
					<a class="permalink" href="index.html#PlannerChain.StartWith">&#xb6;</a>
					
					
				</h3>
				<pre>func (b *<a href="index.html#PlannerChain">PlannerChain</a>) StartWith(initialMapPlanner <a href="index.html#InitialMapPlanner">InitialMapPlanner</a>)</pre>
				<p>StartWith は初期プランナーを設定する

				
				
				
			
				
				<h3 id="PlannerChain.ValidateConnectivity">func (*PlannerChain) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=9908:9989#L321">ValidateConnectivity</a>
					<a class="permalink" href="index.html#PlannerChain.ValidateConnectivity">&#xb6;</a>
					
					
				</h3>
				<pre>func (b *<a href="index.html#PlannerChain">PlannerChain</a>) ValidateConnectivity(playerStartX, playerStartY <a href="http://localhost:8888/pkg/builtin/#int">int</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>ValidateConnectivity はマップの接続性を検証する
プレイヤーのスタート位置からワープポータルへの到達可能性をチェックし、問題があればエラーを返す

				
				
				
			
				
				<h3 id="PlannerChain.With">func (*PlannerChain) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=9122:9180#L298">With</a>
					<a class="permalink" href="index.html#PlannerChain.With">&#xb6;</a>
					
					
				</h3>
				<pre>func (b *<a href="index.html#PlannerChain">PlannerChain</a>) With(metaMapPlanner <a href="index.html#MetaMapPlanner">MetaMapPlanner</a>)</pre>
				<p>With はメタプランナーを追加する

				
				
				
			
		
			
			
			<h2 id="PlannerType">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=11632:12080#L365">PlannerType</a>
				<a class="permalink" href="index.html#PlannerType">&#xb6;</a>
				
				
			</h2>
			<p>PlannerType はマップ生成の設定を表す構造体

			<pre>type PlannerType struct {
    <span class="comment">// プランナー名</span>
<span id="PlannerType.Name"></span>    Name <a href="http://localhost:8888/pkg/builtin/#string">string</a>
    <span class="comment">// 敵をスポーンするか</span>
<span id="PlannerType.SpawnEnemies"></span>    SpawnEnemies <a href="http://localhost:8888/pkg/builtin/#bool">bool</a>
    <span class="comment">// アイテムをスポーンするか</span>
<span id="PlannerType.SpawnItems"></span>    SpawnItems <a href="http://localhost:8888/pkg/builtin/#bool">bool</a>
    <span class="comment">// ポータル位置を固定するか</span>
<span id="PlannerType.UseFixedPortalPos"></span>    UseFixedPortalPos <a href="http://localhost:8888/pkg/builtin/#bool">bool</a>
    <span class="comment">// アイテムテーブル名</span>
<span id="PlannerType.ItemTableName"></span>    ItemTableName <a href="http://localhost:8888/pkg/builtin/#string">string</a>
    <span class="comment">// 敵テーブル名</span>
<span id="PlannerType.EnemyTableName"></span>    EnemyTableName <a href="http://localhost:8888/pkg/builtin/#string">string</a>
    <span class="comment">// プランナー関数</span>
<span id="PlannerType.PlannerFunc"></span>    PlannerFunc func(width <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, height <a href="../components/index.html">gc</a>.<a href="../components/index.html#Tile">Tile</a>, seed <a href="http://localhost:8888/pkg/builtin/#uint64">uint64</a>) (*<a href="index.html#PlannerChain">PlannerChain</a>, <a href="http://localhost:8888/pkg/builtin/#error">error</a>)
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="Position">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/pathfinder.go?s=2694:2732#L88">Position</a>
				<a class="permalink" href="index.html#Position">&#xb6;</a>
				
				
			</h2>
			<p>Position は座標を表す構造体

			<pre>type Position struct {
<span id="Position.X"></span>    X <a href="http://localhost:8888/pkg/builtin/#int">int</a>
<span id="Position.Y"></span>    Y <a href="http://localhost:8888/pkg/builtin/#int">int</a>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="PropsPlanner">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/props_planner.go?s=428:502#L7">PropsPlanner</a>
				<a class="permalink" href="index.html#PropsPlanner">&#xb6;</a>
				
				
			</h2>
			<p>PropsPlanner はProps配置を担当するプランナー

			<pre>type PropsPlanner struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewPropsPlanner">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/props_planner.go?s=562:636#L13">NewPropsPlanner</a>
					<a class="permalink" href="index.html#NewPropsPlanner">&#xb6;</a>
					
					
				</h3>
				<pre>func NewPropsPlanner(world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>, plannerType <a href="index.html#PlannerType">PlannerType</a>) *<a href="index.html#PropsPlanner">PropsPlanner</a></pre>
				<p>NewPropsPlanner はPropsプランナーを作成する

				
				
			

			
				
				<h3 id="PropsPlanner.PlanMeta">func (*PropsPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/props_planner.go?s=777:834#L21">PlanMeta</a>
					<a class="permalink" href="index.html#PropsPlanner.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (p *<a href="index.html#PropsPlanner">PropsPlanner</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanMeta はProps配置情報をMetaPlanに追加する

				
				
				
			
		
			
			
			<h2 id="PropsSpec">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/props_planner.go?s=259:365#L1">PropsSpec</a>
				<a class="permalink" href="index.html#PropsSpec">&#xb6;</a>
				
				
			</h2>
			<p>PropsSpec はProps配置仕様を表す

			<pre>type PropsSpec struct {
<span id="PropsSpec.X"></span>    X       <a href="http://localhost:8888/pkg/builtin/#int">int</a>    <span class="comment">// X座標</span>
<span id="PropsSpec.Y"></span>    Y       <a href="http://localhost:8888/pkg/builtin/#int">int</a>    <span class="comment">// Y座標</span>
<span id="PropsSpec.PropKey"></span>    PropKey <a href="http://localhost:8888/pkg/builtin/#string">string</a> <span class="comment">// Prop名</span>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="RectRoomPlanner">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/rect_room.go?s=134:163#L1">RectRoomPlanner</a>
				<a class="permalink" href="index.html#RectRoomPlanner">&#xb6;</a>
				
				
			</h2>
			<p>RectRoomPlanner は長方形の部屋を作成する

			<pre>type RectRoomPlanner struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="RectRoomPlanner.PlanInitial">func (RectRoomPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/rect_room.go?s=208:270#L1">PlanInitial</a>
					<a class="permalink" href="index.html#RectRoomPlanner.PlanInitial">&#xb6;</a>
					
					
				</h3>
				<pre>func (b <a href="index.html#RectRoomPlanner">RectRoomPlanner</a>) PlanInitial(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanInitial は初期プランを行う

				
				
				
			
				
				<h3 id="RectRoomPlanner.PlanRooms">func (RectRoomPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/rect_room.go?s=352:406#L7">PlanRooms</a>
					<a class="permalink" href="index.html#RectRoomPlanner.PlanRooms">&#xb6;</a>
					
					
				</h3>
				<pre>func (b <a href="index.html#RectRoomPlanner">RectRoomPlanner</a>) PlanRooms(planData *<a href="index.html#MetaPlan">MetaPlan</a>)</pre>
				<p>PlanRooms は部屋をプランする

				
				
				
			
		
			
			
			<h2 id="RoomDraw">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/room_draw.go?s=127:149#L1">RoomDraw</a>
				<a class="permalink" href="index.html#RoomDraw">&#xb6;</a>
				
				
			</h2>
			<p>RoomDraw は部屋を描画するビルダー

			<pre>type RoomDraw struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="RoomDraw.PlanMeta">func (RoomDraw) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/room_draw.go?s=200:252#L1">PlanMeta</a>
					<a class="permalink" href="index.html#RoomDraw.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (b <a href="index.html#RoomDraw">RoomDraw</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanMeta はメタデータをビルドする

				
				
				
			
		
			
			
			<h2 id="RuinsCorridors">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/ruins_planner.go?s=5406:5472#L171">RuinsCorridors</a>
				<a class="permalink" href="index.html#RuinsCorridors">&#xb6;</a>
				
				
			</h2>
			<p>RuinsCorridors は廃墟間を繋ぐ通路を作成する

			<pre>type RuinsCorridors struct {
<span id="RuinsCorridors.FloorTile"></span>    FloorTile <a href="http://localhost:8888/pkg/builtin/#string">string</a>
<span id="RuinsCorridors.WallTile"></span>    WallTile  <a href="http://localhost:8888/pkg/builtin/#string">string</a>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="RuinsCorridors.PlanMeta">func (RuinsCorridors) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/ruins_planner.go?s=5523:5581#L177">PlanMeta</a>
					<a class="permalink" href="index.html#RuinsCorridors.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (r <a href="index.html#RuinsCorridors">RuinsCorridors</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanMeta は廃墟間に通路を作成する

				
				
				
			
		
			
			
			<h2 id="RuinsDebris">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/ruins_planner.go?s=3797:3860#L113">RuinsDebris</a>
				<a class="permalink" href="index.html#RuinsDebris">&#xb6;</a>
				
				
			</h2>
			<p>RuinsDebris は瓦礫や破片を配置する

			<pre>type RuinsDebris struct {
<span id="RuinsDebris.FloorTile"></span>    FloorTile <a href="http://localhost:8888/pkg/builtin/#string">string</a>
<span id="RuinsDebris.WallTile"></span>    WallTile  <a href="http://localhost:8888/pkg/builtin/#string">string</a>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="RuinsDebris.PlanMeta">func (RuinsDebris) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/ruins_planner.go?s=3908:3963#L119">PlanMeta</a>
					<a class="permalink" href="index.html#RuinsDebris.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (r <a href="index.html#RuinsDebris">RuinsDebris</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanMeta は廃墟に瓦礫を配置する

				
				
				
			
		
			
			
			<h2 id="RuinsDraw">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/ruins_planner.go?s=1251:1312#L33">RuinsDraw</a>
				<a class="permalink" href="index.html#RuinsDraw">&#xb6;</a>
				
				
			</h2>
			<p>RuinsDraw は廃墟構造を描画する

			<pre>type RuinsDraw struct {
<span id="RuinsDraw.FloorTile"></span>    FloorTile <a href="http://localhost:8888/pkg/builtin/#string">string</a>
<span id="RuinsDraw.WallTile"></span>    WallTile  <a href="http://localhost:8888/pkg/builtin/#string">string</a>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="RuinsDraw.PlanMeta">func (RuinsDraw) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/ruins_planner.go?s=1369:1422#L39">PlanMeta</a>
					<a class="permalink" href="index.html#RuinsDraw.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (r <a href="index.html#RuinsDraw">RuinsDraw</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanMeta は廃墟構造をタイルに描画する

				
				
				
			
		
			
			
			<h2 id="RuinsPlanner">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/ruins_planner.go?s=207:233#L1">RuinsPlanner</a>
				<a class="permalink" href="index.html#RuinsPlanner">&#xb6;</a>
				
				
			</h2>
			<p>RuinsPlanner は廃墟風レイアウトを生成するビルダー
建物の残骸や瓦礫が散在する廃墟を作成

			<pre>type RuinsPlanner struct{}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="RuinsPlanner.PlanInitial">func (RuinsPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/ruins_planner.go?s=293:352#L2">PlanInitial</a>
					<a class="permalink" href="index.html#RuinsPlanner.PlanInitial">&#xb6;</a>
					
					
				</h3>
				<pre>func (r <a href="index.html#RuinsPlanner">RuinsPlanner</a>) PlanInitial(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanInitial は初期廃墟マップをビルドする

				
				
				
			
		
			
			
			<h2 id="WallType">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/wall_type.go?s=57:74#L1">WallType</a>
				<a class="permalink" href="index.html#WallType">&#xb6;</a>
				
				
			</h2>
			<p>WallType は壁の種類を表す

			<pre>type WallType <a href="http://localhost:8888/pkg/builtin/#int">int</a></pre>

			
				
				<pre>const (
    <span class="comment">// WallTypeTop は上側の壁（下に床がある壁）</span>
    <span id="WallTypeTop">WallTypeTop</span> <a href="index.html#WallType">WallType</a> = <a href="http://localhost:8888/pkg/builtin/#iota">iota</a>
    <span class="comment">// WallTypeBottom は下側の壁（上に床がある壁）</span>
    <span id="WallTypeBottom">WallTypeBottom</span>
    <span class="comment">// WallTypeLeft は左側の壁（右に床がある壁）</span>
    <span id="WallTypeLeft">WallTypeLeft</span>
    <span class="comment">// WallTypeRight は右側の壁（左に床がある壁）</span>
    <span id="WallTypeRight">WallTypeRight</span>
    <span class="comment">// WallTypeTopLeft は左上角の壁（右下に床がある壁）</span>
    <span id="WallTypeTopLeft">WallTypeTopLeft</span>
    <span class="comment">// WallTypeTopRight は右上角の壁（左下に床がある壁）</span>
    <span id="WallTypeTopRight">WallTypeTopRight</span>
    <span class="comment">// WallTypeBottomLeft は左下角の壁（右上に床がある壁）</span>
    <span id="WallTypeBottomLeft">WallTypeBottomLeft</span>
    <span class="comment">// WallTypeBottomRight は右下角の壁（左上に床がある壁）</span>
    <span id="WallTypeBottomRight">WallTypeBottomRight</span>
    <span class="comment">// WallTypeGeneric は汎用の壁（複雑なパターンまたは判定不可）</span>
    <span id="WallTypeGeneric">WallTypeGeneric</span>
)</pre>
			

			

			
			
			

			

			
				
				<h3 id="WallType.String">func (WallType) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/wall_type.go?s=911:945#L18">String</a>
					<a class="permalink" href="index.html#WallType.String">&#xb6;</a>
					
					
				</h3>
				<pre>func (wt <a href="index.html#WallType">WallType</a>) String() <a href="http://localhost:8888/pkg/builtin/#string">string</a></pre>
				<p>String は壁タイプを文字列で返す

				
				
				
			
		
			
			
			<h2 id="WarpPortal">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=680:816#L17">WarpPortal</a>
				<a class="permalink" href="index.html#WarpPortal">&#xb6;</a>
				
				
			</h2>
			<p>WarpPortal はワープポータルエンティティの配置情報

			<pre>type WarpPortal struct {
<span id="WarpPortal.X"></span>    X    <a href="http://localhost:8888/pkg/builtin/#int">int</a>            <span class="comment">// X座標</span>
<span id="WarpPortal.Y"></span>    Y    <a href="http://localhost:8888/pkg/builtin/#int">int</a>            <span class="comment">// Y座標</span>
<span id="WarpPortal.Type"></span>    Type <a href="index.html#WarpPortalType">WarpPortalType</a> <span class="comment">// ポータルの種別</span>
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="WarpPortalPlanner">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/warp_portal_planner.go?s=597:676#L8">WarpPortalPlanner</a>
				<a class="permalink" href="index.html#WarpPortalPlanner">&#xb6;</a>
				
				
			</h2>
			<p>WarpPortalPlanner はワープポータル配置を担当するプランナー

			<pre>type WarpPortalPlanner struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewWarpPortalPlanner">func <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/warp_portal_planner.go?s=757:841#L14">NewWarpPortalPlanner</a>
					<a class="permalink" href="index.html#NewWarpPortalPlanner">&#xb6;</a>
					
					
				</h3>
				<pre>func NewWarpPortalPlanner(world <a href="../world/index.html">w</a>.<a href="../world/index.html#World">World</a>, plannerType <a href="index.html#PlannerType">PlannerType</a>) *<a href="index.html#WarpPortalPlanner">WarpPortalPlanner</a></pre>
				<p>NewWarpPortalPlanner はワープポータルプランナーを作成する

				
				
			

			
				
				<h3 id="WarpPortalPlanner.PlanMeta">func (*WarpPortalPlanner) <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/warp_portal_planner.go?s=991:1053#L22">PlanMeta</a>
					<a class="permalink" href="index.html#WarpPortalPlanner.PlanMeta">&#xb6;</a>
					
					
				</h3>
				<pre>func (w *<a href="index.html#WarpPortalPlanner">WarpPortalPlanner</a>) PlanMeta(planData *<a href="index.html#MetaPlan">MetaPlan</a>) <a href="http://localhost:8888/pkg/builtin/#error">error</a></pre>
				<p>PlanMeta はワープポータルをMetaPlanに追加する

				
				
				
			
		
			
			
			<h2 id="WarpPortalType">type <a href="http://localhost:8888/src/github.com/kijimaD/ruins/lib/mapplanner/lib.go?s=394:419#L7">WarpPortalType</a>
				<a class="permalink" href="index.html#WarpPortalType">&#xb6;</a>
				
				
			</h2>
			<p>WarpPortalType はワープポータルの種別

			<pre>type WarpPortalType <a href="http://localhost:8888/pkg/builtin/#uint8">uint8</a></pre>

			
				
				<pre>const (
    <span class="comment">// WarpPortalNext は次の階に向かうワープポータル</span>
    <span id="WarpPortalNext">WarpPortalNext</span> <a href="index.html#WarpPortalType">WarpPortalType</a> = <a href="http://localhost:8888/pkg/builtin/#iota">iota</a>
    <span class="comment">// WarpPortalEscape は脱出用ワープポータル</span>
    <span id="WarpPortalEscape">WarpPortalEscape</span>
)</pre>
			

			

			
			
			

			

			
		
	

	







<div id="footer">
Build version go1.24.9.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:8888/LICENSE">BSD license</a>.<br>
<a href="https://golang.org/doc/tos.html">Terms of Service</a> |
<a href="https://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
