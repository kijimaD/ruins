# RUINS - ゲーム企画書

## エグゼクティブサマリー

**RUINS**は、廃墟世界を舞台にした1人称ローグライクRPGです。プレイヤーは危険なダンジョンを探索し、アイテム収集・クラフト・戦略的な選択を通じて成長していきます。

### 企画の核心
- **実在感ある世界観**: フレーバーテキストによる深い没入体験
- **意味のある選択**: 数値最適化を超えた感情的な判断システム
- **学習と成長**: パーマデスでありながら、プレイヤー自身の成長を実感できる設計

### ターゲット・市場性
- **メインターゲット**: ローグライク愛好者、世界観重視のRPGプレイヤー
- **サブターゲット**: レトロゲーム愛好者、ブラウザゲームユーザー
- **プラットフォーム**: Web（WebAssembly）、PC
- **想定プレイ時間**: 1セッション30分〜1時間、全体10〜20時間以上

---

## ゲーム概要

### 基本コンセプト
廃墟となった世界で、プレイヤーは探索者として危険なダンジョンに挑みます。ターン制での戦略的な探索、リソース管理、そして豊富なクラフトシステムが特徴です。

### ジャンル・特徴
- **ジャンル**: ローグライクRPG（ターンベース）
- **視点**: 1人称レイキャスティング（3D風2D）
- **探索**: グリッドベース・ターン制移動
- **戦闘**: 同一マップ上でのターンベース統合戦闘
- **成長**: 装備・アイテム依存、経験値なし
- **言語**: 完全日本語対応

### 参考作品

#### Cataclysm: Dark Days Ahead (CDDA)
**採用する要素:**
- **Action Points (AP) システム**: 敏捷性ベースのAP獲得、債務システム
- **地形コスト**: 移動コストの地形別差別化（平地100AP、茂み150AP等）
- **装備重量影響**: 重装備による移動・攻撃コスト増加
- **対角移動計算**: √2倍（142AP）の精密な移動コスト
- **継続アクション**: 長時間行動の中断・再開システム

**CDDA債務システムの利点:**
- **戦略性**: 重い武器の使用タイミングが重要になる
- **リアリズム**: 行動には実際に時間がかかるという自然な表現
- **バランス調整**: 強力な行動ほど隙が大きくなる仕組み
- **プレイヤー判断**: APの残量を見ながらの戦略的行動選択

#### パワプロクンポケット
**採用する要素:**
- **世界観構築**: シリアスな背景ストーリーと軽快なゲームプレイの両立
- **キャラクター設計**: プレイヤーキャラクターの成長システム

#### Dark Souls
**採用する要素:**
- **通貨システム**: 購入資金「ソウル」システム
- **死亡ペナルティ**: 死亡時に通貨をドロップ、回収可能だが再度死ぬと消失
- **リスク管理**: 通貨を貯めることのリスクとリターン
- **緊張感の創出**: 「いま使うべきか、貯めるべきか」の判断

**Dark Soulsソウルシステムの利点:**
- **選択の重み**: 通貨の使い道が戦略の核心
- **リスクの可視化**: 所持通貨が多いほど死亡への恐怖が増す
- **回収ミッション**: 死亡地点への回収が新たなゲームプレイを生む
- **学習曲線**: 失敗から通貨管理の重要性を学ぶ

---

## 核心的な面白さ

### プレイヤー体験の設計

#### 1. 「実在感ある世界での探索」
RUINSの最大の差別化要素は、世界観とテキストによる深い没入感です。

**実現方法:**
- 各アイテム・エリアに込められたフレーバーテキスト
- 廃墟世界の背景ストーリーを感じられる細やかな描写
- 単なる数値ではない、意味と歴史を持つオブジェクトとしての体験
- テキストを読むこと自体が探索の楽しみになる設計

#### 2. 「意味のある選択とその結果」
数値最適化を超えた、感情的な判断を伴う選択システム。

**具体的なジレンマ:**
- **重量管理**: 貴重品（高価格・重い） vs 実用品（便利・軽い）
- **リスク判断**: HP残量 vs 未探索エリアの誘惑
- **戦闘選択**: 逃走（安全） vs 迎撃（リスク・報酬）
- **探索継続**: 5階到達時の「あと1階だけ...」の心理的プレッシャー

#### 3. 「プレイヤー成長による体験質の向上」
パーマデスでありながら、継続的な成長を実感できるシステム。

**二重成長システム:**
- **知識の成長**: 失敗からの学習が次回プレイの戦略につながる
- **装備の蓄積**: ステータスリセット + 装備持ち越しによる新しい進歩感
- **愛着の形成**: 苦労して手に入れた装備が次回冒険の支えになる

### プレイヤー感情の設計
- **緊張感**: リスク判断、重量管理、冒険続行判断での心理的プレッシャー
- **達成感**: 試行錯誤による成功体験、装備持ち越しによる蓄積感
- **発見の喜び**: フレーバーテキストによる世界観発見、新アイテムの特殊効果発見

---

## ゲームシステム

### コアループ
1. **探索**: グリッド移動でのダンジョン探索、世界観体験
2. **発見**: 新エリア・素材・アイテム発見、背景ストーリーの発見
3. **戦闘**: 敵との戦闘、通貨獲得
4. **判断**: 戦闘選択、リソース管理（通貨/重量/HP/アイテム）
5. **通貨使用**: レベルアップ、購入、強化の選択
6. **収集**: 戦利品・素材収集、持ち帰り品の選択と取捨判断
7. **製作**: クラフトによる装備強化、次回探索への準備
8. **リスク判断**: 冒険続行か撤退か、通貨を使うか貯めるかの戦略的決断

### プレイヤー体験のフロー
```
【探索開始】 → 実在感ある世界へ没入
【フレーバーテキスト体験】 → 新しい発見への期待
【アイテム・エリア発見】 → 戦略的思考が必要
【戦闘・通貨獲得】 → 通貨が貯まる喜びと不安
【通貨使用の判断】 → 「いま使うべきか」の緊張
【成功/失敗からの学習】 → 通貨管理の重要性を学ぶ
【死亡・通貨ドロップ】 → 回収ミッションの緊張感
【装備持ち越しでの再挑戦】 → 継続的な成長体験
```

### ターンベース探索システム

#### 基本仕様
- **グリッド移動**: 1マス単位での移動
- **アクションコスト**: 全行動に時間コストを設定
- **ターン制**: プレイヤー行動→敵行動の繰り返し
- **統合戦闘**: 探索マップ上で直接戦闘実行
- **レイキャスト表示**: 1人称視点は維持

#### アクションコストシステム（CDDA準拠）

CDDAのAction Points（AP）システムを参考にした精密な行動コスト管理。

**基本メカニズム:**
- **APの獲得**: 毎ターン開始時に「敏捷性」値分のAPを獲得
- **基本移動コスト**: 通常地形での1マス移動 = 100AP
- **ターン終了条件**: APが0以下になるとターン終了

**行動コスト例:**
```
基本行動:
- 移動（平地）: 100AP
- 移動（対角）: 142AP（√2倍）
- 通常攻撃: 100AP
- 重武器攻撃: 150-300AP
- アイテム使用: 80-120AP
- 装備変更: 200AP
- スキル使用: 120-400AP
```

**CDDA式債務システム:**
APが不足する行動を行った場合の処理例：
```
例：敏捷性100、重武器攻撃250APの場合

ターン1:
- 攻撃実行（250AP消費）
- 残りAP: 100 - 250 = -150
- ターン終了（APが負の値）

ターン2:
- 敏捷性分AP獲得: +100
- 現在AP: -150 + 100 = -50（まだ負）
- 即座にターン終了

ターン3:
- 敏捷性分AP獲得: +100
- 現在AP: -50 + 100 = +50
- 行動可能（50APで行動開始）
```

**コスト調整要素:**
- **地形**: 難地形での移動コスト増加（茂み150AP、沼地200APなど）
- **装備重量**: 重装備時の移動・攻撃コスト増加
- **状態異常**: 毒、疲労、負傷による速度低下
- **スキル熟練**: 慣れた武器・魔法の使用コスト減少

**戦略的要素:**
- **タイミング戦略**: 重い攻撃は相手の行動前に実行するのが有効
- **AP管理**: 移動とアクションのバランス調整
- **継続行動**: 長時間アクション（クラフト等）の中断・再開システム

### 統合戦闘システム

従来の別画面戦闘から、マップ上統合戦闘に変更。

#### 特徴
- **マップ統合**: 探索画面で直接戦闘実行
- **スキル選択**: 多様な攻撃手段をターン内で選択
- **レンジ戦闘**: 遠距離・近距離攻撃を距離に応じて実装
- **位置戦略**: マップの地形・障害物を活用

#### 攻撃タイプ
- **近接攻撃**: 隣接マスの敵を攻撃
- **遠距離攻撃**: 射線上の敵を攻撃（射程制限あり）
- **範囲攻撃**: 複数マスの敵に同時攻撃
- **魔法攻撃**: 壁越し攻撃、状態異常付与

### アイテム・クラフトシステム

#### アイテム構成
- **攻撃スキル**: 54種類（近接、銃器、魔法、範囲攻撃）
- **防具**: 30種類（頭部、胴体、脚部、装飾品）
- **消耗品**: 12種類（回復系、戦闘系、バフ系）
- **クラフトレシピ**: 75種類
- **素材**: 24種類

#### 購入と合成の棲み分け

**基本方針:**
- **購入**: 安定した基礎固め、保険的役割
- **合成**: ガチャ要素、やり込み要素

**購入システム（店での購入）**
- **確実性**: 必要な装備を確実に入手できる
- **初期装備**: ゲーム序盤の基本装備供給源
- **補完的役割**: 足りない部位を埋める調整用、日用品の調達用
- **価格**: 基本価値の2倍（高コスト）
- **性能**: 基本性能が低め・安定
- **世界観**: 地上の技術で作られた普通の装備

**合成システム（クラフト）**
- **やり込み要素**: 高性能装備を狙う目標
- **素材収集の動機**: ダンジョン探索の目的を増やす
- **ランダム性**: 性能にランダム補正（-10～+9等）
  - 最低値だと購入品を下回る
  - 最高値なら購入品を大きく上回る
- **コスト**: 素材収集に時間がかかる
- **世界観**: 古代の合成機械で作られた特殊装備、地髄エネルギーによる物質変換

**段階的な役割変化:**

```
【序盤(1-20階)】
購入: 基本装備を揃える主要手段
合成: 素材が少なく、あまり利用できない

【中盤(20-60階)】
購入: 不足部位を補う補助的役割
合成: 高性能装備を狙って本格的に利用開始

【終盤(60-100階)】
購入: ほぼ使わない（性能が低い）
合成: 最深層攻略に必要な高性能装備の主要入手手段
```

**設計意図:**
- 両システムが補完的に機能し、プレイの選択肢を増やす
- 購入は「確実性」、合成は「ギャンブル性」という明確な差別化
- ゲーム進行に応じて自然に合成へシフトする設計
- 素材収集がダンジョン探索の動機づけになる
- 共通の通貨（CZ）を使うことで、「何に使うか」の戦略的選択が生まれる

#### 重量管理システム
プレイヤーの感情的判断を促す核心システム：
- 貴重品（高価格・重い）と実用品（便利・軽い）の取捨選択
- インベントリ圧迫時の「何を捨てるか」判断
- 新アイテム発見時の「何を持ち帰るか」選択

### キャラクター・ステータス

#### プレイヤーキャラクター
- **セレスティン** (主人公): 探索者
- **コルデリア**: 狩医者
- **バルサザール**: 脱走兵
- その他: 裁定者、石棺戦士、歯車技師、従軍医官など

#### ステータス
- **体力 (Vitality)**: HP、生存力
- **筋力 (Strength)**: 物理攻撃力
- **感覚 (Sensation)**: 魔法攻撃力、知覚
- **器用 (Dexterity)**: 命中率、魔法命中
- **敏捷 (Agility)**: 行動順、回避率
- **防御 (Defense)**: 物理・魔法軽減

### 通貨システム

#### ダークソウル式通貨システム

Dark Soulsの「ソウル」を参考にした、収集自体に意味を持つ特色ある通貨システム。

**基本コンセプト:**
- 通貨でアイテムを売却/購入しパワーアップしていく
- 探索、戦闘、発見の全てが通貨獲得につながる
- 「何に使うか」の戦略的選択がゲームプレイの核心

#### 通貨の用途

通貨は多目的リソースとして機能：

1. **アイテム購入**: 商人NPCからの購入
   - 回復アイテム
   - 装備品
   - 素材

2. **装備強化**: 武器・防具の強化
   - 段階的な強化システム
   - 高レベル強化ほど高コスト

3. **特殊サービス**:
   - アイテム識別
   - 能力解放
   - その他の特殊サービス

#### 死亡時のメカニクス

**Dark Souls式のリスク・リターンシステム:**

```
【死亡時】
├─ 所持通貨を全てその場に落とす
├─ プレイヤーは通貨0で復活
└─ 死亡地点にマーカー表示

【回収フェーズ】
├─ 死亡地点まで戻れば全額回収可能
├─ 回収前に再度死亡 → 前回の通貨は完全消失
└─ フロア移動で回収不可になる可能性
```

**心理的緊張感の創出:**
- 大量の通貨を持つほど死亡リスクが重くなる
- 「いま使うべきか、貯めるべきか」の判断
- 「回収に戻るか、諦めて先に進むか」の選択

#### 獲得方法

**探索での獲得:**
- 敵撃破: 敵の強さに応じた通貨
- ボス撃破: 大量の通貨報酬
- 宝箱: ランダムな通貨
- フロアクリア: ボーナス通貨

**獲得量の例:**
```
雑魚敵: 10-50
中ボス: 100-300
ボス: 500-1000
宝箱: 50-200
フロアクリア: 200+
```

#### 戦略的要素

**リスク管理:**
- 通貨を多く持つほど死亡時の損失が大きい
- 定期的に使うか、貯めて大きな買い物をするか
- 危険エリアに入る前に使い切るべきか

**使用タイミングの判断:**
- レベルアップ（永続的強化）
- アイテム購入（即座の安全）
- 装備強化（長期的投資）

**回収の判断:**
- 死亡地点への距離とリスク
- 所持通貨量と回収価値
- 現在の装備・残HP状況

#### ゲームデザイン上の意義

**1. リスク・リターンの明確化**
- 探索継続のリスクが可視化される
- 「もう少しだけ」の誘惑と恐怖

**2. 意味のある選択の創出**
- 通貨の使い道による戦略の多様化
- 短期的安全 vs 長期的成長

**3. 緊張感の維持**
- 大量通貨保持時の死亡への恐怖
- 回収ミッション中の緊張感

**4. 学習曲線の自然な形成**
- 失敗から「いつ使うべきか」を学ぶ
- 通貨管理スキルの向上

### ローグライク要素

#### パーマデス・成長システム
- **完全ロスト**: 死亡時はゲーム最初から
- **メタ進行**: 装備持ち越しのみ、ステータスリセット
- **学習成長**: プレイヤー自身の戦略的知識蓄積
- **装備愛着**: 苦労して得た装備への感情的価値

#### 戦略的リスク管理
**具体的な緊張感創出メカニズム:**

**重量管理の葛藤**
- 貴重品（高価格・重い） vs 実用品（便利・軽い）
- インベントリ圧迫時の取捨選択
- 新アイテム発見時の持ち帰り判断

**リスク管理の心理戦**
- HP残量 vs 未探索エリアの誘惑
- 5階到達時の「あと1階だけ...」の誘惑
- アイテム残量と敵遭遇リスクのバランス

**選択の重み**
- 戦闘回避（安全） vs 迎撃（リスク・報酬）
- 即座撤退（確実な生還） vs 継続探索（高リスク高リターン）
- 重装備（防御重視・機動力低下） vs 軽装備（機動性・防御脆弱）

---

## 独自性・競争優位性

### 核心的差別化要素

#### 1. 実在感ある廃墟世界とテキスト体験
- **深い世界観**: 完全日本語対応による細やかな世界観表現
- **没入感**: 単なるゲームアイテムを超えた、意味と歴史を持つオブジェクト体験
- **発見の楽しみ**: テキストを読むこと自体が探索の動機になる設計

#### 2. 感情的判断を伴う選択システム
- **人間的葛藤**: 数値最適化を超えた、感情的な判断システム
- **心理的プレッシャー**: 「もう少しだけ...」という人間的な葛藤のシステム化
- **学習曲線**: 失敗が次回への戦略的知識となる成長体験

#### 3. 独特な成長システム
- **二重成長**: 知識＋装備の成長による新しい進歩感
- **継続感**: パーマデスでありながら、プレイヤー成長は蓄積
- **感情的価値**: 装備への愛着が次回冒険の支えになる

### 技術的独自性
1. **レトロ風3D探索**: レイキャスティングによる独特の探索体験
2. **ターンベース統合戦闘**: 別画面なしのseamless戦闘システム
3. **豊富なクラフト要素**: 75種類のレシピによる製作システム
4. **キーボード特化操作**: マウス不要の快適な操作性
5. **WebAssembly対応**: ブラウザで手軽にプレイ可能

### 体験設計の独自性

**「数値よりも体験」**
- レベルアップによる数値的成長ではなく、プレイヤー自身の理解と判断力向上
- 効率最適化よりも、世界観への没入と選択の結果を楽しむ設計

**「完璧を目指さない楽しさ」**
- 全アイテム収集や完全攻略よりも、毎回異なる選択と発見を重視
- 失敗も含めて楽しい体験として設計された学習曲線

---

## 技術仕様

### アーキテクチャ
- **言語**: Go
- **ゲームエンジン**: Ebitengine
- **設計パターン**: ECS（Entity Component System）
- **出力**: WebAssembly + ネイティブバイナリ

### ターンシステム実装詳細

#### CDDAベースのAPシステム実装
```go
type ActionPoints struct {
    Current int // 現在のAP（負の値も可能）
    Speed   int // 基本Speed値（敏捷性）
}

type ActionCost struct {
    Move       int // 移動コスト
    Attack     int // 攻撃コスト
    Item       int // アイテム使用コスト
    Equipment  int // 装備変更コスト
}

// ターン開始時のAP回復
func (ap *ActionPoints) StartTurn() {
    ap.Current += ap.Speed
}

// アクション実行とAP消費
func (ap *ActionPoints) ConsumeAP(cost int) bool {
    ap.Current -= cost
    return ap.Current > 0 // false = ターン終了
}
```

#### 債務システムの実装例
```go
// 重い行動（攻撃等）の処理例
func executeHeavyAction(player *Player, actionCost int) {
    // アクションを実行（APが足りなくても）
    executeAction()

    // APを消費（負の値になることがある）
    player.AP.ConsumeAP(actionCost)

    // APが負の場合、ターン終了
    if player.AP.Current <= 0 {
        endPlayerTurn()
        // 次のターンでAP回復まで待機
    }
}
```

#### 地形・装備によるコスト調整
```go
type TerrainType int

const (
    Plain  TerrainType = 100  // 平地
    Bush   TerrainType = 150  // 茂み
    Swamp  TerrainType = 200  // 沼地
    Wall   TerrainType = -1   // 通行不可
)

func calculateMoveCost(terrain TerrainType, equipment *Equipment) int {
    baseCost := int(terrain)

    // 装備による修正
    if equipment.IsHeavy() {
        baseCost += 50
    }

    // 対角移動の場合は1.42倍
    if isDiagonalMove {
        baseCost = int(float64(baseCost) * 1.42)
    }

    return baseCost
}
```

### UI/UX仕様
- **解像度**: 960x720
- **フレームレート**: 60 FPS
- **操作**: キーボード特化（WASD、十字キー、Tab、Enter）
- **フォント**: ドットフォント、BIZ UDゴシック

### 開発ツール
- **CI/CD**: GitHub Actions
- **テスト**: 自動テスト、VRTテスト
- **リンター**: golangci-lint
- **ビルド**: Make、Wasm対応

---

## 開発計画

### 実装フェーズ

#### Phase 1: ターンベース探索 🔄
- グリッド移動システム
- アクションコストシステム
- ターン管理ロジック
- レイキャスト表示との統合

#### Phase 2: 統合戦闘システム 📋
- マップ上戦闘システム
- スキル選択UI
- 射程・距離計算
- ダメージ・エフェクト統合

#### Phase 3: ローグライク要素拡張 📋
- パーマデスシステム
- ランダムドロップ拡張
- 成長システムの調整
- バランス調整

### 現在の開発状況

#### 実装済み機能 ✅
- ダンジョン探索（1人称視点、レイキャスティング）
- ターンベース戦闘システム
- インベントリ管理
- クラフトシステム（75レシピ）
- 装備システム（4部位）
- プレイヤー管理（シングルキャラクター）
- セーブ/ロード機能
- キーボード操作
- アニメーション・エフェクトシステム

---

## 想定プレイ時間・収益性

### プレイ時間
- **1セッション**: 30分〜1時間（5階区切りでの自然な休憩点）
- **1周**: 2〜4時間（プレイヤースキルにより変動）
- **全体体験**: プレイヤー成長により無限に楽しめる設計

### 収益モデル
- **基本**: 無料プレイ（Web版）
- **拡張**: プレミアム版、DLC、コンテンツ追加
- **プラットフォーム**: Web、Steam、モバイル展開

---

## リスク・課題

### 開発リスク
- **技術的複雑性**: レイキャスティング + ターンベースの統合
- **バランス調整**: ローグライク要素のバランス調整
- **テキスト量**: フレーバーテキストの大量作成・管理

### 市場リスク
- **ニッチ市場**: ローグライクは限定的な市場
- **競合**: 既存ローグライクゲームとの差別化
- **技術的障壁**: WebAssemblyの普及度

### 対応策
- **段階的リリース**: Phase別のアーリーアクセス
- **コミュニティ形成**: プレイヤーフィードバックの積極的な取り入れ
- **マルチプラットフォーム**: Web、PC、モバイル対応

---

## まとめ

RUINSは、実在感ある世界観と意味のある選択システムにより、従来のローグライクを超えた体験を提供します。パーマデスでありながらプレイヤー成長を実感できる独特なシステムと、日本語による深い世界観表現が核心的な差別化要素となります。

技術的には実績のあるGoとEbitengineを使用し、WebAssemblyによる手軽なアクセス性を実現。段階的な開発・リリース計画により、リスクを抑えながら継続的な改善を行います。
